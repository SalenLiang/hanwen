{"version":3,"sources":["generated.js"],"names":["routeConfig","$stateProvider","$urlRouterProvider","state","url","templateUrl","title","sidebarMeta","order","loginCtrl","$scope","$uibModal","$rootScope","loginService","toastr","login","userName","password","showWarnMsg","token","$","val","checkAddress","sid","promise","then","data","showSuccMsg","setTimeout","window","location","href","showErrorMsg","errorMsg","resetPwd","open","animation","size","controller","checkUserName","checkUserEmail","resetPasswordCtrl","resetPassword","attr","removeAttr","params","Object","result","$dismiss","loading","$timeout","closeLoading","msg","clear","success","timeOut","error","warning","showInfoMsg","info","formatJson","json","options","reg","formatted","pad","PADDING","newlineAfterColonIfBeforeBraceOrBracket","spaceAfterColon","JSON","stringify","parse","replace","each","split","index","node","i","indent","padding","match","angular","module","config","loginServiceModule","factory","$http","$compile","$q","loginServiceData","loginName","deferred","defer","method","timeout","status","headers","errorCode","resolve","reject","errInfo","message","userEmail","console","log","appCommonServiceModule","filter","num","isNaN","parseInt","toLocaleString","$window","set","key","value","localStorage","get","defaultValue","setObject","getObject","sessionStorage","$state","errMsg","commonService","page","goLoginPage","showWarningMsg","Boolean","goLoginIndex","wait","showSuccessMsg","getPageNo","pageCount","totalsCount","pageSize","pageNoArray","Array","icount","pageShow","currentPage","start","end","pageList","syntaxHighlight","undefined","style","cls","test","appCommonDirectiveModule","constant","prefixUrl","input","length","push","fieldName","join","substring","phoneNum","directive","permissions","link","scope","element","attrs","menuTitle","hasPermission","trim","show","hide","restrict","template","conf","getPagination","newValue","oldValue","totalItems","itemsPerPage","defaultPerPage","numberOfPages","Math","ceil","perPageOptionsStatus","perPageOptionsLength","perPageOptions","sort","a","b","pagesLength","offset","$parent","$watch","defaultPagesLength","prevPage","onChange","prevIndex","nextBack","nextPage","changeCurrentPage","item","changeItemsPerPage","jumpToPage","jumpPageNum","jumpPageKeyUp","e","keycode","event","keyCode","which","borderColor","require","ctrl","$focused","bind","evt","$apply","$invalid","css","parent","addClass","removeClass","next","default_options","i18n","ru","months","dayOfWeek","en","de","nl","tr","fr","es","th","pl","pt","ch","se","kr","it","lang","format","formatTime","formatDate","step","closeOnDateSelect","closeOnWithoutClick","timepicker","datepicker","minDate","maxDate","minTime","maxTime","allowTimes","opened","inline","onSelectDate","onSelectTime","onChangeMonth","onChangeDateTime","onShow","onClose","onGenerate","withoutCopyright","inverseButton","hours12","prev","dayOfWeekStart","timeHeightInTimePicker","timepickerScrollbar","todayButton","defaultSelect","scrollMonth","scrollTime","scrollInput","mask","validateOnBlur","allowBlank","yearStart","yearEnd","id","roundTime","className","weekends","yearOffset","prototype","indexOf","obj","j","this","fn","xdsoftScroller","_percent","timeboxparent","hasClass","pointerEventToXY","out","x","y","type","touch","originalEvent","touches","changedTouches","pageX","pageY","move","timebox","children","eq","parentHeight","clientHeight","height","offsetHeight","scrollbar","scroller","maximumOffset","append","on","trigger","top","h1","document","body","arguments_callee","off","percent","noTriggerScroll","sh","abs","mousewheel","delta","deltaX","deltaY","stopPropagation","coord","preventDefault","datetimepicker","opt","KEY0","KEY9","_KEY0","_KEY9","CTRLKEY","DEL","ENTER","ESC","BACKSPACE","ARROWLEFT","ARROWUP","ARROWRIGHT","ARROWDOWN","TAB","F5","AKEY","CKEY","VKEY","ZKEY","YKEY","ctrlDown","isPlainObject","extend","createDateTimePicker","xdsoft_copyright","mounth_picker","calendar","find","monthselect","yearselect","after","select","_xdsoft_datetime","currentTime","items","call","setOptions","_options","setCurrentTime","timeOffset","tmpDate","exec","Date","parseDate","getTime","getTimezoneOffset","now","dateFormat","getCaretPos","selection","createRange","range","getBookmark","charCodeAt","setSelectionRange","selectionStart","setCaretPos","pos","String","getElementById","createTextRange","textRange","collapse","moveEnd","moveStart","isValidValue","RegExp","digit","fromCharCode","substr","empty","dayOfWeekStartPrev","scroll_element","_this","d","setFullYear","getFullYear","isValidDate","toString","dTime","strtodatetime","getCurrentTime","nextMonth","month","getMonth","setDate","min","daysInMonth","getDate","setMonth","prevMonth","sDateTime","strtodate","sDate","strtotime","sTime","str","$this","timer","stop","arguments_callee1","v","arguments_callee2","clearTimeout","period","arguments_callee4","pheight","arguments_callee5","table","today","getDay","m","classes","getDaysInMonth","html","text","time","h","line_time","setHours","getHours","setMinutes","getMinutes","isArray","timerclick","unmousewheel","fl","current_time_index","setPos","left","scrollTop","offsetWidth","width","arguments_callee6","ct","is","elementSelector","focus","destroyDateTimePicker","remove","jQuery","parseFunctions","count","parseRegexes","formatFunctions","createNewFormat","func","funcName","code","special","charAt","escape","getFormatCode","eval","character","createParser","regexNum","currentGroup","regex","formatCodeToRegex","g","s","c","dayNames","monthNames","getTimezone","getGMTOffset","leftPad","floor","getDayOfYear","isLeapYear","getWeekOfYear","jan1","write","year","getFirstDayOfMonth","day","getLastDayOfMonth","getSuffix","string","y2kYear","monthNumbers","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","patterns","ISO8601LongPattern","ISO8601ShortPattern","ShortDatePattern","LongDatePattern","FullDateTimePattern","MonthDayPattern","ShortTimePattern","LongTimePattern","SortableDateTimePattern","UniversalSortableDateTimePattern","YearMonthPattern","define","amd","exports","handler","orgEvent","args","slice","arguments","absDelta","absDeltaXY","fix","wheelDelta","detail","wheelDeltaY","wheelDeltaX","lowestDelta","max","lowestDeltaXY","unshift","dispatch","handle","apply","toFix","toBind","documentMode","fixHooks","mouseHooks","setup","addEventListener","onmousewheel","teardown","removeEventListener","unbind","f","global","self","SockJS","t","n","r","o","u","Error","l","1","transportList","_sockjs_onload","./main","./transport-list","2","CloseEvent","Event","initEvent","wasClean","reason","inherits","./event","3","EventEmitter","EventTarget","removeAllListeners","_listeners","once","listener","removeListener","fired","emit","listeners","ai","addListener","./eventtarget","4","eventType","canBubble","cancelable","bubbles","timeStamp","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","5","arr","concat","idx","dispatchEvent","6","TransportMessageEvent","7","FacadeJS","transport","_transport","_transportMessage","_transportClose","JSON3","iframeUtils","postMessage","frame","_send","send","_close","close","./utils/iframe","json3","8","process","urlUtils","eventUtils","InfoIframeReceiver","loc","debug","env","NODE_ENV","availableTransports","transportMap","forEach","at","facadeTransport","transportName","parentOrigin","bootstrap_iframe","facade","currentWindowId","hash","onMessage","source","origin","iframeMessage","ignored","windowId","p","version","transUrl","baseUrl","isOriginEqual","attachEvent","./facade","./info-iframe-receiver","./location","./utils/event","./utils/url","9","InfoAjax","AjaxObject","t0","xo","rtt","objectUtils","isObject","./utils/object","events","10","InfoReceiverIframe","ir","XHRLocalObject","./info-ajax","./transport/sender/xhr-local","11","InfoIframe","go","ifr","IframeTransport","utils","enabled","./transport/iframe","12","InfoReceiver","urlInfo","doXhr","XDR","XHRCors","XHRLocal","XHRFake","_getReceiver","sameOrigin","sameScheme","addPath","timeoutRef","_cleanup","./info-iframe","./transport/sender/xdr","./transport/sender/xhr-cors","./transport/sender/xhr-fake","13","protocol","host","port","14","protocols","TypeError","readyState","CONNECTING","extensions","protocols_whitelist","warn","_transportsWhitelist","transports","_transportOptions","transportOptions","sessionId","_generateSessionId","random","_server","server","numberString","parsedUrl","URL","SyntaxError","secure","sortedProtocols","proto","getOrigin","_origin","toLowerCase","pathname","_urlInfo","nullOrigin","browser","hasDomain","isSchemeEqual","_ir","_receiveInfo","userSetCode","CLOSING","CLOSED","OPEN","quote","_rto","countRTO","_transUrl","base_url","enabledTransports","filterToEnabled","_transports","main","_connect","Transport","shift","needBody","timeoutMs","roundTrips","_transportTimeoutId","_transportTimeout","transportUrl","transportObj","payload","content","_open","forceFail","onmessage","onclose","onerror","./event/close","./event/event","./event/eventtarget","./event/trans-message","./iframe-bootstrap","./info-receiver","./shims","./utils/browser","./utils/escape","./utils/log","./utils/random","./utils/transport","./version","url-parse","15","toInteger","ToUint32","Empty","defineProperty","ArrayPrototype","ObjectPrototype","FunctionPrototype","Function","StringPrototype","array_slice","_toString","isFunction","isString","supportsDescriptors","object","name","forceAssign","configurable","enumerable","writable","defineProperties","map","hasOwnProperty","toObject","that","target","binder","bound","boundLength","boundArgs","boxedString","splitString","properlyBoxesContext","properlyBoxesNonStrict","properlyBoxesStrict","_","__","context","fun","thisp","hasFirefox2IndexOfBug","sought","string_split","compliantExecNpcg","separator","limit","separator2","lastIndex","lastLength","output","flags","ignoreCase","multiline","extended","sticky","lastLastIndex","ws","zeroWidth","wsRegexChars","trimBeginRegexp","trimEndRegexp","hasTrimWhitespaceBug","string_substr","hasNegativeSubstrBug","16","./transport/eventsource","./transport/htmlfile","./transport/jsonp-polling","./transport/lib/iframe-wrap","./transport/websocket","./transport/xdr-polling","./transport/xdr-streaming","./transport/xhr-polling","./transport/xhr-streaming","17","AbstractXHRObject","opts","_start","XHR","XMLHttpRequest","xhr","addQuery","unloadRef","unloadAdd","ontimeout","noCredentials","supportsCORS","withCredentials","setRequestHeader","onreadystatechange","responseText","abort","unloadDel","axo","cors","../../utils/event","../../utils/url","18","EventSource","19","Driver","WebSocket","MozWebSocket","20","EventSourceTransport","AjaxBasedTransport","EventSourceReceiver","XHRCorsObject","EventSourceDriver","./lib/ajax-based","./receiver/eventsource","./sender/xhr-cors","eventsource","21","HtmlFileTransport","HtmlfileReceiver","./receiver/htmlfile","./sender/xhr-local","22","iframeUrl","iframeObj","createIframe","onmessageCallback","_message","detachEvent","cleanup","loaded","cdata","post","iframeEnabled","../utils/event","../utils/iframe","../utils/random","../utils/url","../version","23","JsonPTransport","SenderReceiver","jsonpSender","JsonpReceiver","./lib/sender-receiver","./receiver/jsonp","./sender/jsonp","24","createAjaxSender","callback","Content-type","ajaxUrl","err","urlSuffix","Receiver","./sender-receiver","25","BufferedSender","sender","sendBuffer","sendStop","sendSchedule","sendScheduleWait","tref","26","IframeWrapTransport","iframeInfo","../../utils/object","../iframe","27","Polling","receiveUrl","_scheduleReceiver","poll","pollIsClosing","28","senderFunc","pollUrl","./buffered-sender","./polling","29","decodeURI","30","polluteGlobalNamespace","decodeURIComponent","WPrefix","htmlfileEnabled","constructFunc","createHtmlfile","../../utils/iframe","../../utils/random","31","urlWithId","encodeURIComponent","_callback","_createScript","timeoutId","_abort","scriptErrorTimeout","aborting","script2","parentNode","removeChild","script","onload","onclick","_scriptError","errorTimer","loadedOkay","createElement","src","charset","htmlFor","async","isOpera","head","getElementsByTagName","insertBefore","firstChild","../../utils/browser","32","XhrReceiver","bufferPosition","_chunkHandler","buf","33","iframe","createForm","form","display","position","enctype","acceptCharset","area","appendChild","action","submit","completed","34","XDRObject","xdr","XDomainRequest","_error","onprogress","35","XhrDriver","../driver/xhr","36","to","37","38","WebSocketTransport","ignore","WebsocketDriver","./driver/websocket","39","XdrPollingTransport","XdrStreamingTransport","./receiver/xhr","./sender/xdr","./xdr-streaming","40","cookie_needed","41","XhrPollingTransport","42","XhrStreamingTransport","../utils/browser","43","crypto","getRandomValues","randomBytes","bytes","Uint8Array","44","navigator","userAgent","isKonqueror","domain","45","extraLookup","extraEscapable","unrollLookup","escapable","unrolled","quoted","46","onUnload","afterUnload","isChromePackagedApp","chrome","app","runtime","ref","triggerUnloadCallbacks","unloadTriggered","./random","47","errorCallback","unattach","contentWindow","doc","CollectGarbage","parentWindow","./browser","48","logObject","level","levelExists","49","prop","50","_randomStringChars","ret","number","51","transportsWhitelist","trans","websocket","52","hostname","res","path","qs","q","53","54","useColors","documentElement","firebug","exception","$1","formatArgs","namespace","humanize","diff","color","lastC","splice","save","namespaces","storage","removeItem","load","localstorage","local","colors","formatters","enable","./debug","55","selectColor","prevColor","disabled","curr","ms","prevTime","coerce","formatter","logFn","len","skips","names","disable","stack","56","parseFloat","short","round","long","plural","57","create","ctor","superCtor","super_","constructor","TempCtor","58","runInContext","has","undef","isSupported","serialized","stringifySupported","isExtended","toJSON","Number","getClass","parseSupported","root","nativeJSON","isProperty","objectProto","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","functionClass","dateClass","numberClass","stringClass","arrayClass","booleanClass","charIndexBuggy","Months","property","members","__proto__","original","Properties","valueOf","isConstructor","hasProperty","objectTypes","Escapes","92","leadingZeroes","toPaddedString","unicodePrefix","useCharIndex","symbols","charCode","serialize","properties","whitespace","indentation","date","hours","minutes","seconds","milliseconds","results","prefix","pop","Index","Source","Unescapes","98","116","110","102","114","lex","begin","isSigned","hasMembers","update","walk","isLoader","function","freeExports","nodeType","freeGlobal","previousJSON","isRestored","noConflict","59","extractProtocol","address","protocolre","slashes","rest","parser","instruction","relative","relativere","lolcation","extracted","instructions","query","required","username","auth","NaN","part","./lolcation","querystringify","requires-port","60","finaldestination","unescape","./","61","querystring","pairs","62"],"mappings":"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","file":"scripts/loginapp-b5605bc944.js","sourcesContent":["(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdminLogin', [\r\n\t  'ngAnimate',\r\n\t  'ui.bootstrap',\r\n\t  'ui.sortable',\r\n\t  'ui.router',\r\n\t  'ngTouch',\r\n\t  'toastr',\r\n\t  'smart-table',\r\n\t  \"xeditable\",\r\n\t  'ui.slimscroll',\r\n\t  'ngJsTree',\r\n\t  'angular-progress-button-styles',\r\n\t  \r\n\t  'BlurAdmin.login.loginCtrl'\r\n  ])\r\n  \r\n\r\n})();\nangular.module('BlurAdmin.login.loginCtrl',['BlurAdmin.login.loginService'])\r\n\t\t\t\t\t\t.controller('loginCtrl', loginCtrl)\r\n\t\t\t\t\t\t.controller('resetPasswordCtrl', resetPasswordCtrl)\r\n\t\t\t\t\t\t.config(routeConfig);\r\n  function routeConfig($stateProvider, $urlRouterProvider) {\r\n    $stateProvider.state('dashboard', {\r\n          url: '/dashboard',\r\n          templateUrl: 'index.html',\r\n          title: 'Basic Tables',\r\n          sidebarMeta: {\r\n            order: 0\r\n          }\r\n       });\r\n  }\t\t\t\t\t\t\r\n\r\n/*controller*/\r\nfunction loginCtrl($scope,$uibModal,$rootScope, loginService ,toastr) {\r\n    //\r\n\t$scope.login = function(){\r\n        var userName = $scope.userName;\r\n        var password = $scope.password;\r\n        if(userName == \"\" || password == \"\"){\r\n            showWarnMsg(toastr,\"\");\r\n            return;\r\n        }\r\n        //\r\n        var token = $('#token').val();\r\n        var checkAddress = $('#checkAddress').val();\r\n        var sid = $('#sid').val();\r\n        var promise = loginService.login(userName, password,token,checkAddress,sid);\r\n        promise.then(function (data) {\r\n            showSuccMsg(toastr,\"\");\r\n            setTimeout(function(){\r\n                window.location.href = \"/dashboard\";\r\n            },500)\r\n        },function (data) {\r\n            showErrorMsg(toastr,data.errorMsg);\r\n        });\r\n\t};\r\n\r\n    //\r\n    $scope.resetPwd = function(){\r\n        $uibModal.open({\r\n            animation: true,\r\n            size: 'md',\r\n            templateUrl: 'resetPassword.html',\r\n            controller:function(){\r\n                $rootScope.checkUserName = null;\r\n                $rootScope.checkUserEmail = null;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction resetPasswordCtrl($scope,$uibModal, loginService ,toastr){\r\n    $scope.resetPassword = function(){\r\n        //10s\r\n        $('#rpBtn').attr(\"disabled\",true);\r\n        window.setTimeout(function(){\r\n            $('#rpBtn').removeAttr(\"disabled\");\r\n        },10000)\r\n        var params = new Object();\r\n        params.checkUserName = $scope.checkUserName;\r\n        params.checkUserEmail = $scope.checkUserEmail;\r\n        var promise = loginService.resetPassword(params);\r\n        promise.then(function (data) {\r\n            if(data.result == '0'){\r\n                showWarnMsg(toastr,data.errorMsg);\r\n            }else{\r\n                showSuccMsg(toastr,data.errorMsg);\r\n            }\r\n            $scope.$dismiss();\r\n        },function (data) {\r\n            showErrorMsg(toastr,data.errorMsg);\r\n        });\r\n    }\r\n}\r\n\nvar loginServiceModule = angular.module('BlurAdmin.login.loginService',[]);\r\n\r\nloginServiceModule.factory('loginService', function($http,$rootScope, $compile, $q){\r\n\tvar loginServiceData = new Object();\r\n\r\n\r\n\r\n\tloginServiceData.login = function(loginName, password,token,checkAddress,sid) {\r\n\t\tvar deferred = $q.defer();\r\n\t\t$http({\r\n\t\t\tmethod : \"post\",\r\n\t\t\t//url: 'http://sr.fahaicc.com/serviceManager/login',//'http://sr.fahaicc.com/serviceManager/login',\r\n\t\t\turl: 'http://localhost:8001/serviceManager/login',\r\n\r\n\t\t\ttimeout : 10000,\r\n\t\t\tparams : {\r\n\t\t\t\tuserName : loginName,\r\n\t\t\t\tpassword : password,\r\n\t\t\t\ttoken : token,\r\n\t\t\t\tcheckAddress : checkAddress,\r\n\t\t\t\tsid : sid\r\n\t\t\t}\r\n\t\t}).success(function(data, status, headers, config) {\r\n\t\t\tif (data.errorCode == 0) {\r\n\t\t\t\tdeferred.resolve(data);\r\n\t\t\t} else {\r\n\t\t\t\tdeferred.reject(data);\r\n\t\t\t}\r\n\t\t}).error(function(data, status, headers, config) {\r\n\t\t\terrInfo = {\r\n\t\t\t\t\t\"data\" : data,\r\n\t\t\t\t\t\"status\" : status,\r\n\t\t\t\t\t\"headers\" : headers,\r\n\t\t\t\t\t\"config\" : config\r\n\t\t\t\t};\r\n\t\t\t\terrInfo.message = \"404\";\r\n\t\t});\r\n\t\treturn deferred.promise;\r\n\t};\r\n\tloginServiceData.resetPassword = function(params) {\r\n\t\tvar deferred = $q.defer();\r\n\t\t$http({\r\n\t\t\tmethod : \"post\",\r\n\t\t\turl: 'serviceManager/login/resetPassword',\r\n\t\t\ttimeout : 10000,\r\n\t\t\tparams : {\r\n\t\t\t\tuserName : params.checkUserName,\r\n\t\t\t\tuserEmail : params.checkUserEmail\r\n\t\t\t}\r\n\t\t}).success(function(data, status, headers, config) {\r\n\t\t\tconsole.log(data);\r\n\t\t\tif (data.errorCode == 0) {\r\n\t\t\t\tdeferred.resolve(data);\r\n\t\t\t} else {\r\n\t\t\t\tdeferred.reject(data);\r\n\t\t\t}\r\n\t\t}).error(function(data, status, headers, config) {\r\n\t\t\terrInfo = {\r\n\t\t\t\t\t\"data\" : data,\r\n\t\t\t\t\t\"status\" : status,\r\n\t\t\t\t\t\"headers\" : headers,\r\n\t\t\t\t\t\"config\" : config\r\n\t\t\t\t};\r\n\t\t\t\terrInfo.message = \"404\";\r\n\t\t});\r\n\t\treturn deferred.promise;\r\n\t};\r\n\r\n\r\n\treturn loginServiceData;\r\n});\r\n\n/**\r\n *\r\n */\r\nvar appCommonServiceModule = angular.module('app.commonService', []);\r\n\r\nappCommonServiceModule.filter('numformt', function() {  \r\n   return function(num) {  \r\n   \t\tif(!isNaN(num)){\r\n   \t\t\treturn parseInt(num).toLocaleString();\r\n   \t\t}else{\r\n   \t\t\treturn 0;\r\n   \t\t}\r\n   };  \r\n});\r\n\r\nappCommonServiceModule.factory('locals',['$window',function($window){\r\n    return{        //\r\n        set :function(key,value){\r\n            $window.localStorage[key]=value;\r\n        },        //\r\n        get:function(key,defaultValue){\r\n            return  $window.localStorage[key] || defaultValue;\r\n        },        //JSON\r\n        setObject:function(key,value){\r\n            $window.localStorage[key]=JSON.stringify(value);\r\n        },        //\r\n        getObject: function (key) {\r\n            return JSON.parse($window.localStorage[key] || '{}');\r\n        }\r\n\r\n    }\r\n}]);\r\nappCommonServiceModule.factory('sessionLocals',['$window',function($window){\r\n    return{        //\r\n        set :function(key,value){\r\n            $window.sessionStorage[key]=value;\r\n        },        //\r\n        get:function(key,defaultValue){\r\n            return  $window.sessionStorage[key] || defaultValue;\r\n        },        //JSON\r\n        setObject:function(key,value){\r\n            $window.sessionStorage[key]=JSON.stringify(value);\r\n        },        //\r\n        getObject: function (key) {\r\n            return JSON.parse($window.sessionStorage[key] || '{}');\r\n        }\r\n\r\n    }\r\n}]);\r\n \r\nappCommonServiceModule.factory('commonService', function($http, $rootScope, $compile, $state, $q, $uibModal, toastr) {\r\n\r\n\t$rootScope.errMsg = {};\r\n    var commonService = new Object();\r\n\r\n    // \r\n    commonService.open = function(page, size) {\r\n        $uibModal.open({\r\n            animation: true,\r\n            templateUrl: page,\r\n            size: size\r\n        });\r\n    };\r\n    \r\n    //\r\n    commonService.goLoginPage = function(status){\r\n    \tconsole.log(status);\r\n    \t$rootScope.loading = false;\r\n        if(status == 1){\r\n            commonService.showWarningMsg(\"\");\r\n        }else if(status == 405 || status == 302){\r\n    \t\tcommonService.showWarningMsg(status+\"\");\r\n    \t\tsetTimeout(function(){window.location.href = \"/\";},1000);\r\n    \t}else if(status == 200 || !Boolean(status)){\r\n    \t\tcommonService.showWarningMsg(\"\");\r\n    \t\tsetTimeout(function(){window.location.href = \"/\";},1000);\r\n    \t}\r\n    }\r\n    \r\n    commonService.goLoginIndex = function(){\r\n    \t$rootScope.wait = false;\r\n\t\tcommonService.showWarningMsg(\"\");\r\n\t\tsetTimeout(function(){window.location.href = \"/\";},1000);\r\n    }\r\n    \r\n\t// \r\n    commonService.showSuccessMsg = function(msg) {\r\n\t\ttoastr.success(msg);\r\n    };\r\n    \r\n    // \r\n    commonService.showErrorMsg = function(msg) {\r\n        toastr.error(msg, 'Error');\r\n    };\r\n    \r\n    // \r\n    commonService.showInfoMsg = function(msg) {\r\n\t\ttoastr.info(msg, 'Information');\r\n\t};\r\n\t\r\n\t// \r\n\tcommonService.showWarningMsg = function(msg) {\r\n\t\ttoastr.warning(msg, 'Warning');\r\n\t};\r\n    \r\n    //\r\n    commonService.getPageNo = function(data) {\r\n        data.pageCount = parseInt((data.totalsCount + data.pageSize - 1) / data.pageSize);\r\n        var pageNoArray = new Array();\r\n        var icount = 0;\r\n\r\n        //\r\n        if (data.totalsCount == 0) {\r\n            data.pageShow = 0;\r\n        } else {\r\n            data.pageShow = 1;\r\n            //\r\n            if (data.currentPage > data.pageCount) {\r\n                data.currentPage = data.pageCount;\r\n            }\r\n            if (data.currentPage < 1) {\r\n                data.currentPage = 1;\r\n            }\r\n\r\n            //,\"...\"0\r\n            var start = 1;\r\n            if (data.currentPage > 4) {\r\n                start = data.currentPage - 1;\r\n                pageNoArray[icount++] = 1;\r\n                pageNoArray[icount++] = 2;\r\n                pageNoArray[icount++] = '-1';\r\n            }\r\n            //\r\n            var end = data.currentPage + 1;\r\n            if (end > data.pageCount) {\r\n                end = data.pageCount;\r\n            }\r\n            for (var i = start; i <= end; i++) {\r\n                pageNoArray[icount++] = i;\r\n            }\r\n            //,\"...\"0\r\n            if (end < data.pageCount - 2) {\r\n                pageNoArray[icount++] = '-2'\r\n            }\r\n            if (end < data.pageCount - 1) {\r\n                pageNoArray[icount++] = data.pageCount - 1;\r\n            }\r\n            if (end < data.pageCount) {\r\n                pageNoArray[icount++] = data.pageCount;\r\n            }\r\n        }\r\n        data.pageList = pageNoArray;\r\n        return data;\r\n    }\r\n\r\n\t//json\r\n\tcommonService.syntaxHighlight = function(json) {\r\n\t    if (typeof json != 'string') {\r\n\t        json = JSON.stringify(json, undefined, 2);\r\n\t    }\r\n\t    json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\r\n\t    var style = '<style>pre {font-size: 16px; }.string { color: green; }.number { color: #209e91; }.boolean { color: blue; }.null { color: magenta; }.key { color: red; }</style>';\r\n\t    return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, function(match) {\r\n\t        var cls = 'number';\r\n\t        if (/^\"/.test(match)) {\r\n\t            if (/:$/.test(match)) {\r\n\t                cls = 'key';\r\n\t            } else {\r\n\t                cls = 'string';\r\n\t            }\r\n\t        } else if (/true|false/.test(match)) {\r\n\t            cls = 'boolean';\r\n\t        } else if (/null/.test(match)) {\r\n\t            cls = 'null';\r\n\t        }\r\n\t        return '<span class=\"' + cls + '\">' + match + '</span>';\r\n\t    }) + style;\r\n\t}\r\n\r\n    return commonService;\r\n});\r\n\r\n\t\r\n\nvar appCommonDirectiveModule = angular.module('app.commonDirective', []);\n\n\n//\nappCommonDirectiveModule.constant(\"Constant\",{\n\t//prefixUrl:\"http://localhost:8001/serviceManager\",\n    prefixUrl:\"http://pingtai.fahaicc.com/serviceManager\",   //URL\n\n    timeout:10000                                       //url\n});\n\n//loading\nfunction loading($rootScope,$timeout){\n    $rootScope.loading=true;    //\n    $timeout(function () {\n        closeLoading($rootScope);\n    }, 300);\n}\n//loading\nfunction closeLoading($rootScope){\n    $rootScope.loading=false;\n}\n\n//\nfunction showSuccMsg(toastr,msg) {\n    //TODO \n    toastr.clear();\n    toastr.success(msg,'',{\"timeOut\": \"1500\"});\n}\n\nfunction showErrorMsg(toastr,msg) {\n    //TODO \n    toastr.clear();\n    toastr.error(msg, '',{\"timeOut\": \"1500\"});\n}\n\nfunction showWarnMsg(toastr,msg) {\n    toastr.clear();\n    toastr.warning(msg, '',{\"timeOut\": \"1500\"});\n}\n\nfunction showInfoMsg(toastr,msg) {\n    //TODO \n    toastr.info(msg, 'info');\n}\n\n//\nappCommonDirectiveModule.filter('parseFieldName', function() {\n    return function(input) {\n        var value = [];\n        for (var i=0;i<input.length;i++){\n            value.push(input[i].fieldName);\n        }\n        var result = value.join(\",\");\n        if(result.length>10){\n            result = result.substring(0,10)+\"...\";\n        }\n        return result;\n    }\n});\n\n//,4****\nappCommonDirectiveModule.filter('phoneDesensitization', function() {\n    return function(phoneNum) {\n        phoneNum=phoneNum+\"\";//phoneNumnumber,numberString,substring\n        return phoneNum.substring(0,3)+'****'+phoneNum.substring(7);\n    }\n});\n\n//\nappCommonDirectiveModule.directive('hasPermission', function(permissions) {\n    return {\n        link : function(scope, element, attrs) {\n            //title\n            var menuTitle = attrs.hasPermission.trim();\n            //\n            if (permissions.hasPermission(menuTitle)){\n                element.show();\n            } else {\n                element.hide();\n            }\n        },\n        controller: [\"$scope\", function($scope) {\n            /***/\n        }]\n    };\n});\n\n//\nappCommonDirectiveModule.directive('tmPagination',['$timeout',function($timeout,$scope,toastr){\n    return {\n        restrict: 'EA',\n        template: '<div class=\"page-list\">' +\n            '<ul class=\"pagination\" ng-show=\"conf.totalItems > 0\">' +\n            '<li ng-class=\"{disabled: conf.currentPage == 1}\" ng-click=\"prevIndex()\"><span></span></li>' +\n            '<li ng-class=\"{disabled: conf.currentPage == 1}\" ng-click=\"prevPage()\"><span></span></li>' +\n            '<li ng-repeat=\"item in pageList track by $index\" ng-class=\"{active: item == conf.currentPage, separate: item == \\'...\\'}\" ' +\n            'ng-click=\"changeCurrentPage(item)\">' +\n            '<span>{{ item }}</span>' +\n            '</li>' +\n            '<li ng-class=\"{disabled: conf.currentPage == conf.numberOfPages}\" ng-click=\"nextPage()\"><span></span></li>' +\n            '<li ng-class=\"{disabled: conf.currentPage == conf.numberOfPages}\" ng-click=\"nextBack()\"><span></span></li>' +\n            '</ul>' +\n            '<div class=\"page-total\" ng-show=\"conf.totalItems > 0\">' +\n/*\n            '<select ng-model=\"conf.itemsPerPage\" ng-options=\"option for option in conf.perPageOptions \" ng-change=\"changeItemsPerPage()\"></select>' +\n*/\n            '<strong>{{ conf.totalItems }}</strong> ' +\n            '<input type=\"text\"  ng-model=\"jumpPageNum\" ng-keyup=\"jumpPageKeyUp($event)\"/>' +\n            '</div>' +\n            '<div class=\"no-items\" ng-show=\"conf.totalItems <= 0\"></div>' +\n            '</div>',\n        replace: true,\n        scope: {\n            conf: '='\n        },\n        link: function(scope, element, attrs) {\n\n            var conf = scope.conf;\n            scope.$watch('conf.totalItems', function(value, oldValue) {\n                conf = scope.conf;\n                if(conf == undefined){\n                    return\n                }\n                // onChange\n                /*if(!value || value == oldValue) {\n                    if(conf.onChange) {\n                        conf.onChange();\n                    }\n                }*/\n                getPagination();\n\n                // \n                if(conf.pagesLength) {\n                    // \n                    conf.pagesLength = parseInt(conf.pagesLength, 10);\n\n                    if(!conf.pagesLength) {\n                        conf.pagesLength = defaultPagesLength;\n                    }\n                    // \n                    if(conf.pagesLength % 2 === 0) {\n                        conf.pagesLength += 1;\n                    }\n                } else {\n                    conf.pagesLength = defaultPagesLength\n                }\n\n                // \n                if(!conf.perPageOptions){\n                    conf.perPageOptions = defaultPagesLength;\n                }\n            });\n\n\n            //timeoutpromise\n            // var timer = $timeout(\n            //     function() {\n            //         conf = scope.conf;\n            //         if(conf != undefined){\n            //             $timeout.cancel( timer );\n            //         }\n            //     },\n            //     100\n            // );\n            // \n            var defaultPagesLength = 10;\n\n            // \n            var defaultPerPageOptions = [10, 15, 20, 30, 50];\n\n            // \n            var defaultPerPage = 15;\n\n            // pageList\n            function getPagination(newValue, oldValue) {\n                 if(conf.currentPage) {\n                     conf.currentPage = parseInt(scope.conf.currentPage, 10);\n                 }\n                if(!conf.currentPage) {\n                    conf.currentPage = 1;\n                }\n                // conf.totalItems\n                if(conf.totalItems) {\n                    conf.totalItems = parseInt(conf.totalItems, 10);\n                }\n\n                // conf.totalItems\n                if(!conf.totalItems) {\n                    conf.totalItems = 0;\n                    return;\n                }\n\n                // conf.itemsPerPage\n                if(conf.itemsPerPage) {\n                    conf.itemsPerPage = parseInt(conf.itemsPerPage, 10);\n                }\n                if(!conf.itemsPerPage) {\n                    conf.itemsPerPage = defaultPerPage;\n                }\n                // numberOfPages\n                conf.numberOfPages = Math.ceil(conf.totalItems/conf.itemsPerPage);\n\n                // >0\n                if(scope.conf.numberOfPages > 0 && scope.conf.currentPage > scope.conf.numberOfPages){\n                    scope.conf.currentPage = scope.conf.numberOfPages;\n                }\n\n                // itemsPerPageperPageOptionsitemsPerPage\n                var perPageOptionsLength = scope.conf.perPageOptions.length;\n\n                // \n                var perPageOptionsStatus;\n                for(var i = 0; i < perPageOptionsLength; i++){\n                    if(conf.perPageOptions[i] == conf.itemsPerPage){\n                        perPageOptionsStatus = true;\n                    }\n                }\n                // itemsPerPageperPageOptionsitemsPerPage\n                if(!perPageOptionsStatus){\n                    conf.perPageOptions.push(conf.itemsPerPage);\n                }\n\n                // sort\n                conf.perPageOptions.sort(function(a, b) {return a - b});\n\n                // \n                scope.pageList = [];\n                if(conf.numberOfPages <= conf.pagesLength){\n                    // \n                    for(i =1; i <= conf.numberOfPages; i++){\n                        scope.pageList.push(i);\n                    }\n                }else{\n                    // 1....2....3....\n                    // \n                    var offset = (conf.pagesLength - 1) / 2;\n                    if(conf.currentPage <= offset){\n                        // ...\n                        for(i = 1; i <= offset + 1; i++){\n                            scope.pageList.push(i);\n                        }\n                        scope.pageList.push('...');\n                        scope.pageList.push(conf.numberOfPages);\n                    }else if(conf.currentPage > conf.numberOfPages - offset){\n                        scope.pageList.push(1);\n                        scope.pageList.push('...');\n                        for(i = offset + 1; i >= 1; i--){\n                            scope.pageList.push(conf.numberOfPages - i);\n                        }\n                        scope.pageList.push(conf.numberOfPages);\n                    }else{\n                        // ...\n                        scope.pageList.push(1);\n                        scope.pageList.push('...');\n\n                        for(i = Math.ceil(offset / 2) ; i >= 1; i--){\n                            scope.pageList.push(conf.currentPage - i);\n                        }\n                        scope.pageList.push(conf.currentPage);\n                        for(i = 1; i <= offset / 2; i++){\n                            scope.pageList.push(conf.currentPage + i);\n                        }\n\n                        scope.pageList.push('...');\n                        scope.pageList.push(conf.numberOfPages);\n                    }\n                }\n                scope.$parent.conf = conf;\n            }\n\n            // prevPage\n            scope.prevPage = function() {\n                if(conf.currentPage > 1){\n                    conf.currentPage -= 1;\n                }\n                scope.conf.currentPage = conf.currentPage;\n                getPagination();\n                if(conf.onChange) {\n                    conf.onChange();\n                }\n            };\n            //\n            scope.prevIndex = function () {\n                if (scope.conf.currentPage > 1) {\n                    scope.conf.currentPage = 1;\n                    getPagination();\n                    if (conf.onChange) {\n                        conf.onChange();\n                    }\n                }\n\n            };\n            //\n            scope.nextBack = function () {\n                if (scope.conf.currentPage < conf.numberOfPages) {\n                    scope.conf.currentPage = conf.numberOfPages ;\n                    getPagination();\n                    if (conf.onChange) {\n                        conf.onChange();\n                    }\n                }\n\n            };\n            // nextPage\n            scope.nextPage = function() {\n                if(conf.currentPage < conf.numberOfPages){\n                    conf.currentPage += 1;\n                }\n                scope.conf.currentPage = conf.currentPage;\n                getPagination();\n                if(conf.onChange) {\n                    conf.onChange();\n                }\n            };\n\n            // \n            scope.changeCurrentPage = function(item) {\n\n                if(item == '...'){\n                    return;\n                }else{\n                    conf.currentPage = item;\n                    scope.conf.currentPage = item;\n                    getPagination();\n                    // conf.onChange()\n                    if(conf.onChange) {\n                        conf.onChange();\n                    }\n                }\n            };\n\n            // \n            scope.changeItemsPerPage = function() {\n                // 1\n                conf.currentPage = 1;\n                getPagination();\n                // conf.onChange()\n                if(conf.onChange) {\n                    conf.onChange();\n                }\n            };\n\n            // \n            scope.jumpToPage = function() {\n                var num = scope.jumpPageNum;\n                if(num.match(/\\d+/)) {\n                    num = parseInt(num, 10);\n\n                    if(num && num != conf.currentPage) {\n                        if(num > conf.numberOfPages) {\n                            num = conf.numberOfPages;\n                        }\n                        // \n                        conf.currentPage = num;\n                        scope.conf.currentPage = num;\n                        getPagination();\n                        // conf.onChange()\n                        if(conf.onChange) {\n                            conf.onChange();\n                        }\n                        scope.jumpPageNum = '';\n                    }\n                }else{\n                    showWarnMsg(toastr,\"\");\n                }\n\n            };\n\n            scope.jumpPageKeyUp = function(e) {\n                var keycode = window.event ? e.keyCode :e.which;\n\n                if(keycode == 13) {\n                    scope.jumpToPage();\n                }\n            };\n        }\n    };\n}]);\n\nfunction formatJson(json, options) {\n    var reg = null,\n        formatted = '',\n        pad = 0,\n        PADDING = '    '; // one can also use '\\t' or a different number of spaces\n\n    // optional settings\n    options = options || {};\n    // remove newline where '{' or '[' follows ':'\n    options.newlineAfterColonIfBeforeBraceOrBracket = (options.newlineAfterColonIfBeforeBraceOrBracket === true) ? true : false;\n    // use a space after a colon\n    options.spaceAfterColon = (options.spaceAfterColon === false) ? false : true;\n\n    // begin formatting...\n    if (typeof json !== 'string') {\n        // make sure we start with the JSON as a string\n        json = JSON.stringify(json);\n    } else {\n        // is already a string, so parse and re-stringify in order to remove extra whitespace\n        json = JSON.parse(json);\n        json = JSON.stringify(json);\n    }\n\n    // add newline before and after curly braces\n    reg = /([\\{\\}])/g;\n    json = json.replace(reg, '\\r\\n$1\\r\\n');\n\n    // add newline before and after square brackets\n    reg = /([\\[\\]])/g;\n    json = json.replace(reg, '\\r\\n$1\\r\\n');\n\n    // add newline after comma\n    reg = /(\\,)/g;\n    json = json.replace(reg, '$1\\r\\n');\n\n    // remove multiple newlines\n    reg = /(\\r\\n\\r\\n)/g;\n    json = json.replace(reg, '\\r\\n');\n\n    // remove newlines before commas\n    reg = /\\r\\n\\,/g;\n    json = json.replace(reg, ',');\n\n    // optional formatting...\n    if (!options.newlineAfterColonIfBeforeBraceOrBracket) {\n        reg = /\\:\\r\\n\\{/g;\n        json = json.replace(reg, ':{');\n        reg = /\\:\\r\\n\\[/g;\n        json = json.replace(reg, ':[');\n    }\n    if (options.spaceAfterColon) {\n        reg = /\\:/g;\n        json = json.replace(reg, ':');\n    }\n\n    $.each(json.split('\\r\\n'), function(index, node) {\n        var i = 0,\n            indent = 0,\n            padding = '';\n\n        if (node.match(/\\{$/) || node.match(/\\[$/)) {\n            indent = 1;\n        } else if (node.match(/\\}/) || node.match(/\\]/)) {\n            if (pad !== 0) {\n                pad -= 1;\n            }\n        } else {\n            indent = 0;\n        }\n\n        for (i = 0; i < pad; i++) {\n            padding += PADDING;\n        }\n\n        formatted += padding + node + '\\r\\n';\n        pad += indent;\n    });\n\n    return formatted;\n};\n\n\n\n// \nappCommonDirectiveModule.directive('ngFocus', [ function(borderColor) {\n    return {\n        restrict : 'A',\n        require : 'ngModel',\n        link : function(scope, element, attrs, ctrl) {\n            ctrl.$focused = true;\n            element.bind('focus', function(evt) {\n                scope.$apply(function() {\n                    ctrl.$focused = true;\n                });\n            }).bind('blur', function(evt) {\n                if(ctrl.$invalid){\n                    // \n                    element.css(\"border-color\",\"#ed7878\");\n                    element.parent().addClass(\"has-error\");\n                    element.parent().removeClass(\"has-success\");\n                    element.next().removeClass(\"ion-checkmark-circled\");\n                    element.next().addClass(\"ion-android-cancel\");\n                }else{\n                    if(Boolean(borderColor)){\n                        // \n                        element.css(\"border-color\",borderColor);\n                    }else{\n                        // \n                        element.css(\"border-color\",\"#a6c733\");\n                    }\n                    element.parent().addClass(\"has-success\");\n                    element.parent().removeClass(\"has-error\");\n                    element.next().addClass(\"ion-checkmark-circled\");\n                    element.next().removeClass(\"ion-android-cancel\");\n                }\n                scope.$apply(function() {\n                    ctrl.$focused = false;\n                });\n            });\n        }\n    }\n} ]);\n\n//\nappCommonDirectiveModule.directive('ngFocuss', [ function(borderColor) {\n    return {\n        restrict : 'A',\n        require : 'ngModel',\n        link : function(scope, element, attrs, ctrl) {\n            ctrl.$focused = true;\n            element.bind('focus', function(evt) {\n                scope.$apply(function() {\n                    ctrl.$focused = true;\n                });\n            }).bind('blur', function(evt) {\n                if(ctrl.$invalid){\n                    // \n                    element.css(\"border-color\",\"#ed7878\");\n                    element.parent().addClass(\"has-error\");\n                    element.parent().removeClass(\"has-success\");\n                }else{\n                    if(Boolean(borderColor)){\n                        // \n                        element.css(\"border-color\",borderColor);\n                    }else{\n                        // \n                        element.css(\"border-color\",\"#DCDCDC\");\n                    }\n                    element.parent().addClass(\"has-success\");\n                    element.parent().removeClass(\"has-error\");\n                }\n                scope.$apply(function() {\n                    ctrl.$focused = false;\n                });\n            });\n        }\n    }\n} ]);\n/**\n * @preserve jQuery DateTimePicker plugin v2.1.9\n * @homepage http://xdsoft.net/jqplugins/datetimepicker/\n * (c) 2014, Chupurnov Valeriy.\n */\n(function( $ ) {\n\t'use strict'\n\tvar default_options  = {\n\t\ti18n:{\n\t\t\tru:{ // Russian\n\t\t\t\tmonths:[\n\t\t\t\t\t'','','','','','','','','','','',''\n\t\t\t\t],\n\t\t\t\tdayOfWeek:[\n\t\t\t\t\t\"\", \"\", \"\", \"\", \"\", \"\", \"\"\n\t\t\t\t]\n\t\t\t},\n\t\t\ten:{ // English\n\t\t\t\tmonths: [\n\t\t\t\t\t\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n\t\t\t\t],\n\t\t\t\tdayOfWeek: [\n\t\t\t\t\t\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tde:{ // German\n\t\t\t\tmonths:[\n\t\t\t\t\t'Januar','Februar','Mrz','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'\n\t\t\t\t],\n\t\t\t\tdayOfWeek:[\n\t\t\t\t\t\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tnl:{ // Dutch\n\t\t\t\tmonths:[\n\t\t\t\t\t\"januari\", \"februari\", \"maart\", \"april\", \"mei\", \"juni\", \"juli\", \"augustus\", \"september\", \"oktober\", \"november\", \"december\"\n\t\t\t\t],\n\t\t\t\tdayOfWeek:[\n\t\t\t\t\t\"zo\", \"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\"\n\t\t\t\t]\n\t\t\t},\n\t\t\ttr:{ // Turkish\n\t\t\t\tmonths:[\n\t\t\t\t\t\"Ocak\", \"ubat\", \"Mart\", \"Nisan\", \"Mays\", \"Haziran\", \"Temmuz\", \"Austos\", \"Eyll\", \"Ekim\", \"Kasm\", \"Aralk\"\n\t\t\t\t],\n\t\t\t\tdayOfWeek:[\n\t\t\t\t\t\"Paz\", \"Pts\", \"Sal\", \"ar\", \"Per\", \"Cum\", \"Cts\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tfr:{ //French\n\t\t\t\tmonths:[\n\t\t\t    \"Janvier\", \"Fvrier\", \"Mars\", \"Avril\", \"Mai\", \"Juin\", \"Juillet\", \"Aot\", \"Septembre\", \"Octobre\", \"Novembre\", \"Dcembre\"\n\t\t\t\t],\n\t\t\t\tdayOfWeek:[\n\t\t\t\t\t\"Dim\", \"Lun\", \"Mar\", \"Mer\", \"Jeu\", \"Ven\", \"Sam\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tes:{ // Spanish\n\t\t\t\tmonths: [\n\t\t\t\t\t\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"\n\t\t\t\t],\n\t\t\t\tdayOfWeek: [\n\t\t\t\t\t\"Dom\", \"Lun\", \"Mar\", \"Mi\", \"Jue\", \"Vie\", \"Sb\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tth:{ // Thai\n\t\t\t\tmonths:[\n\t\t\t\t\t'','','','','','','','','','','',''\n\t\t\t\t],\n\t\t\t\tdayOfWeek:[\n\t\t\t\t\t'.','.','.','.','.','.','.'\n\t\t\t\t]\n\t\t\t},\n\t\t\tpl:{ // Polish\n\t\t\t\tmonths: [\n\t\t\t\t\t\"stycze\", \"luty\", \"marzec\", \"kwiecie\", \"maj\", \"czerwiec\", \"lipiec\", \"sierpie\", \"wrzesie\", \"padziernik\", \"listopad\", \"grudzie\"\n\t\t\t\t],\n\t\t\t\tdayOfWeek: [\n\t\t\t\t\t\"nd\", \"pn\", \"wt\", \"r\", \"cz\", \"pt\", \"sb\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tpt:{ // Portuguese\n\t\t\t\tmonths: [\n\t\t\t\t\t\"Janeiro\", \"Fevereiro\", \"Maro\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"\n\t\t\t\t],\n\t\t\t\tdayOfWeek: [\n\t\t\t\t\t\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"Sab\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tch:{ // Simplified Chinese\n\t\t\t\tmonths: [\n\t\t\t\t\t\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"\n\t\t\t\t],\n\t\t\t\tdayOfWeek: [\n\t\t\t\t\t\"\", \"\",\"\",\"\",\"\",\"\",\"\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tse:{ // Swedish\n\t\t\t\tmonths: [\n\t\t\t\t\t\"Januari\", \"Februari\", \"Mars\", \"April\", \"Maj\", \"Juni\", \"Juli\", \"Augusti\", \"September\",\"Oktober\", \"November\", \"December\"\n\t\t\t\t],\n\t\t\t\tdayOfWeek: [\n\t\t\t\t\t\"Sn\", \"Mn\", \"Tis\", \"Ons\", \"Tor\", \"Fre\", \"Lr\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkr:{ // Korean\n\t\t\t\tmonths: [\n                    \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\"\n\t\t\t\t],\n\t\t\t\tdayOfWeek: [\n                    \"\", \"\", \"\", \"\", \"\", \"\", \"\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tit:{ // Italian\n\t\t\t\tmonths: [\n\t\t\t\t\t\"Gennaio\", \"Febbraio\", \"Marzo\", \"Aprile\", \"Maggio\", \"Giugno\", \"Luglio\", \"Agosto\", \"Settembre\", \"Ottobre\", \"Novembre\", \"Dicembre\"\n\t\t\t\t],\n\t\t\t\tdayOfWeek: [\n\t\t\t\t\t\"Dom\", \"Lun\", \"Mar\", \"Mer\", \"Gio\", \"Ven\", \"Sab\"\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\tvalue:'',\n\t\tlang:'ch',\n\t\tformat:'Y-m-d H:i',\n\t\tformatTime:'H:i',\n\t\tformatDate:'Y-m-d',\n\t\tstep:1,\n\t\tcloseOnDateSelect:0,\n\t\tcloseOnWithoutClick:true,\n\t\ttimepicker:true,\n\t\tdatepicker:true,\n\t\tminDate:false,\n\t\tmaxDate:false,\n\t\tminTime:false,\n\t\tmaxTime:false,\n\t\tallowTimes:[],\n\t\topened:false,\n\t\tinline:false,\n\t\tonSelectDate:function() {},\n\t\tonSelectTime:function() {},\n\t\tonChangeMonth:function() {},\n\t\tonChangeDateTime:function() {},\n\t\tonShow:function() {},\n\t\tonClose:function() {},\n\t\tonGenerate:function() {},\n\t\twithoutCopyright:true,\n\t\tinverseButton:false,\n\t\thours12:false,\n\t\tnext:\t'xdsoft_next',\n\t\tprev : 'xdsoft_prev',\n\t\tdayOfWeekStart:0,\n\t\ttimeHeightInTimePicker:25,\n\t\ttimepickerScrollbar:true,\n\t\ttodayButton:true, // 2.1.0\n\t\tdefaultSelect:true, // 2.1.0\n\t\tscrollMonth:true,\n\t\tscrollTime:true,\n\t\tscrollInput:true,\n\t\tmask:false,\n\t\tvalidateOnBlur:true,\n\t\tallowBlank:false,\n\t\tyearStart:1950,\n\t\tyearEnd:2050,\n\t\tstyle:'',\n\t\tid:'',\n\t\troundTime:'round', // ceil, floor\n\t\tclassName:'',\n\t\tweekends\t: \t[],\n\t\tyearOffset:0\n\t};\n\t// fix for ie8\n\tif ( !Array.prototype.indexOf ) {\n\t\tArray.prototype.indexOf = function(obj, start) {\n\t\t\t for (var i = (start || 0), j = this.length; i < j; i++) {\n\t\t\t\t if (this[i] === obj) { return i; }\n\t\t\t }\n\t\t\t return -1;\n\t\t}\n\t};\n\t$.fn.xdsoftScroller = function( _percent ) {\n\t\treturn this.each(function() {\n\t\t\tvar timeboxparent = $(this);\n\t\t\tif( !$(this).hasClass('xdsoft_scroller_box') ) {\n\t\t\t\tvar pointerEventToXY = function( e ) {\n\t\t\t\t\t\tvar out = {x:0, y:0};\n\t\t\t\t\t\tif( e.type == 'touchstart' || e.type == 'touchmove' || e.type == 'touchend' || e.type == 'touchcancel' ) {\n\t\t\t\t\t\t\tvar touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\n\t\t\t\t\t\t\tout.x = touch.pageX;\n\t\t\t\t\t\t\tout.y = touch.pageY;\n\t\t\t\t\t\t}else if (e.type == 'mousedown' || e.type == 'mouseup' || e.type == 'mousemove' || e.type == 'mouseover'|| e.type=='mouseout' || e.type=='mouseenter' || e.type=='mouseleave') {\n\t\t\t\t\t\t\tout.x = e.pageX;\n\t\t\t\t\t\t\tout.y = e.pageY;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn out;\n\t\t\t\t\t},\n\t\t\t\t\tmove = 0,\n\t\t\t\t\ttimebox = timeboxparent.children().eq(0),\n\t\t\t\t\tparentHeight = timeboxparent[0].clientHeight,\n\t\t\t\t\theight = timebox[0].offsetHeight,\n\t\t\t\t\tscrollbar = $('<div class=\"xdsoft_scrollbar\"></div>'),\n\t\t\t\t\tscroller = $('<div class=\"xdsoft_scroller\"></div>'),\n\t\t\t\t\tmaximumOffset = 100,\n\t\t\t\t\tstart = false;\n\n\t\t\t\tscrollbar.append(scroller);\n\n\t\t\t\ttimeboxparent.addClass('xdsoft_scroller_box').append(scrollbar);\n\t\t\t\tscroller.on('mousedown.xdsoft_scroller',function ( event ) {\n\t\t\t\t\tif( !parentHeight )\n\t\t\t\t\t\ttimeboxparent.trigger('resize_scroll.xdsoft_scroller',[_percent]);\n\t\t\t\t\tvar pageY = event.pageY,\n\t\t\t\t\t\ttop = parseInt(scroller.css('margin-top')),\n\t\t\t\t\t\th1 = scrollbar[0].offsetHeight;\n\t\t\t\t\t$(document.body).addClass('xdsoft_noselect');\n\t\t\t\t\t$([document.body,window]).on('mouseup.xdsoft_scroller',function arguments_callee() {\n\t\t\t\t\t\t$([document.body,window]).off('mouseup.xdsoft_scroller',arguments_callee)\n\t\t\t\t\t\t\t.off('mousemove.xdsoft_scroller',move)\n\t\t\t\t\t\t\t.removeClass('xdsoft_noselect');\n\t\t\t\t\t});\n\t\t\t\t\t$(document.body).on('mousemove.xdsoft_scroller',move = function(event) {\n\t\t\t\t\t\tvar offset = event.pageY-pageY+top;\n\t\t\t\t\t\tif( offset<0 )\n\t\t\t\t\t\t\toffset = 0;\n\t\t\t\t\t\tif( offset+scroller[0].offsetHeight>h1 )\n\t\t\t\t\t\t\toffset = h1-scroller[0].offsetHeight;\n\t\t\t\t\t\ttimeboxparent.trigger('scroll_element.xdsoft_scroller',[maximumOffset?offset/maximumOffset:0]);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\ttimeboxparent\n\t\t\t\t\t.on('scroll_element.xdsoft_scroller',function( event,percent ) {\n\t\t\t\t\t\tif( !parentHeight )\n\t\t\t\t\t\t\ttimeboxparent.trigger('resize_scroll.xdsoft_scroller',[percent,true]);\n\t\t\t\t\t\tpercent = percent>1?1:(percent<0||isNaN(percent))?0:percent;\n\t\t\t\t\t\tscroller.css('margin-top',maximumOffset*percent);\n\t\t\t\t\t\ttimebox.css('marginTop',-parseInt((height-parentHeight)*percent))\n\t\t\t\t\t})\n\t\t\t\t\t.on('resize_scroll.xdsoft_scroller',function( event,_percent,noTriggerScroll ) {\n\t\t\t\t\t\tparentHeight = timeboxparent[0].clientHeight;\n\t\t\t\t\t\theight = timebox[0].offsetHeight;\n\t\t\t\t\t\tvar percent = parentHeight/height,\n\t\t\t\t\t\t\tsh = percent*scrollbar[0].offsetHeight;\n\t\t\t\t\t\tif( percent>1 )\n\t\t\t\t\t\t\tscroller.hide();\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tscroller.show();\n\t\t\t\t\t\t\tscroller.css('height',parseInt(sh>10?sh:10));\n\t\t\t\t\t\t\tmaximumOffset = scrollbar[0].offsetHeight-scroller[0].offsetHeight;\n\t\t\t\t\t\t\tif( noTriggerScroll!==true )\n\t\t\t\t\t\t\t\ttimeboxparent.trigger('scroll_element.xdsoft_scroller',[_percent?_percent:Math.abs(parseInt(timebox.css('marginTop')))/(height-parentHeight)]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\ttimeboxparent.mousewheel&&timeboxparent.mousewheel(function(event, delta, deltaX, deltaY) {\n\t\t\t\t\tvar top = Math.abs(parseInt(timebox.css('marginTop')));\n\t\t\t\t\ttimeboxparent.trigger('scroll_element.xdsoft_scroller',[(top-delta*20)/(height-parentHeight)]);\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\ttimeboxparent.on('touchstart',function( event ) {\n\t\t\t\t\tstart = pointerEventToXY(event);\n\t\t\t\t});\n\t\t\t\ttimeboxparent.on('touchmove',function( event ) {\n\t\t\t\t\tif( start ) {\n\t\t\t\t\t\tvar coord = pointerEventToXY(event), top = Math.abs(parseInt(timebox.css('marginTop')));\n\t\t\t\t\t\ttimeboxparent.trigger('scroll_element.xdsoft_scroller',[(top-(coord.y-start.y))/(height-parentHeight)]);\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\ttimeboxparent.on('touchend touchcancel',function( event ) {\n\t\t\t\t\tstart = false;\n\t\t\t\t});\n\t\t\t}\n\t\t\ttimeboxparent.trigger('resize_scroll.xdsoft_scroller',[_percent]);\n\t\t});\n\t};\n\t$.fn.datetimepicker = function( opt ) {\n\t\tvar KEY0 = 48,\n\t\t\tKEY9 = 57,\n\t\t\t_KEY0 = 96,\n\t\t\t_KEY9 = 105,\n\t\t\tCTRLKEY = 17,\n\t\t\tDEL = 46,\n\t\t\tENTER = 13,\n\t\t\tESC = 27,\n\t\t\tBACKSPACE = 8,\n\t\t\tARROWLEFT = 37,\n\t\t\tARROWUP = 38,\n\t\t\tARROWRIGHT = 39,\n\t\t\tARROWDOWN = 40,\n\t\t\tTAB = 9,\n\t\t\tF5 = 116,\n\t\t\tAKEY = 65,\n\t\t\tCKEY = 67,\n\t\t\tVKEY = 86,\n\t\t\tZKEY = 90,\n\t\t\tYKEY = 89,\n\t\t\tctrlDown\t=\tfalse,\n\t\t\toptions = ($.isPlainObject(opt)||!opt)?$.extend(true,{},default_options,opt):$.extend({},default_options),\n\t\t\tcreateDateTimePicker = function( input ) {\n\t\t\t\tvar datetimepicker = $('<div '+(options.id?'id=\"'+options.id+'\"':'')+' '+(options.style?'style=\"'+options.style+'\"':'')+' class=\"xdsoft_datetimepicker xdsoft_noselect '+options.className+'\"></div>'),\n\t\t\t\t\txdsoft_copyright = $('<div class=\"xdsoft_copyright\"><a target=\"_blank\" href=\"http://xdsoft.net/jqplugins/datetimepicker/\">xdsoft.net</a></div>'),\n\t\t\t\t\tdatepicker = $('<div class=\"xdsoft_datepicker active\"></div>'),\n\t\t\t\t\tmounth_picker = $('<div class=\"xdsoft_mounthpicker\"><button type=\"button\" class=\"xdsoft_prev\"></button><button type=\"button\" class=\"xdsoft_today_button\"></button><div class=\"xdsoft_label xdsoft_month\"><span></span></div><div class=\"xdsoft_label xdsoft_year\"><span></span></div><button type=\"button\" class=\"xdsoft_next\"></button></div>'),\n\t\t\t\t\tcalendar = $('<div class=\"xdsoft_calendar\"></div>'),\n\t\t\t\t\ttimepicker = $('<div class=\"xdsoft_timepicker active\"><button type=\"button\" class=\"xdsoft_prev\"></button><div class=\"xdsoft_time_box\"></div><button type=\"button\" class=\"xdsoft_next\"></button></div>'),\n\t\t\t\t\ttimeboxparent = timepicker.find('.xdsoft_time_box').eq(0),\n\t\t\t\t\ttimebox = $('<div class=\"xdsoft_time_variant\"></div>'),\n\t\t\t\t\tscrollbar = $('<div class=\"xdsoft_scrollbar\"></div>'),\n\t\t\t\t\tscroller = $('<div class=\"xdsoft_scroller\"></div>'),\n\t\t\t\t\tmonthselect =$('<div class=\"xdsoft_select xdsoft_monthselect\"><div></div></div>'),\n\t\t\t\t\tyearselect =$('<div class=\"xdsoft_select xdsoft_yearselect\"><div></div></div>');\n\n\t\t\t\t//constructor lego\n\t\t\t\tmounth_picker\n\t\t\t\t\t.find('.xdsoft_month span')\n\t\t\t\t\t\t.after(monthselect);\n\t\t\t\tmounth_picker\n\t\t\t\t\t.find('.xdsoft_year span')\n\t\t\t\t\t\t.after(yearselect);\n\n\t\t\t\tmounth_picker\n\t\t\t\t\t.find('.xdsoft_month,.xdsoft_year')\n\t\t\t\t\t\t.on('mousedown.xdsoft',function(event) {\n\t\t\t\t\t\t\tmounth_picker\n\t\t\t\t\t\t\t\t.find('.xdsoft_select')\n\t\t\t\t\t\t\t\t\t.hide();\n\t\t\t\t\t\t\tvar select = $(this).find('.xdsoft_select').eq(0),\n\t\t\t\t\t\t\t\tval = 0,\n\t\t\t\t\t\t\t\ttop = 0;\n\n\t\t\t\t\t\t\tif( _xdsoft_datetime.currentTime )\n\t\t\t\t\t\t\t\tval = _xdsoft_datetime.currentTime[$(this).hasClass('xdsoft_month')?'getMonth':'getFullYear']();\n\n\t\t\t\t\t\t\tselect.show();\n\t\t\t\t\t\t\tfor(var items = select.find('div.xdsoft_option'),i = 0;i<items.length;i++) {\n\t\t\t\t\t\t\t\tif( items.eq(i).data('value')==val ) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}else top+=items[0].offsetHeight;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tselect.xdsoftScroller(top/(select.children()[0].offsetHeight-(select[0].clientHeight)));\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\n\t\t\t\tmounth_picker\n\t\t\t\t\t.find('.xdsoft_select')\n\t\t\t\t\t\t.xdsoftScroller()\n\t\t\t\t\t\t.on('mousedown.xdsoft',function( event ) {\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.on('mousedown.xdsoft','.xdsoft_option',function( event ) {\n\t\t\t\t\t\t\tif( _xdsoft_datetime&&_xdsoft_datetime.currentTime )\n\t\t\t\t\t\t\t\t_xdsoft_datetime.currentTime[$(this).parent().parent().hasClass('xdsoft_monthselect')?'setMonth':'setFullYear']($(this).data('value'));\n\t\t\t\t\t\t\t$(this).parent().parent().hide();\n\t\t\t\t\t\t\tdatetimepicker.trigger('xchange.xdsoft');\n\t\t\t\t\t\t\toptions.onChangeMonth&&options.onChangeMonth.call&&options.onChangeMonth.call(datetimepicker,_xdsoft_datetime.currentTime,datetimepicker.data('input'));\n\t\t\t\t\t\t});\n\n\n\t\t\t\t// set options\n\t\t\t\tdatetimepicker.setOptions = function( _options ) {\n\t\t\t\t\toptions = $.extend(true,{},options,_options);\n\t\t\t\t\tif( (options.open||options.opened)&&(!options.inline) ) {\n\t\t\t\t\t\tinput.trigger('open.xdsoft');\n\t\t\t\t\t}\n\n\t\t\t\t\tif( options.inline ) {\n\t\t\t\t\t\tdatetimepicker.addClass('xdsoft_inline');\n\t\t\t\t\t\tinput.after(datetimepicker).hide();\n\t\t\t\t\t\tdatetimepicker.trigger('afterOpen.xdsoft');\n\t\t\t\t\t}\n\n\t\t\t\t\tif( options.inverseButton ) {\n\t\t\t\t\t\toptions.next = 'xdsoft_prev';\n\t\t\t\t\t\toptions.prev = 'xdsoft_next';\n\t\t\t\t\t}\n\n\t\t\t\t\tif( options.datepicker )\n\t\t\t\t\t\tdatepicker.addClass('active');\n\t\t\t\t\telse\n\t\t\t\t\t\tdatepicker.removeClass('active');\n\t\t\t\t\t\t\n\t\t\t\t\tif( options.timepicker )\n\t\t\t\t\t\ttimepicker.addClass('active');\n\t\t\t\t\telse\n\t\t\t\t\t\ttimepicker.removeClass('active');\n\n\t\t\t\t\tif( options.value ){\n\t\t\t\t\t\tinput&&input.val&&input.val(options.value);\n\t\t\t\t\t\t_xdsoft_datetime.setCurrentTime(options.value);\n\t\t\t\t\t}\n\n\t\t\t\t\tif( isNaN(options.dayOfWeekStart)||parseInt(options.dayOfWeekStart)<0||parseInt(options.dayOfWeekStart)>6 )\n\t\t\t\t\t\toptions.dayOfWeekStart = 0;\n\t\t\t\t\telse\n\t\t\t\t\t\toptions.dayOfWeekStart = parseInt(options.dayOfWeekStart);\n\n\t\t\t\t\tif( !options.timepickerScrollbar )\n\t\t\t\t\t\tscrollbar.hide();\n\n\t\t\t\t\tvar tmpDate = [],timeOffset;\n\t\t\t\t\tif( options.minDate && ( tmpDate = /^-(.*)$/.exec(options.minDate) ) && (tmpDate=Date.parseDate(tmpDate[1], options.formatDate)) ) {\n\t\t\t\t\t\ttimeOffset = tmpDate.getTime()+-1*(tmpDate.getTimezoneOffset())*60000;\n\t\t\t\t\t\toptions.minDate = new Date((_xdsoft_datetime.now()).getTime()-timeOffset).dateFormat( options.formatDate );\n\t\t\t\t\t}\n\t\t\t\t\tif( options.maxDate && ( tmpDate = /^\\+(.*)$/.exec(options.maxDate) ) && (tmpDate=Date.parseDate(tmpDate[1], options.formatDate)) ) {\n\t\t\t\t\t\ttimeOffset = tmpDate.getTime()+-1*(tmpDate.getTimezoneOffset())*60000;\n\t\t\t\t\t\toptions.maxDate = new Date((_xdsoft_datetime.now()).getTime()+timeOffset).dateFormat( options.formatDate );\n\t\t\t\t\t}\n\n\t\t\t\t\tmounth_picker\n\t\t\t\t\t\t.find('.xdsoft_today_button')\n\t\t\t\t\t\t\t.css('visibility',!options.todayButton?'hidden':'visible');\n\n\t\t\t\t\tif( options.mask ) {\n\t\t\t\t\t\tvar e,\n\t\t\t\t\t\t\tgetCaretPos = function ( input ) {\n\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\tif ( document.selection && document.selection.createRange ) {\n\t\t\t\t\t\t\t\t\t\tvar range = document.selection.createRange();\n\t\t\t\t\t\t\t\t\t\treturn range.getBookmark().charCodeAt(2) - 2;\n\t\t\t\t\t\t\t\t\t}else\n\t\t\t\t\t\t\t\t\t\tif ( input.setSelectionRange )\n\t\t\t\t\t\t\t\t\t\t\treturn input.selectionStart;\n\t\t\t\t\t\t\t\t}catch(e) {\n\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsetCaretPos = function ( node,pos ) {\n\t\t\t\t\t\t\t\tvar node = (typeof node == \"string\" || node instanceof String) ? document.getElementById(node) : node;\n\t\t\t\t\t\t\t\tif(!node) {\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}else if(node.createTextRange) {\n\t\t\t\t\t\t\t\t\tvar textRange = node.createTextRange();\n\t\t\t\t\t\t\t\t\ttextRange.collapse(true);\n\t\t\t\t\t\t\t\t\ttextRange.moveEnd(pos);\n\t\t\t\t\t\t\t\t\ttextRange.moveStart(pos);\n\t\t\t\t\t\t\t\t\ttextRange.select();\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}else if(node.setSelectionRange) {\n\t\t\t\t\t\t\t\t\tnode.setSelectionRange(pos,pos);\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tisValidValue = function ( mask,value ) {\n\t\t\t\t\t\t\t\tvar reg = mask\n\t\t\t\t\t\t\t\t\t.replace(/([\\[\\]\\/\\{\\}\\(\\)\\-\\.\\+]{1})/g,'\\\\$1')\n\t\t\t\t\t\t\t\t\t.replace(/_/g,'{digit+}')\n\t\t\t\t\t\t\t\t\t.replace(/([0-9]{1})/g,'{digit$1}')\n\t\t\t\t\t\t\t\t\t.replace(/\\{digit([0-9]{1})\\}/g,'[0-$1_]{1}')\n\t\t\t\t\t\t\t\t\t.replace(/\\{digit[\\+]\\}/g,'[0-9_]{1}');\n\t\t\t\t\t\t\t\treturn RegExp(reg).test(value);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tinput.off('keydown.xdsoft');\n\t\t\t\t\t\tswitch(true) {\n\t\t\t\t\t\t\tcase ( options.mask===true ):\n\t\t\t\t\t\t\t\t//options.mask = (new Date()).dateFormat( options.format );\n\t\t\t\t\t\t\t\t//options.mask = options.mask.replace(/[0-9]/g,'_');\n\t\t\t\t\t\t\t\toptions.mask = options.format\n\t\t\t\t\t\t\t\t\t.replace(/Y/g,'9999')\n\t\t\t\t\t\t\t\t\t.replace(/F/g,'9999')\n\t\t\t\t\t\t\t\t\t.replace(/m/g,'19')\n\t\t\t\t\t\t\t\t\t.replace(/d/g,'39')\n\t\t\t\t\t\t\t\t\t.replace(/H/g,'29')\n\t\t\t\t\t\t\t\t\t.replace(/i/g,'59')\n\t\t\t\t\t\t\t\t\t.replace(/s/g,'59');\n\t\t\t\t\t\t\tcase ( $.type(options.mask) == 'string' ):\n\t\t\t\t\t\t\t\tif( !isValidValue( options.mask,input.val() ) )\n\t\t\t\t\t\t\t\t\tinput.val(options.mask.replace(/[0-9]/g,'_'));\n\n\t\t\t\t\t\t\t\tinput.on('keydown.xdsoft',function( event ) {\n\t\t\t\t\t\t\t\t\tvar val = this.value,\n\t\t\t\t\t\t\t\t\t\tkey = event.which;\n\t\t\t\t\t\t\t\t\tswitch(true) {\n\t\t\t\t\t\t\t\t\t\tcase (( key>=KEY0&&key<=KEY9 )||( key>=_KEY0&&key<=_KEY9 ))||(key==BACKSPACE||key==DEL):\n\t\t\t\t\t\t\t\t\t\t\tvar pos = getCaretPos(this),\n\t\t\t\t\t\t\t\t\t\t\t\tdigit = ( key!=BACKSPACE&&key!=DEL )?String.fromCharCode((_KEY0 <= key && key <= _KEY9)? key-KEY0 : key):'_';\n\t\t\t\t\t\t\t\t\t\t\tif( (key==BACKSPACE||key==DEL)&&pos ) {\n\t\t\t\t\t\t\t\t\t\t\t\tpos--;\n\t\t\t\t\t\t\t\t\t\t\t\tdigit='_';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\twhile( /[^0-9_]/.test(options.mask.substr(pos,1))&&pos<options.mask.length&&pos>0 )\n\t\t\t\t\t\t\t\t\t\t\t\tpos+=( key==BACKSPACE||key==DEL )?-1:1;\n\n\t\t\t\t\t\t\t\t\t\t\tval = val.substr(0,pos)+digit+val.substr(pos+1);\n\t\t\t\t\t\t\t\t\t\t\tif( $.trim(val)=='' )\n\t\t\t\t\t\t\t\t\t\t\t\tval = options.mask.replace(/[0-9]/g,'_');\n\t\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\t\tif( pos==options.mask.length )\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\tpos+=(key==BACKSPACE||key==DEL)?0:1;\n\t\t\t\t\t\t\t\t\t\t\twhile( /[^0-9_]/.test(options.mask.substr(pos,1))&&pos<options.mask.length&&pos>0 )\n\t\t\t\t\t\t\t\t\t\t\t\tpos+=(key==BACKSPACE||key==DEL)?-1:1;\n\t\t\t\t\t\t\t\t\t\t\tif( isValidValue( options.mask,val ) ) {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.value = val;\n\t\t\t\t\t\t\t\t\t\t\t\tsetCaretPos(this,pos);\n\t\t\t\t\t\t\t\t\t\t\t}else if( $.trim(val)=='' )\n\t\t\t\t\t\t\t\t\t\t\t\tthis.value = options.mask.replace(/[0-9]/g,'_');\n\t\t\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\t\t\tinput.trigger('error_input.xdsoft');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tcase ( !!~([AKEY,CKEY,VKEY,ZKEY,YKEY].indexOf(key))&&ctrlDown ):\n\t\t\t\t\t\t\t\t\t\t case !!~([ESC,ARROWUP,ARROWDOWN,ARROWLEFT,ARROWRIGHT,F5,CTRLKEY,TAB,ENTER].indexOf(key)):\n\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif( options.validateOnBlur ) {\n\t\t\t\t\t\tinput\n\t\t\t\t\t\t\t.off('blur.xdsoft')\n\t\t\t\t\t\t\t.on('blur.xdsoft', function() {\n\t\t\t\t\t\t\t\tif( options.allowBlank && !$.trim($(this).val()).length ) {\n\t\t\t\t\t\t\t\t\t$(this).val(null);\n\t\t\t\t\t\t\t\t\tdatetimepicker.data('xdsoft_datetime').empty();\n\t\t\t\t\t\t\t\t}else if( !Date.parseDate( $(this).val(), options.format ) ) {\n\t\t\t\t\t\t\t\t\t$(this).val((_xdsoft_datetime.now()).dateFormat( options.format ));\n\t\t\t\t\t\t\t\t\tdatetimepicker.data('xdsoft_datetime').setCurrentTime($(this).val());\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\tdatetimepicker.data('xdsoft_datetime').setCurrentTime($(this).val());\n \t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdatetimepicker.trigger('changedatetime.xdsoft');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\toptions.dayOfWeekStartPrev = (options.dayOfWeekStart==0)?6:options.dayOfWeekStart-1;\n\t\t\t\t\tdatetimepicker\n\t\t\t\t\t\t.trigger('xchange.xdsoft');\n\t\t\t\t};\n\n\t\t\t\tdatetimepicker\n\t\t\t\t\t.data('options',options)\n\t\t\t\t\t.on('mousedown.xdsoft',function( event ) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tyearselect.hide();\n\t\t\t\t\t\tmonthselect.hide();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\n\t\t\t\tvar scroll_element = timepicker.find('.xdsoft_time_box');\n\t\t\t\tscroll_element.append(timebox);\n\t\t\t\tscroll_element.xdsoftScroller();\n\t\t\t\tdatetimepicker.on('afterOpen.xdsoft',function() {\n\t\t\t\t\tscroll_element.xdsoftScroller();\n\t\t\t\t});\n\n\t\t\t\tdatetimepicker\n\t\t\t\t\t.append(datepicker)\n\t\t\t\t\t.append(timepicker);\n\n\t\t\t\tif( options.withoutCopyright!==true )\n\t\t\t\t\tdatetimepicker\n\t\t\t\t\t\t.append(xdsoft_copyright);\n\n\t\t\t\tdatepicker\n\t\t\t\t\t.append(mounth_picker)\n\t\t\t\t\t.append(calendar);\n\n\t\t\t\t$('body').append(datetimepicker);\n\n\t\t\t\tvar _xdsoft_datetime = new function() {\n\t\t\t\t\tvar _this = this;\n\t\t\t\t\t_this.now = function() {\n\t\t\t\t\t\tvar d = new Date();\n\t\t\t\t\t\tif( options.yearOffset )\n\t\t\t\t\t\t\td.setFullYear(d.getFullYear()+options.yearOffset);\n\t\t\t\t\t\treturn d;\n\t\t\t\t\t};\n\n\t\t\t\t\t_this.currentTime = this.now();\n\t\t\t\t\t_this.isValidDate = function (d) {\n\t\t\t\t\t\tif ( Object.prototype.toString.call(d) !== \"[object Date]\" )\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\treturn !isNaN(d.getTime());\n\t\t\t\t\t};\n\n\t\t\t\t\t_this.setCurrentTime = function( dTime) {\n\t\t\t\t\t\t_this.currentTime = (typeof dTime == 'string')? _this.strtodatetime(dTime) : _this.isValidDate(dTime) ? dTime: _this.now();\n\t\t\t\t\t\tdatetimepicker.trigger('xchange.xdsoft');\n\t\t\t\t\t};\n\n\t\t\t\t\t_this.empty = function() {\n\t\t\t\t\t\t_this.currentTime = null;\n\t\t\t\t\t};\n\n\t\t\t\t\t_this.getCurrentTime = function( dTime) {\n\t\t\t\t\t\treturn _this.currentTime;\n\t\t\t\t\t};\n\n\t\t\t\t\t_this.nextMonth = function() {\n\t\t\t\t\t\tvar month = _this.currentTime.getMonth()+1;\n\t\t\t\t\t\tif( month==12 ) {\n\t\t\t\t\t\t\t_this.currentTime.setFullYear(_this.currentTime.getFullYear()+1);\n\t\t\t\t\t\t\tmonth = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_this.currentTime.setDate(\n\t\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\t\tDate.daysInMonth[month],\n\t\t\t\t\t\t\t\t_this.currentTime.getDate()\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t_this.currentTime.setMonth(month);\n\t\t\t\t\t\toptions.onChangeMonth&&options.onChangeMonth.call&&options.onChangeMonth.call(datetimepicker,_xdsoft_datetime.currentTime,datetimepicker.data('input'));\n\t\t\t\t\t\tdatetimepicker.trigger('xchange.xdsoft');\n\t\t\t\t\t\treturn month;\n\t\t\t\t\t};\n\n\t\t\t\t\t_this.prevMonth = function() {\n\t\t\t\t\t\tvar month = _this.currentTime.getMonth()-1;\n\t\t\t\t\t\tif( month==-1 ) {\n\t\t\t\t\t\t\t_this.currentTime.setFullYear(_this.currentTime.getFullYear()-1);\n\t\t\t\t\t\t\tmonth = 11;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_this.currentTime.setDate(\n\t\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\t\tDate.daysInMonth[month],\n\t\t\t\t\t\t\t\t_this.currentTime.getDate()\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t_this.currentTime.setMonth(month);\n\t\t\t\t\t\toptions.onChangeMonth&&options.onChangeMonth.call&&options.onChangeMonth.call(datetimepicker,_xdsoft_datetime.currentTime,datetimepicker.data('input'));\n\t\t\t\t\t\tdatetimepicker.trigger('xchange.xdsoft');\n\t\t\t\t\t\treturn month;\n\t\t\t\t\t};\n\n\t\t\t\t\t_this.strtodatetime = function( sDateTime ) {\n\t\t\t\t\t\tvar currentTime = sDateTime?Date.parseDate(sDateTime, options.format):_this.now();\n\t\t\t\t\t\tif( !_this.isValidDate(currentTime) )\n\t\t\t\t\t\t\tcurrentTime = _this.now();\n\t\t\t\t\t\treturn currentTime;\n\t\t\t\t\t};\n\n\t\t\t\t\t_this.strtodate = function( sDate ) {\n\t\t\t\t\t\tvar currentTime = sDate?Date.parseDate(sDate, options.formatDate):_this.now();\n\t\t\t\t\t\tif( !_this.isValidDate(currentTime) )\n\t\t\t\t\t\t\tcurrentTime = _this.now();\n\t\t\t\t\t\treturn currentTime;\n\t\t\t\t\t};\n\n\t\t\t\t\t_this.strtotime = function( sTime ) {\n\t\t\t\t\t\tvar currentTime = sTime?Date.parseDate(sTime, options.formatTime):_this.now();\n\t\t\t\t\t\tif( !_this.isValidDate(currentTime) )\n\t\t\t\t\t\t\tcurrentTime = _this.now();\n\t\t\t\t\t\treturn currentTime;\n\t\t\t\t\t};\n\n\t\t\t\t\t_this.str = function() {\n\t\t\t\t\t\treturn _this.currentTime.dateFormat(options.format);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t\tmounth_picker\n\t\t\t\t\t.find('.xdsoft_today_button')\n\t\t\t\t\t\t.on('mousedown.xdsoft',function() {\n\t\t\t\t\t\t\tdatetimepicker.data('changed',true);\n\t\t\t\t\t\t\t_xdsoft_datetime.setCurrentTime(0);\n\t\t\t\t\t\t\tdatetimepicker.trigger('afterOpen.xdsoft');\n\t\t\t\t\t\t}).on('dblclick.xdsoft',function(){\n\t\t\t\t\t\t\tinput.val( _xdsoft_datetime.str() );\n\t\t\t\t\t\t\tdatetimepicker.trigger('close.xdsoft');\n\t\t\t\t\t\t});\n\t\t\t\tmounth_picker\n\t\t\t\t\t.find('.xdsoft_prev,.xdsoft_next')\n\t\t\t\t\t\t.on('mousedown.xdsoft',function() {\n\t\t\t\t\t\t\tvar $this = $(this),\n\t\t\t\t\t\t\t\ttimer = 0,\n\t\t\t\t\t\t\t\tstop = false;\n\n\t\t\t\t\t\t\t(function arguments_callee1(v) {\n\t\t\t\t\t\t\t\tvar month =  _xdsoft_datetime.currentTime.getMonth();\n\t\t\t\t\t\t\t\tif( $this.hasClass( options.next ) ) {\n\t\t\t\t\t\t\t\t\t_xdsoft_datetime.nextMonth();\n\t\t\t\t\t\t\t\t}else if( $this.hasClass( options.prev ) ) {\n\t\t\t\t\t\t\t\t\t_xdsoft_datetime.prevMonth();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t!stop&&(timer = setTimeout(arguments_callee1,v?v:100));\n\t\t\t\t\t\t\t})(500);\n\n\t\t\t\t\t\t\t$([document.body,window]).on('mouseup.xdsoft',function arguments_callee2() {\n\t\t\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\t\t\tstop = true;\n\t\t\t\t\t\t\t\t$([document.body,window]).off('mouseup.xdsoft',arguments_callee2);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\ttimepicker\n\t\t\t\t\t.find('.xdsoft_prev,.xdsoft_next')\n\t\t\t\t\t\t.on('mousedown.xdsoft',function() {\n\t\t\t\t\t\t\tvar $this = $(this),\n\t\t\t\t\t\t\t\ttimer = 0,\n\t\t\t\t\t\t\t\tstop = false,\n\t\t\t\t\t\t\t\tperiod = 110;\n\t\t\t\t\t\t\t(function arguments_callee4(v) {\n\t\t\t\t\t\t\t\tvar pheight = timeboxparent[0].clientHeight,\n\t\t\t\t\t\t\t\t\theight = timebox[0].offsetHeight,\n\t\t\t\t\t\t\t\t\ttop = Math.abs(parseInt(timebox.css('marginTop')));\n\t\t\t\t\t\t\t\tif( $this.hasClass(options.next) && (height-pheight)- options.timeHeightInTimePicker>=top ) {\n\t\t\t\t\t\t\t\t\ttimebox.css('marginTop','-'+(top+options.timeHeightInTimePicker)+'px')\n\t\t\t\t\t\t\t\t}else if( $this.hasClass(options.prev) && top-options.timeHeightInTimePicker>=0  ) {\n\t\t\t\t\t\t\t\t\ttimebox.css('marginTop','-'+(top-options.timeHeightInTimePicker)+'px')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttimeboxparent.trigger('scroll_element.xdsoft_scroller',[Math.abs(parseInt(timebox.css('marginTop'))/(height-pheight))]);\n\t\t\t\t\t\t\t\tperiod= ( period>10 )?10:period-10;\n\t\t\t\t\t\t\t\t!stop&&(timer = setTimeout(arguments_callee4,v?v:period));\n\t\t\t\t\t\t\t})(500);\n\t\t\t\t\t\t\t$([document.body,window]).on('mouseup.xdsoft',function arguments_callee5() {\n\t\t\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\t\t\tstop = true;\n\t\t\t\t\t\t\t\t$([document.body,window])\n\t\t\t\t\t\t\t\t\t.off('mouseup.xdsoft',arguments_callee5);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t// base handler - generating a calendar and timepicker\n\t\t\t\tdatetimepicker\n\t\t\t\t\t.on('xchange.xdsoft',function( event ) {\n\t\t\t\t\t\tvar table \t=\t'',\n\t\t\t\t\t\t\tstart\t= new Date(_xdsoft_datetime.currentTime.getFullYear(),_xdsoft_datetime.currentTime.getMonth(),1, 12, 0, 0),\n\t\t\t\t\t\t\ti = 0,\n\t\t\t\t\t\t\ttoday = _xdsoft_datetime.now();\n\t\t\t\t\t\twhile( start.getDay()!=options.dayOfWeekStart )\n\t\t\t\t\t\t\tstart.setDate(start.getDate()-1);\n\n\t\t\t\t\t\t//generate calendar\n\t\t\t\t\t\ttable+='<table><thead><tr>';\n\n\t\t\t\t\t\t// days\n\t\t\t\t\t\tfor(var j = 0; j<7; j++) {\n\t\t\t\t\t\t\ttable+='<th>'+options.i18n[options.lang].dayOfWeek[(j+options.dayOfWeekStart)>6?0:j+options.dayOfWeekStart]+'</th>';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttable+='</tr></thead>';\n\t\t\t\t\t\ttable+='<tbody><tr>';\n\t\t\t\t\t\tvar maxDate = false, minDate = false;\n\t\t\t\t\t\tif( options.maxDate!==false ) {\n\t\t\t\t\t\t\tmaxDate = _xdsoft_datetime.strtodate(options.maxDate);\n\t\t\t\t\t\t\tmaxDate = new Date(maxDate.getFullYear(),maxDate.getMonth(),maxDate.getDate(),23,59,59,999);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif( options.minDate!==false ) {\n\t\t\t\t\t\t\tminDate = _xdsoft_datetime.strtodate(options.minDate);\n\t\t\t\t\t\t\tminDate = new Date(minDate.getFullYear(),minDate.getMonth(),minDate.getDate());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar d,y,m,classes = [];\n\t\t\t\t\t\twhile( i<_xdsoft_datetime.currentTime.getDaysInMonth()||start.getDay()!=options.dayOfWeekStart||_xdsoft_datetime.currentTime.getMonth()==start.getMonth() ) {\n\t\t\t\t\t\t\tclasses = [];\n\t\t\t\t\t\t\ti++;\n\n\t\t\t\t\t\t\td = start.getDate(); y = start.getFullYear(); m = start.getMonth();\n\n\t\t\t\t\t\t\tclasses.push('xdsoft_date');\n\n\t\t\t\t\t\t\tif( ( maxDate!==false && start > maxDate )||(  minDate!==false && start < minDate ) ){\n\t\t\t\t\t\t\t\tclasses.push('xdsoft_disabled');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif( _xdsoft_datetime.currentTime.getMonth()!=m ) classes.push('xdsoft_other_month');\n\n\t\t\t\t\t\t\tif( (options.defaultSelect||datetimepicker.data('changed')) && _xdsoft_datetime.currentTime.dateFormat('d.m.Y')==start.dateFormat('d.m.Y') ) {\n\t\t\t\t\t\t\t\tclasses.push('xdsoft_current');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif( today.dateFormat('d.m.Y')==start.dateFormat('d.m.Y') ) {\n\t\t\t\t\t\t\t\tclasses.push('xdsoft_today');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif( start.getDay()==0||start.getDay()==6||~options.weekends.indexOf(start.dateFormat('d.m.Y')) ) {\n\t\t\t\t\t\t\t\tclasses.push('xdsoft_weekend');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\ttable+='<td data-date=\"'+d+'\" data-month=\"'+m+'\" data-year=\"'+y+'\"'+' class=\"xdsoft_date xdsoft_day_of_week'+start.getDay()+' '+ classes.join(' ')+'\">'+\n\t\t\t\t\t\t\t\t\t\t'<div>'+d+'</div>'+\n\t\t\t\t\t\t\t\t\t'</td>';\n\n\t\t\t\t\t\t\tif( start.getDay()==options.dayOfWeekStartPrev ) {\n\t\t\t\t\t\t\t\ttable+='</tr>';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tstart.setDate(d+1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttable+='</tbody></table>';\n\n\t\t\t\t\t\tcalendar.html(table);\n\n\t\t\t\t\t\tmounth_picker.find('.xdsoft_label span').eq(0).text(options.i18n[options.lang].months[_xdsoft_datetime.currentTime.getMonth()]);\n\t\t\t\t\t\tmounth_picker.find('.xdsoft_label span').eq(1).text(_xdsoft_datetime.currentTime.getFullYear());\n\n\t\t\t\t\t\t// generate timebox\n\t\t\t\t\t\tvar time = '',\n\t\t\t\t\t\t\th = '',\n\t\t\t\t\t\t\tm ='',\n\t\t\t\t\t\t\tline_time = function line_time( h,m ) {\n\t\t\t\t\t\t\t\tvar now = _xdsoft_datetime.now();\n\t\t\t\t\t\t\t\tnow.setHours(h);\n\t\t\t\t\t\t\t\th = parseInt(now.getHours());\n\t\t\t\t\t\t\t\tnow.setMinutes(m);\n\t\t\t\t\t\t\t\tm = parseInt(now.getMinutes());\n\n\t\t\t\t\t\t\t\tclasses = [];\n\t\t\t\t\t\t\t\tif( (options.maxTime!==false&&_xdsoft_datetime.strtotime(options.maxTime).getTime()<now.getTime())||(options.minTime!==false&&_xdsoft_datetime.strtotime(options.minTime).getTime()>now.getTime()))\n\t\t\t\t\t\t\t\t\tclasses.push('xdsoft_disabled');\n\t\t\t\t\t\t\t\tif( (options.defaultSelect||datetimepicker.data('changed')) && parseInt(_xdsoft_datetime.currentTime.getHours())==parseInt(h)&&(options.step>59||Math[options.roundTime](_xdsoft_datetime.currentTime.getMinutes()/options.step)*options.step==parseInt(m)))\n\t\t\t\t\t\t\t\t\tclasses.push('xdsoft_current');\n\t\t\t\t\t\t\t\tif( parseInt(today.getHours())==parseInt(h)&&parseInt(today.getMinutes())==parseInt(m))\n\t\t\t\t\t\t\t\t\tclasses.push('xdsoft_today');\n\t\t\t\t\t\t\t\ttime+= '<div class=\"xdsoft_time '+classes.join(' ')+'\" data-hour=\"'+h+'\" data-minute=\"'+m+'\">'+now.dateFormat(options.formatTime)+'</div>';\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif( !options.allowTimes || !$.isArray(options.allowTimes) || !options.allowTimes.length ) {\n\t\t\t\t\t\t\tfor( var i=0,j=0;i<(options.hours12?12:24);i++ ) {\n\t\t\t\t\t\t\t\tfor( j=0;j<60;j+=options.step ) {\n\t\t\t\t\t\t\t\t\th = (i<10?'0':'')+i;\n\t\t\t\t\t\t\t\t\tm = (j<10?'0':'')+j;\n\t\t\t\t\t\t\t\t\tline_time( h,m );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tfor( var i=0;i<options.allowTimes.length;i++ ) {\n\t\t\t\t\t\t\t\th = _xdsoft_datetime.strtotime(options.allowTimes[i]).getHours();\n\t\t\t\t\t\t\t\tm = _xdsoft_datetime.strtotime(options.allowTimes[i]).getMinutes();\n\t\t\t\t\t\t\t\tline_time( h,m );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttimebox.html(time);\n\n\t\t\t\t\t\tvar opt = '',\n\t\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\t\tfor( i = parseInt(options.yearStart,10)+options.yearOffset;i<= parseInt(options.yearEnd,10)+options.yearOffset;i++ ) {\n\t\t\t\t\t\t\topt+='<div class=\"xdsoft_option '+(_xdsoft_datetime.currentTime.getFullYear()==i?'xdsoft_current':'')+'\" data-value=\"'+i+'\">'+i+'</div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tyearselect.children().eq(0)\n\t\t\t\t\t\t\t\t\t\t\t\t.html(opt);\n\n\t\t\t\t\t\tfor( i = 0,opt = '';i<= 11;i++ ) {\n\t\t\t\t\t\t\topt+='<div class=\"xdsoft_option '+(_xdsoft_datetime.currentTime.getMonth()==i?'xdsoft_current':'')+'\" data-value=\"'+i+'\">'+options.i18n[options.lang].months[i]+'</div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmonthselect.children().eq(0).html(opt);\n\t\t\t\t\t\t$(this).trigger('generate.xdsoft');\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t})\n\t\t\t\t\t.on('afterOpen.xdsoft',function() {\n\t\t\t\t\t\tif( options.timepicker && timebox.find('.xdsoft_current').length ) {\n\t\t\t\t\t\t\tvar pheight = timeboxparent[0].clientHeight,\n\t\t\t\t\t\t\t\theight = timebox[0].offsetHeight,\n\t\t\t\t\t\t\t\ttop = timebox.find('.xdsoft_current').index()*options.timeHeightInTimePicker+1;\n\t\t\t\t\t\t\tif( (height-pheight)<top )\n\t\t\t\t\t\t\t\ttop = height-pheight;\n\t\t\t\t\t\t\ttimebox.css('marginTop','-'+parseInt(top)+'px');\n\t\t\t\t\t\t\ttimeboxparent.trigger('scroll_element.xdsoft_scroller',[parseInt(top)/(height-pheight)]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tvar timerclick = 0;\n\t\t\t\tcalendar\n\t\t\t\t\t.on('click.xdsoft','td',function() {\n\t\t\t\t\t\ttimerclick++;\n\t\t\t\t\t\tvar $this = $(this),\n\t\t\t\t\t\t\tcurrentTime = _xdsoft_datetime.currentTime;\n\t\t\t\t\t\tif( $this.hasClass('xdsoft_disabled') )\n\t\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t\tcurrentTime.setFullYear( $this.data('year') );\n\t\t\t\t\t\tcurrentTime.setMonth( $this.data('month') );\n\t\t\t\t\t\tcurrentTime.setDate( $this.data('date') );\n\t\t\t\t\t\tdatetimepicker.trigger('select.xdsoft',[currentTime]);\n\n\t\t\t\t\t\tinput.val( _xdsoft_datetime.str() );\n\t\t\t\t\t\tif( (timerclick>1||(options.closeOnDateSelect===true||( options.closeOnDateSelect===0&&!options.timepicker )))&&!options.inline ) {\n\t\t\t\t\t\t\tdatetimepicker.trigger('close.xdsoft');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif( options.onSelectDate &&\toptions.onSelectDate.call ) {\n\t\t\t\t\t\t\toptions.onSelectDate.call(datetimepicker,_xdsoft_datetime.currentTime,datetimepicker.data('input'));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdatetimepicker.data('changed',true);\n\t\t\t\t\t\tdatetimepicker.trigger('xchange.xdsoft');\n\t\t\t\t\t\tdatetimepicker.trigger('changedatetime.xdsoft');\n\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\ttimerclick = 0;\n\t\t\t\t\t\t},200);\n\t\t\t\t\t});\n\n\t\t\t\ttimebox\n\t\t\t\t\t.on('click.xdsoft','div',function() {\n\t\t\t\t\t\tvar $this = $(this),\n\t\t\t\t\t\t\tcurrentTime = _xdsoft_datetime.currentTime;\n\t\t\t\t\t\tif( $this.hasClass('xdsoft_disabled') )\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\tcurrentTime.setHours($this.data('hour'));\n\t\t\t\t\t\tcurrentTime.setMinutes($this.data('minute'));\n\t\t\t\t\t\tdatetimepicker.trigger('select.xdsoft',[currentTime]);\n\n\t\t\t\t\t\tdatetimepicker.data('input').val( _xdsoft_datetime.str() );\n\n\t\t\t\t\t\t!options.inline&&datetimepicker.trigger('close.xdsoft');\n\n\t\t\t\t\t\tif( options.onSelectTime&&options.onSelectTime.call ) {\n\t\t\t\t\t\t\toptions.onSelectTime.call(datetimepicker,_xdsoft_datetime.currentTime,datetimepicker.data('input'));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdatetimepicker.data('changed',true);\n\t\t\t\t\t\tdatetimepicker.trigger('xchange.xdsoft');\n\t\t\t\t\t\tdatetimepicker.trigger('changedatetime.xdsoft');\n\t\t\t\t\t});\n\n\t\t\t\tdatetimepicker.mousewheel&&datepicker.mousewheel(function(event, delta, deltaX, deltaY) {\n\t\t\t\t\tif( !options.scrollMonth )\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tif( delta<0 )\n\t\t\t\t\t\t_xdsoft_datetime.nextMonth();\n\t\t\t\t\telse\n\t\t\t\t\t\t_xdsoft_datetime.prevMonth();\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\n\t\t\t\tdatetimepicker.mousewheel&&timeboxparent.unmousewheel().mousewheel(function(event, delta, deltaX, deltaY) {\n\t\t\t\t\tif( !options.scrollTime )\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tvar pheight = timeboxparent[0].clientHeight,\n\t\t\t\t\t\theight = timebox[0].offsetHeight,\n\t\t\t\t\t\ttop = Math.abs(parseInt(timebox.css('marginTop'))),\n\t\t\t\t\t\tfl = true;\n\t\t\t\t\tif( delta<0 && (height-pheight)-options.timeHeightInTimePicker>=top ) {\n\t\t\t\t\t\ttimebox.css('marginTop','-'+(top+options.timeHeightInTimePicker)+'px');\n\t\t\t\t\t\tfl = false;\n\t\t\t\t\t}else if( delta>0&&top-options.timeHeightInTimePicker>=0 ) {\n\t\t\t\t\t\ttimebox.css('marginTop','-'+(top-options.timeHeightInTimePicker)+'px');\n\t\t\t\t\t\tfl = false;\n\t\t\t\t\t}\n\t\t\t\t\ttimeboxparent.trigger('scroll_element.xdsoft_scroller',[Math.abs(parseInt(timebox.css('marginTop'))/(height-pheight))]);\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\treturn fl;\n\t\t\t\t});\n\n\t\t\t\tdatetimepicker\n\t\t\t\t\t.on('changedatetime.xdsoft',function() {\n\t\t\t\t\t\tif( options.onChangeDateTime&&options.onChangeDateTime.call )\n\t\t\t\t\t\t\toptions.onChangeDateTime.call(datetimepicker,_xdsoft_datetime.currentTime,datetimepicker.data('input'));\n\t\t\t\t\t})\n\t\t\t\t\t.on('generate.xdsoft',function() {\n\t\t\t\t\t\tif( options.onGenerate&&options.onGenerate.call )\n\t\t\t\t\t\t\toptions.onGenerate.call(datetimepicker,_xdsoft_datetime.currentTime,datetimepicker.data('input'));\n\t\t\t\t\t});\n\n\t\t\t\tvar current_time_index = 0;\n\t\t\t\tinput.mousewheel&&input.mousewheel(function( event, delta, deltaX, deltaY ) {\n\t\t\t\t\tif( !options.scrollInput )\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tif( !options.datepicker && options.timepicker ) {\n\t\t\t\t\t\tcurrent_time_index = timebox.find('.xdsoft_current').length?timebox.find('.xdsoft_current').eq(0).index():0;\n\t\t\t\t\t\tif( current_time_index+delta>=0&&current_time_index+delta<timebox.children().length )\n\t\t\t\t\t\t\tcurrent_time_index+=delta;\n\t\t\t\t\t\ttimebox.children().eq(current_time_index).length&&timebox.children().eq(current_time_index).trigger('mousedown');\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}else if( options.datepicker && !options.timepicker ) {\n\t\t\t\t\t\tdatepicker.trigger( event, [delta, deltaX, deltaY]);\n\t\t\t\t\t\tinput.val&&input.val( _xdsoft_datetime.str() );\n\t\t\t\t\t\tdatetimepicker.trigger('changedatetime.xdsoft');\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar setPos = function() {\n\t\t\t\t\tvar offset = datetimepicker.data('input').offset(), top = offset.top+datetimepicker.data('input')[0].offsetHeight-1, left = offset.left;\n\t\t\t\t\tif( top+datetimepicker[0].offsetHeight>$(window).height()+$(window).scrollTop() )\n\t\t\t\t\t\ttop = offset.top-datetimepicker[0].offsetHeight+1;\n\t\t\t\t\tif( left+datetimepicker[0].offsetWidth>$(window).width() )\n\t\t\t\t\t\tleft = offset.left-datetimepicker[0].offsetWidth+datetimepicker.data('input')[0].offsetWidth;\n\t\t\t\t\tdatetimepicker.css({\n\t\t\t\t\t\tleft:left,\n\t\t\t\t\t\ttop:top\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tdatetimepicker\n\t\t\t\t\t.on('open.xdsoft', function() {\n\t\t\t\t\t\tvar onShow = true;\n\t\t\t\t\t\tif( options.onShow&&options.onShow.call) {\n\t\t\t\t\t\t\tonShow = options.onShow.call(datetimepicker,_xdsoft_datetime.currentTime,datetimepicker.data('input'));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif( onShow!==false ) {\n\t\t\t\t\t\t\tdatetimepicker.show();\n\t\t\t\t\t\t\tdatetimepicker.trigger('afterOpen.xdsoft');\n\t\t\t\t\t\t\tsetPos();\n\t\t\t\t\t\t\t$(window)\n\t\t\t\t\t\t\t\t.off('resize.xdsoft',setPos)\n\t\t\t\t\t\t\t\t.on('resize.xdsoft',setPos);\n\n\t\t\t\t\t\t\tif( options.closeOnWithoutClick ) {\n\t\t\t\t\t\t\t\t$([document.body,window]).on('mousedown.xdsoft',function arguments_callee6() {\n\t\t\t\t\t\t\t\t\tdatetimepicker.trigger('close.xdsoft');\n\t\t\t\t\t\t\t\t\t$([document.body,window]).off('mousedown.xdsoft',arguments_callee6);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.on('close.xdsoft', function( event ) {\n\t\t\t\t\t\tvar onClose = true;\n\t\t\t\t\t\tif( options.onClose&&options.onClose.call ) {\n\t\t\t\t\t\t\tonClose=options.onClose.call(datetimepicker,_xdsoft_datetime.currentTime,datetimepicker.data('input'));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif( onClose!==false&&!options.opened&&!options.inline ) {\n\t\t\t\t\t\t\tdatetimepicker.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t})\n\t\t\t\t\t.data('input',input);\n\n\t\t\t\tvar timer = 0,\n\t\t\t\t\ttimer1 = 0;\n\n\t\t\t\tdatetimepicker.data('xdsoft_datetime',_xdsoft_datetime);\n\t\t\t\tdatetimepicker.setOptions(options);\n\n\t\t\t\tvar ct = options.value?options.value:(input&&input.val&&input.val())?input.val():'';\n\t\t\t\tif( ct && _xdsoft_datetime.isValidDate(ct = Date.parseDate(ct, options.format)) ) {\n\t\t\t\t\tdatetimepicker.data('changed',true);\n\t\t\t\t}else\n\t\t\t\t\tct = '';\n\n\t\t\t\t_xdsoft_datetime.setCurrentTime( ct?ct:0 );\n\n\t\t\t\tdatetimepicker.trigger('afterOpen.xdsoft');\n\n\t\t\t\tinput\n\t\t\t\t\t.data( 'xdsoft_datetimepicker',datetimepicker )\n\t\t\t\t\t.on('open.xdsoft focusin.xdsoft mousedown.xdsoft',function(event) {\n\t\t\t\t\t\tif( input.is(':disabled')||input.is(':hidden')||!input.is(':visible') )\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\ttimer = setTimeout(function() {\n\t\t\t\t\t\t\tif( input.is(':disabled')||input.is(':hidden')||!input.is(':visible') )\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t_xdsoft_datetime.setCurrentTime((input&&input.val&&input.val())?input.val():0);\n\t\t\t\t\t\t\tdatetimepicker.trigger('open.xdsoft');\n\t\t\t\t\t\t},100);\n\t\t\t\t\t})\n\t\t\t\t\t.on('keydown.xdsoft',function( event ) {\n\t\t\t\t\t\tvar val = this.value,\n\t\t\t\t\t\t\tkey = event.which;\n\t\t\t\t\t\tswitch(true) {\n\t\t\t\t\t\t\tcase !!~([ENTER].indexOf(key)):\n\t\t\t\t\t\t\t\tvar elementSelector = $(\"input:visible,textarea:visible\");\n\t\t\t\t\t\t\t\tdatetimepicker.trigger('close.xdsoft');\n\t\t\t\t\t\t\t\telementSelector.eq(elementSelector.index(this) + 1).focus();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\tcase !!~[TAB].indexOf(key):\n\t\t\t\t\t\t\t\tdatetimepicker.trigger('close.xdsoft');\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tdestroyDateTimePicker = function( input ) {\n\t\t\t\tvar datetimepicker = input.data('xdsoft_datetimepicker');\n\t\t\t\tif( datetimepicker ) {\n\t\t\t\t\tdatetimepicker.data('xdsoft_datetime',null);\n\t\t\t\t\tdatetimepicker.remove();\n\t\t\t\t\tinput\n\t\t\t\t\t\t.data( 'xdsoft_datetimepicker',null )\n\t\t\t\t\t\t.off( 'open.xdsoft focusin.xdsoft focusout.xdsoft mousedown.xdsoft blur.xdsoft keydown.xdsoft' );\n\t\t\t\t\t$(window).off('resize.xdsoft');\n\t\t\t\t\t$([window,document.body]).off('mousedown.xdsoft');\n\t\t\t\t\tinput.unmousewheel&&input.unmousewheel();\n\t\t\t\t}\n\t\t\t};\n\t\t$(document)\n\t\t\t.off('keydown.xdsoftctrl keyup.xdsoftctrl')\n\t\t\t.on('keydown.xdsoftctrl',function(e) {\n\t\t\t\tif ( e.keyCode == CTRLKEY )\n\t\t\t\t\tctrlDown = true;\n\t\t\t})\n\t\t\t.on('keyup.xdsoftctrl',function(e) {\n\t\t\t\tif ( e.keyCode == CTRLKEY )\n\t\t\t\t\tctrlDown = false;\n\t\t\t});\n\t\treturn this.each(function() {\n\t\t\tvar datetimepicker;\n\t\t\tif( datetimepicker = $(this).data('xdsoft_datetimepicker') ) {\n\t\t\t\tif( $.type(opt) === 'string' ) {\n\t\t\t\t\tswitch(opt) {\n\t\t\t\t\t\tcase 'show':\n\t\t\t\t\t\t\t$(this).select().focus();\n\t\t\t\t\t\t\tdatetimepicker.trigger( 'open.xdsoft' );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'hide':\n\t\t\t\t\t\t\tdatetimepicker.trigger('close.xdsoft');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'destroy':\n\t\t\t\t\t\t\tdestroyDateTimePicker($(this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'reset':\n\t\t\t\t\t\t\tthis.value = this.defaultValue;\n\t\t\t\t\t\t\tif(!this.value || !datetimepicker.data('xdsoft_datetime').isValidDate(Date.parseDate(this.value, options.format)))\n\t\t\t\t\t\t\t\tdatetimepicker.data('changed',false);\n\t\t\t\t\t\t\tdatetimepicker.data('xdsoft_datetime').setCurrentTime(this.value);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tdatetimepicker\n\t\t\t\t\t\t.setOptions(opt);\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t}else\n\t\t\t\t($.type(opt) !== 'string')&&createDateTimePicker($(this));\n\t\t});\n\t};\n})( jQuery );\n\n//http://www.xaprb.com/blog/2005/12/12/javascript-closures-for-runtime-efficiency/\n/*\n * Copyright (C) 2004 Baron Schwartz <baron at sequent dot org>\n *\n * This program is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by the\n * Free Software Foundation, version 2.1.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS\n * FOR A PARTICULAR PURPOSE.  See the GNU Lesser General Public License for more\n * details.\n */\nDate.parseFunctions={count:0};Date.parseRegexes=[];Date.formatFunctions={count:0};Date.prototype.dateFormat=function(format) {if(Date.formatFunctions[format]==null) {Date.createNewFormat(format)}var func=Date.formatFunctions[format];return this[func]()};Date.createNewFormat=function(format) {var funcName=\"format\"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;var code=\"Date.prototype.\"+funcName+\" = function() {return \";var special=false;var ch='';for(var i=0;i<format.length;++i) {ch=format.charAt(i);if(!special&&ch==\"\\\\\") {special=true}else if(special) {special=false;code+=\"'\"+String.escape(ch)+\"' + \"}else{code+=Date.getFormatCode(ch)}}eval(code.substring(0,code.length-3)+\";}\")};Date.getFormatCode=function(character) {switch(character) {case\"d\":return\"String.leftPad(this.getDate(), 2, '0') + \";case\"D\":return\"Date.dayNames[this.getDay()].substring(0, 3) + \";case\"j\":return\"this.getDate() + \";case\"l\":return\"Date.dayNames[this.getDay()] + \";case\"S\":return\"this.getSuffix() + \";case\"w\":return\"this.getDay() + \";case\"z\":return\"this.getDayOfYear() + \";case\"W\":return\"this.getWeekOfYear() + \";case\"F\":return\"Date.monthNames[this.getMonth()] + \";case\"m\":return\"String.leftPad(this.getMonth() + 1, 2, '0') + \";case\"M\":return\"Date.monthNames[this.getMonth()].substring(0, 3) + \";case\"n\":return\"(this.getMonth() + 1) + \";case\"t\":return\"this.getDaysInMonth() + \";case\"L\":return\"(this.isLeapYear() ? 1 : 0) + \";case\"Y\":return\"this.getFullYear() + \";case\"y\":return\"('' + this.getFullYear()).substring(2, 4) + \";case\"a\":return\"(this.getHours() < 12 ? 'am' : 'pm') + \";case\"A\":return\"(this.getHours() < 12 ? 'AM' : 'PM') + \";case\"g\":return\"((this.getHours() %12) ? this.getHours() % 12 : 12) + \";case\"G\":return\"this.getHours() + \";case\"h\":return\"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + \";case\"H\":return\"String.leftPad(this.getHours(), 2, '0') + \";case\"i\":return\"String.leftPad(this.getMinutes(), 2, '0') + \";case\"s\":return\"String.leftPad(this.getSeconds(), 2, '0') + \";case\"O\":return\"this.getGMTOffset() + \";case\"T\":return\"this.getTimezone() + \";case\"Z\":return\"(this.getTimezoneOffset() * -60) + \";default:return\"'\"+String.escape(character)+\"' + \"}};Date.parseDate=function(input,format) {if(Date.parseFunctions[format]==null) {Date.createParser(format)}var func=Date.parseFunctions[format];return Date[func](input)};Date.createParser=function(format) {var funcName=\"parse\"+Date.parseFunctions.count++;var regexNum=Date.parseRegexes.length;var currentGroup=1;Date.parseFunctions[format]=funcName;var code=\"Date.\"+funcName+\" = function(input) {\\n\"+\"var y = -1, m = -1, d = -1, h = -1, i = -1, s = -1;\\n\"+\"var d = new Date();\\n\"+\"y = d.getFullYear();\\n\"+\"m = d.getMonth();\\n\"+\"d = d.getDate();\\n\"+\"var results = input.match(Date.parseRegexes[\"+regexNum+\"]);\\n\"+\"if (results && results.length > 0) {\";var regex=\"\";var special=false;var ch='';for(var i=0;i<format.length;++i) {ch=format.charAt(i);if(!special&&ch==\"\\\\\") {special=true}else if(special) {special=false;regex+=String.escape(ch)}else{obj=Date.formatCodeToRegex(ch,currentGroup);currentGroup+=obj.g;regex+=obj.s;if(obj.g&&obj.c) {code+=obj.c}}}code+=\"if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\\n\"+\"{return new Date(y, m, d, h, i, s);}\\n\"+\"else if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\\n\"+\"{return new Date(y, m, d, h, i);}\\n\"+\"else if (y > 0 && m >= 0 && d > 0 && h >= 0)\\n\"+\"{return new Date(y, m, d, h);}\\n\"+\"else if (y > 0 && m >= 0 && d > 0)\\n\"+\"{return new Date(y, m, d);}\\n\"+\"else if (y > 0 && m >= 0)\\n\"+\"{return new Date(y, m);}\\n\"+\"else if (y > 0)\\n\"+\"{return new Date(y);}\\n\"+\"}return null;}\";Date.parseRegexes[regexNum]=new RegExp(\"^\"+regex+\"$\");eval(code)};Date.formatCodeToRegex=function(character,currentGroup) {switch(character) {case\"D\":return{g:0,c:null,s:\"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)\"};case\"j\":case\"d\":return{g:1,c:\"d = parseInt(results[\"+currentGroup+\"], 10);\\n\",s:\"(\\\\d{1,2})\"};case\"l\":return{g:0,c:null,s:\"(?:\"+Date.dayNames.join(\"|\")+\")\"};case\"S\":return{g:0,c:null,s:\"(?:st|nd|rd|th)\"};case\"w\":return{g:0,c:null,s:\"\\\\d\"};case\"z\":return{g:0,c:null,s:\"(?:\\\\d{1,3})\"};case\"W\":return{g:0,c:null,s:\"(?:\\\\d{2})\"};case\"F\":return{g:1,c:\"m = parseInt(Date.monthNumbers[results[\"+currentGroup+\"].substring(0, 3)], 10);\\n\",s:\"(\"+Date.monthNames.join(\"|\")+\")\"};case\"M\":return{g:1,c:\"m = parseInt(Date.monthNumbers[results[\"+currentGroup+\"]], 10);\\n\",s:\"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\"};case\"n\":case\"m\":return{g:1,c:\"m = parseInt(results[\"+currentGroup+\"], 10) - 1;\\n\",s:\"(\\\\d{1,2})\"};case\"t\":return{g:0,c:null,s:\"\\\\d{1,2}\"};case\"L\":return{g:0,c:null,s:\"(?:1|0)\"};case\"Y\":return{g:1,c:\"y = parseInt(results[\"+currentGroup+\"], 10);\\n\",s:\"(\\\\d{4})\"};case\"y\":return{g:1,c:\"var ty = parseInt(results[\"+currentGroup+\"], 10);\\n\"+\"y = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\\n\",s:\"(\\\\d{1,2})\"};case\"a\":return{g:1,c:\"if (results[\"+currentGroup+\"] == 'am') {\\n\"+\"if (h == 12) { h = 0; }\\n\"+\"} else { if (h < 12) { h += 12; }}\",s:\"(am|pm)\"};case\"A\":return{g:1,c:\"if (results[\"+currentGroup+\"] == 'AM') {\\n\"+\"if (h == 12) { h = 0; }\\n\"+\"} else { if (h < 12) { h += 12; }}\",s:\"(AM|PM)\"};case\"g\":case\"G\":case\"h\":case\"H\":return{g:1,c:\"h = parseInt(results[\"+currentGroup+\"], 10);\\n\",s:\"(\\\\d{1,2})\"};case\"i\":return{g:1,c:\"i = parseInt(results[\"+currentGroup+\"], 10);\\n\",s:\"(\\\\d{2})\"};case\"s\":return{g:1,c:\"s = parseInt(results[\"+currentGroup+\"], 10);\\n\",s:\"(\\\\d{2})\"};case\"O\":return{g:0,c:null,s:\"[+-]\\\\d{4}\"};case\"T\":return{g:0,c:null,s:\"[A-Z]{3}\"};case\"Z\":return{g:0,c:null,s:\"[+-]\\\\d{1,5}\"};default:return{g:0,c:null,s:String.escape(character)}}};Date.prototype.getTimezone=function() {return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,\"$1\").replace(/^.*?\\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\\)$/,\"$1$2$3\")};Date.prototype.getGMTOffset=function() {return(this.getTimezoneOffset()>0?\"-\":\"+\")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,\"0\")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,\"0\")};Date.prototype.getDayOfYear=function() {var num=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var i=0;i<this.getMonth();++i) {num+=Date.daysInMonth[i]}return num+this.getDate()-1};Date.prototype.getWeekOfYear=function() {var now=this.getDayOfYear()+(4-this.getDay());var jan1=new Date(this.getFullYear(),0,1);var then=(7-jan1.getDay()+4);document.write(then);return String.leftPad(((now-then)/7)+1,2,\"0\")};Date.prototype.isLeapYear=function() {var year=this.getFullYear();return((year&3)==0&&(year%100||(year%400==0&&year)))};Date.prototype.getFirstDayOfMonth=function() {var day=(this.getDay()-(this.getDate()-1))%7;return(day<0)?(day+7):day};Date.prototype.getLastDayOfMonth=function() {var day=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return(day<0)?(day+7):day};Date.prototype.getDaysInMonth=function() {Date.daysInMonth[1]=this.isLeapYear()?29:28;return Date.daysInMonth[this.getMonth()]};Date.prototype.getSuffix=function() {switch(this.getDate()) {case 1:case 21:case 31:return\"st\";case 2:case 22:return\"nd\";case 3:case 23:return\"rd\";default:return\"th\"}};String.escape=function(string) {return string.replace(/('|\\\\)/g,\"\\\\$1\")};String.leftPad=function(val,size,ch) {var result=new String(val);if(ch==null) {ch=\" \"}while(result.length<size) {result=ch+result}return result};Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31];Date.monthNames=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];Date.dayNames=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"];Date.y2kYear=50;Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};Date.patterns={ISO8601LongPattern:\"Y-m-d H:i:s\",ISO8601ShortPattern:\"Y-m-d\",ShortDatePattern:\"n/j/Y\",LongDatePattern:\"l, F d, Y\",FullDateTimePattern:\"l, F d, Y g:i:s A\",MonthDayPattern:\"F d\",ShortTimePattern:\"g:i A\",LongTimePattern:\"g:i:s A\",SortableDateTimePattern:\"Y-m-d\\\\TH:i:s\",UniversalSortableDateTimePattern:\"Y-m-d H:i:sO\",YearMonthPattern:\"F, Y\"};\n\n//https://github.com/brandonaaron/jquery-mousewheel/blob/master/jquery.mousewheel.js\n/*\n * Copyright (c) 2013 Brandon Aaron (http://brandonaaron.net)\n *\n * Licensed under the MIT License (LICENSE.txt).\n *\n * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.\n * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.\n * Thanks to: Seamus Leahy for adding deltaX and deltaY\n *\n * Version: 3.1.3\n *\n * Requires: 1.2.2+\n */\n(function(factory) {if(typeof define==='function'&&define.amd) {define(['jquery'],factory)}else if(typeof exports==='object') {module.exports=factory}else{factory(jQuery)}}(function($) {var toFix=['wheel','mousewheel','DOMMouseScroll','MozMousePixelScroll'];var toBind='onwheel'in document||document.documentMode>=9?['wheel']:['mousewheel','DomMouseScroll','MozMousePixelScroll'];var lowestDelta,lowestDeltaXY;if($.event.fixHooks) {for(var i=toFix.length;i;) {$.event.fixHooks[toFix[--i]]=$.event.mouseHooks}}$.event.special.mousewheel={setup:function() {if(this.addEventListener) {for(var i=toBind.length;i;) {this.addEventListener(toBind[--i],handler,false)}}else{this.onmousewheel=handler}},teardown:function() {if(this.removeEventListener) {for(var i=toBind.length;i;) {this.removeEventListener(toBind[--i],handler,false)}}else{this.onmousewheel=null}}};$.fn.extend({mousewheel:function(fn) {return fn?this.bind(\"mousewheel\",fn):this.trigger(\"mousewheel\")},unmousewheel:function(fn) {return this.unbind(\"mousewheel\",fn)}});function handler(event) {var orgEvent=event||window.event,args=[].slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,absDelta=0,absDeltaXY=0,fn;event=$.event.fix(orgEvent);event.type=\"mousewheel\";if(orgEvent.wheelDelta) {delta=orgEvent.wheelDelta}if(orgEvent.detail) {delta=orgEvent.detail*-1}if(orgEvent.deltaY) {deltaY=orgEvent.deltaY*-1;delta=deltaY}if(orgEvent.deltaX) {deltaX=orgEvent.deltaX;delta=deltaX*-1}if(orgEvent.wheelDeltaY!==undefined) {deltaY=orgEvent.wheelDeltaY}if(orgEvent.wheelDeltaX!==undefined) {deltaX=orgEvent.wheelDeltaX*-1}absDelta=Math.abs(delta);if(!lowestDelta||absDelta<lowestDelta) {lowestDelta=absDelta}absDeltaXY=Math.max(Math.abs(deltaY),Math.abs(deltaX));if(!lowestDeltaXY||absDeltaXY<lowestDeltaXY) {lowestDeltaXY=absDeltaXY}fn=delta>0?'floor':'ceil';delta=Math[fn](delta/lowestDelta);deltaX=Math[fn](deltaX/lowestDeltaXY);deltaY=Math[fn](deltaY/lowestDeltaXY);args.unshift(event,delta,deltaX,deltaY);return($.event.dispatch||$.event.handle).apply(this,args)}}));\n\n/* sockjs-client v1.1.1 | http://sockjs.org | MIT license */\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.SockJS=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar transportList = require('./transport-list');\n\nmodule.exports = require('./main')(transportList);\n\n// TODO can't get rid of this until all servers do\nif ('_sockjs_onload' in global) {\n  setTimeout(global._sockjs_onload, 1);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./main\":14,\"./transport-list\":16}],2:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , Event = require('./event')\n  ;\n\nfunction CloseEvent() {\n  Event.call(this);\n  this.initEvent('close', false, false);\n  this.wasClean = false;\n  this.code = 0;\n  this.reason = '';\n}\n\ninherits(CloseEvent, Event);\n\nmodule.exports = CloseEvent;\n\n},{\"./event\":4,\"inherits\":57}],3:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , EventTarget = require('./eventtarget')\n  ;\n\nfunction EventEmitter() {\n  EventTarget.call(this);\n}\n\ninherits(EventEmitter, EventTarget);\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  if (type) {\n    delete this._listeners[type];\n  } else {\n    this._listeners = {};\n  }\n};\n\nEventEmitter.prototype.once = function(type, listener) {\n  var self = this\n    , fired = false;\n\n  function g() {\n    self.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  this.on(type, g);\n};\n\nEventEmitter.prototype.emit = function() {\n  var type = arguments[0];\n  var listeners = this._listeners[type];\n  if (!listeners) {\n    return;\n  }\n  // equivalent of Array.prototype.slice.call(arguments, 1);\n  var l = arguments.length;\n  var args = new Array(l - 1);\n  for (var ai = 1; ai < l; ai++) {\n    args[ai - 1] = arguments[ai];\n  }\n  for (var i = 0; i < listeners.length; i++) {\n    listeners[i].apply(this, args);\n  }\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener = EventTarget.prototype.addEventListener;\nEventEmitter.prototype.removeListener = EventTarget.prototype.removeEventListener;\n\nmodule.exports.EventEmitter = EventEmitter;\n\n},{\"./eventtarget\":5,\"inherits\":57}],4:[function(require,module,exports){\n'use strict';\n\nfunction Event(eventType) {\n  this.type = eventType;\n}\n\nEvent.prototype.initEvent = function(eventType, canBubble, cancelable) {\n  this.type = eventType;\n  this.bubbles = canBubble;\n  this.cancelable = cancelable;\n  this.timeStamp = +new Date();\n  return this;\n};\n\nEvent.prototype.stopPropagation = function() {};\nEvent.prototype.preventDefault = function() {};\n\nEvent.CAPTURING_PHASE = 1;\nEvent.AT_TARGET = 2;\nEvent.BUBBLING_PHASE = 3;\n\nmodule.exports = Event;\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\n/* Simplified implementation of DOM2 EventTarget.\n *   http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget\n */\n\nfunction EventTarget() {\n  this._listeners = {};\n}\n\nEventTarget.prototype.addEventListener = function(eventType, listener) {\n  if (!(eventType in this._listeners)) {\n    this._listeners[eventType] = [];\n  }\n  var arr = this._listeners[eventType];\n  // #4\n  if (arr.indexOf(listener) === -1) {\n    // Make a copy so as not to interfere with a current dispatchEvent.\n    arr = arr.concat([listener]);\n  }\n  this._listeners[eventType] = arr;\n};\n\nEventTarget.prototype.removeEventListener = function(eventType, listener) {\n  var arr = this._listeners[eventType];\n  if (!arr) {\n    return;\n  }\n  var idx = arr.indexOf(listener);\n  if (idx !== -1) {\n    if (arr.length > 1) {\n      // Make a copy so as not to interfere with a current dispatchEvent.\n      this._listeners[eventType] = arr.slice(0, idx).concat(arr.slice(idx + 1));\n    } else {\n      delete this._listeners[eventType];\n    }\n    return;\n  }\n};\n\nEventTarget.prototype.dispatchEvent = function() {\n  var event = arguments[0];\n  var t = event.type;\n  // equivalent of Array.prototype.slice.call(arguments, 0);\n  var args = arguments.length === 1 ? [event] : Array.apply(null, arguments);\n  // TODO: This doesn't match the real behavior; per spec, onfoo get\n  // their place in line from the /first/ time they're set from\n  // non-null. Although WebKit bumps it to the end every time it's\n  // set.\n  if (this['on' + t]) {\n    this['on' + t].apply(this, args);\n  }\n  if (t in this._listeners) {\n    // Grab a reference to the listeners list. removeEventListener may alter the list.\n    var listeners = this._listeners[t];\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i].apply(this, args);\n    }\n  }\n};\n\nmodule.exports = EventTarget;\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , Event = require('./event')\n  ;\n\nfunction TransportMessageEvent(data) {\n  Event.call(this);\n  this.initEvent('message', false, false);\n  this.data = data;\n}\n\ninherits(TransportMessageEvent, Event);\n\nmodule.exports = TransportMessageEvent;\n\n},{\"./event\":4,\"inherits\":57}],7:[function(require,module,exports){\n'use strict';\n\nvar JSON3 = require('json3')\n  , iframeUtils = require('./utils/iframe')\n  ;\n\nfunction FacadeJS(transport) {\n  this._transport = transport;\n  transport.on('message', this._transportMessage.bind(this));\n  transport.on('close', this._transportClose.bind(this));\n}\n\nFacadeJS.prototype._transportClose = function(code, reason) {\n  iframeUtils.postMessage('c', JSON3.stringify([code, reason]));\n};\nFacadeJS.prototype._transportMessage = function(frame) {\n  iframeUtils.postMessage('t', frame);\n};\nFacadeJS.prototype._send = function(data) {\n  this._transport.send(data);\n};\nFacadeJS.prototype._close = function() {\n  this._transport.close();\n  this._transport.removeAllListeners();\n};\n\nmodule.exports = FacadeJS;\n\n},{\"./utils/iframe\":47,\"json3\":58}],8:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar urlUtils = require('./utils/url')\n  , eventUtils = require('./utils/event')\n  , JSON3 = require('json3')\n  , FacadeJS = require('./facade')\n  , InfoIframeReceiver = require('./info-iframe-receiver')\n  , iframeUtils = require('./utils/iframe')\n  , loc = require('./location')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:iframe-bootstrap');\n}\n\nmodule.exports = function(SockJS, availableTransports) {\n  var transportMap = {};\n  availableTransports.forEach(function(at) {\n    if (at.facadeTransport) {\n      transportMap[at.facadeTransport.transportName] = at.facadeTransport;\n    }\n  });\n\n  // hard-coded for the info iframe\n  // TODO see if we can make this more dynamic\n  transportMap[InfoIframeReceiver.transportName] = InfoIframeReceiver;\n  var parentOrigin;\n\n  /* eslint-disable camelcase */\n  SockJS.bootstrap_iframe = function() {\n    /* eslint-enable camelcase */\n    var facade;\n    iframeUtils.currentWindowId = loc.hash.slice(1);\n    var onMessage = function(e) {\n      if (e.source !== parent) {\n        return;\n      }\n      if (typeof parentOrigin === 'undefined') {\n        parentOrigin = e.origin;\n      }\n      if (e.origin !== parentOrigin) {\n        return;\n      }\n\n      var iframeMessage;\n      try {\n        iframeMessage = JSON3.parse(e.data);\n      } catch (ignored) {\n        debug('bad json', e.data);\n        return;\n      }\n\n      if (iframeMessage.windowId !== iframeUtils.currentWindowId) {\n        return;\n      }\n      switch (iframeMessage.type) {\n      case 's':\n        var p;\n        try {\n          p = JSON3.parse(iframeMessage.data);\n        } catch (ignored) {\n          debug('bad json', iframeMessage.data);\n          break;\n        }\n        var version = p[0];\n        var transport = p[1];\n        var transUrl = p[2];\n        var baseUrl = p[3];\n        debug(version, transport, transUrl, baseUrl);\n        // change this to semver logic\n        if (version !== SockJS.version) {\n          throw new Error('Incompatible SockJS! Main site uses:' +\n                    ' \"' + version + '\", the iframe:' +\n                    ' \"' + SockJS.version + '\".');\n        }\n\n        if (!urlUtils.isOriginEqual(transUrl, loc.href) ||\n            !urlUtils.isOriginEqual(baseUrl, loc.href)) {\n          throw new Error('Can\\'t connect to different domain from within an ' +\n                    'iframe. (' + loc.href + ', ' + transUrl + ', ' + baseUrl + ')');\n        }\n        facade = new FacadeJS(new transportMap[transport](transUrl, baseUrl));\n        break;\n      case 'm':\n        facade._send(iframeMessage.data);\n        break;\n      case 'c':\n        if (facade) {\n          facade._close();\n        }\n        facade = null;\n        break;\n      }\n    };\n\n    eventUtils.attachEvent('message', onMessage);\n\n    // Start\n    iframeUtils.postMessage('s');\n  };\n};\n\n}).call(this,{ env: {} })\n\n},{\"./facade\":7,\"./info-iframe-receiver\":10,\"./location\":13,\"./utils/event\":46,\"./utils/iframe\":47,\"./utils/url\":52,\"debug\":54,\"json3\":58}],9:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , JSON3 = require('json3')\n  , objectUtils = require('./utils/object')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:info-ajax');\n}\n\nfunction InfoAjax(url, AjaxObject) {\n  EventEmitter.call(this);\n\n  var self = this;\n  var t0 = +new Date();\n  this.xo = new AjaxObject('GET', url);\n\n  this.xo.once('finish', function(status, text) {\n    var info, rtt;\n    if (status === 200) {\n      rtt = (+new Date()) - t0;\n      if (text) {\n        try {\n          info = JSON3.parse(text);\n        } catch (e) {\n          debug('bad json', text);\n        }\n      }\n\n      if (!objectUtils.isObject(info)) {\n        info = {};\n      }\n    }\n    self.emit('finish', info, rtt);\n    self.removeAllListeners();\n  });\n}\n\ninherits(InfoAjax, EventEmitter);\n\nInfoAjax.prototype.close = function() {\n  this.removeAllListeners();\n  this.xo.close();\n};\n\nmodule.exports = InfoAjax;\n\n}).call(this,{ env: {} })\n\n},{\"./utils/object\":49,\"debug\":54,\"events\":3,\"inherits\":57,\"json3\":58}],10:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , JSON3 = require('json3')\n  , XHRLocalObject = require('./transport/sender/xhr-local')\n  , InfoAjax = require('./info-ajax')\n  ;\n\nfunction InfoReceiverIframe(transUrl) {\n  var self = this;\n  EventEmitter.call(this);\n\n  this.ir = new InfoAjax(transUrl, XHRLocalObject);\n  this.ir.once('finish', function(info, rtt) {\n    self.ir = null;\n    self.emit('message', JSON3.stringify([info, rtt]));\n  });\n}\n\ninherits(InfoReceiverIframe, EventEmitter);\n\nInfoReceiverIframe.transportName = 'iframe-info-receiver';\n\nInfoReceiverIframe.prototype.close = function() {\n  if (this.ir) {\n    this.ir.close();\n    this.ir = null;\n  }\n  this.removeAllListeners();\n};\n\nmodule.exports = InfoReceiverIframe;\n\n},{\"./info-ajax\":9,\"./transport/sender/xhr-local\":37,\"events\":3,\"inherits\":57,\"json3\":58}],11:[function(require,module,exports){\n(function (process,global){\n'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , JSON3 = require('json3')\n  , utils = require('./utils/event')\n  , IframeTransport = require('./transport/iframe')\n  , InfoReceiverIframe = require('./info-iframe-receiver')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:info-iframe');\n}\n\nfunction InfoIframe(baseUrl, url) {\n  var self = this;\n  EventEmitter.call(this);\n\n  var go = function() {\n    var ifr = self.ifr = new IframeTransport(InfoReceiverIframe.transportName, url, baseUrl);\n\n    ifr.once('message', function(msg) {\n      if (msg) {\n        var d;\n        try {\n          d = JSON3.parse(msg);\n        } catch (e) {\n          debug('bad json', msg);\n          self.emit('finish');\n          self.close();\n          return;\n        }\n\n        var info = d[0], rtt = d[1];\n        self.emit('finish', info, rtt);\n      }\n      self.close();\n    });\n\n    ifr.once('close', function() {\n      self.emit('finish');\n      self.close();\n    });\n  };\n\n  // TODO this seems the same as the 'needBody' from transports\n  if (!global.document.body) {\n    utils.attachEvent('load', go);\n  } else {\n    go();\n  }\n}\n\ninherits(InfoIframe, EventEmitter);\n\nInfoIframe.enabled = function() {\n  return IframeTransport.enabled();\n};\n\nInfoIframe.prototype.close = function() {\n  if (this.ifr) {\n    this.ifr.close();\n  }\n  this.removeAllListeners();\n  this.ifr = null;\n};\n\nmodule.exports = InfoIframe;\n\n}).call(this,{ env: {} },typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./info-iframe-receiver\":10,\"./transport/iframe\":22,\"./utils/event\":46,\"debug\":54,\"events\":3,\"inherits\":57,\"json3\":58}],12:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , urlUtils = require('./utils/url')\n  , XDR = require('./transport/sender/xdr')\n  , XHRCors = require('./transport/sender/xhr-cors')\n  , XHRLocal = require('./transport/sender/xhr-local')\n  , XHRFake = require('./transport/sender/xhr-fake')\n  , InfoIframe = require('./info-iframe')\n  , InfoAjax = require('./info-ajax')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:info-receiver');\n}\n\nfunction InfoReceiver(baseUrl, urlInfo) {\n  debug(baseUrl);\n  var self = this;\n  EventEmitter.call(this);\n\n  setTimeout(function() {\n    self.doXhr(baseUrl, urlInfo);\n  }, 0);\n}\n\ninherits(InfoReceiver, EventEmitter);\n\n// TODO this is currently ignoring the list of available transports and the whitelist\n\nInfoReceiver._getReceiver = function(baseUrl, url, urlInfo) {\n  // determine method of CORS support (if needed)\n  if (urlInfo.sameOrigin) {\n    return new InfoAjax(url, XHRLocal);\n  }\n  if (XHRCors.enabled) {\n    return new InfoAjax(url, XHRCors);\n  }\n  if (XDR.enabled && urlInfo.sameScheme) {\n    return new InfoAjax(url, XDR);\n  }\n  if (InfoIframe.enabled()) {\n    return new InfoIframe(baseUrl, url);\n  }\n  return new InfoAjax(url, XHRFake);\n};\n\nInfoReceiver.prototype.doXhr = function(baseUrl, urlInfo) {\n  var self = this\n    , url = urlUtils.addPath(baseUrl, '/info')\n    ;\n  debug('doXhr', url);\n\n  this.xo = InfoReceiver._getReceiver(baseUrl, url, urlInfo);\n\n  this.timeoutRef = setTimeout(function() {\n    debug('timeout');\n    self._cleanup(false);\n    self.emit('finish');\n  }, InfoReceiver.timeout);\n\n  this.xo.once('finish', function(info, rtt) {\n    debug('finish', info, rtt);\n    self._cleanup(true);\n    self.emit('finish', info, rtt);\n  });\n};\n\nInfoReceiver.prototype._cleanup = function(wasClean) {\n  debug('_cleanup');\n  clearTimeout(this.timeoutRef);\n  this.timeoutRef = null;\n  if (!wasClean && this.xo) {\n    this.xo.close();\n  }\n  this.xo = null;\n};\n\nInfoReceiver.prototype.close = function() {\n  debug('close');\n  this.removeAllListeners();\n  this._cleanup(false);\n};\n\nInfoReceiver.timeout = 8000;\n\nmodule.exports = InfoReceiver;\n\n}).call(this,{ env: {} })\n\n},{\"./info-ajax\":9,\"./info-iframe\":11,\"./transport/sender/xdr\":34,\"./transport/sender/xhr-cors\":35,\"./transport/sender/xhr-fake\":36,\"./transport/sender/xhr-local\":37,\"./utils/url\":52,\"debug\":54,\"events\":3,\"inherits\":57}],13:[function(require,module,exports){\n(function (global){\n'use strict';\n\nmodule.exports = global.location || {\n  origin: 'http://localhost:80'\n, protocol: 'http'\n, host: 'localhost'\n, port: 80\n, href: 'http://localhost/'\n, hash: ''\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],14:[function(require,module,exports){\n(function (process,global){\n'use strict';\n\nrequire('./shims');\n\nvar URL = require('url-parse')\n  , inherits = require('inherits')\n  , JSON3 = require('json3')\n  , random = require('./utils/random')\n  , escape = require('./utils/escape')\n  , urlUtils = require('./utils/url')\n  , eventUtils = require('./utils/event')\n  , transport = require('./utils/transport')\n  , objectUtils = require('./utils/object')\n  , browser = require('./utils/browser')\n  , log = require('./utils/log')\n  , Event = require('./event/event')\n  , EventTarget = require('./event/eventtarget')\n  , loc = require('./location')\n  , CloseEvent = require('./event/close')\n  , TransportMessageEvent = require('./event/trans-message')\n  , InfoReceiver = require('./info-receiver')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:main');\n}\n\nvar transports;\n\n// follow constructor steps defined at http://dev.w3.org/html5/websockets/#the-websocket-interface\nfunction SockJS(url, protocols, options) {\n  if (!(this instanceof SockJS)) {\n    return new SockJS(url, protocols, options);\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'SockJS: 1 argument required, but only 0 present\");\n  }\n  EventTarget.call(this);\n\n  this.readyState = SockJS.CONNECTING;\n  this.extensions = '';\n  this.protocol = '';\n\n  // non-standard extension\n  options = options || {};\n  if (options.protocols_whitelist) {\n    log.warn(\"'protocols_whitelist' is DEPRECATED. Use 'transports' instead.\");\n  }\n  this._transportsWhitelist = options.transports;\n  this._transportOptions = options.transportOptions || {};\n\n  var sessionId = options.sessionId || 8;\n  if (typeof sessionId === 'function') {\n    this._generateSessionId = sessionId;\n  } else if (typeof sessionId === 'number') {\n    this._generateSessionId = function() {\n      return random.string(sessionId);\n    };\n  } else {\n    throw new TypeError('If sessionId is used in the options, it needs to be a number or a function.');\n  }\n\n  this._server = options.server || random.numberString(1000);\n\n  // Step 1 of WS spec - parse and validate the url. Issue #8\n  var parsedUrl = new URL(url);\n  if (!parsedUrl.host || !parsedUrl.protocol) {\n    throw new SyntaxError(\"The URL '\" + url + \"' is invalid\");\n  } else if (parsedUrl.hash) {\n    throw new SyntaxError('The URL must not contain a fragment');\n  } else if (parsedUrl.protocol !== 'http:' && parsedUrl.protocol !== 'https:') {\n    throw new SyntaxError(\"The URL's scheme must be either 'http:' or 'https:'. '\" + parsedUrl.protocol + \"' is not allowed.\");\n  }\n\n  var secure = parsedUrl.protocol === 'https:';\n  // Step 2 - don't allow secure origin with an insecure protocol\n  if (loc.protocol === 'https' && !secure) {\n    throw new Error('SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS');\n  }\n\n  // Step 3 - check port access - no need here\n  // Step 4 - parse protocols argument\n  if (!protocols) {\n    protocols = [];\n  } else if (!Array.isArray(protocols)) {\n    protocols = [protocols];\n  }\n\n  // Step 5 - check protocols argument\n  var sortedProtocols = protocols.sort();\n  sortedProtocols.forEach(function(proto, i) {\n    if (!proto) {\n      throw new SyntaxError(\"The protocols entry '\" + proto + \"' is invalid.\");\n    }\n    if (i < (sortedProtocols.length - 1) && proto === sortedProtocols[i + 1]) {\n      throw new SyntaxError(\"The protocols entry '\" + proto + \"' is duplicated.\");\n    }\n  });\n\n  // Step 6 - convert origin\n  var o = urlUtils.getOrigin(loc.href);\n  this._origin = o ? o.toLowerCase() : null;\n\n  // remove the trailing slash\n  parsedUrl.set('pathname', parsedUrl.pathname.replace(/\\/+$/, ''));\n\n  // store the sanitized url\n  this.url = parsedUrl.href;\n  debug('using url', this.url);\n\n  // Step 7 - start connection in background\n  // obtain server info\n  // http://sockjs.github.io/sockjs-protocol/sockjs-protocol-0.3.3.html#section-26\n  this._urlInfo = {\n    nullOrigin: !browser.hasDomain()\n  , sameOrigin: urlUtils.isOriginEqual(this.url, loc.href)\n  , sameScheme: urlUtils.isSchemeEqual(this.url, loc.href)\n  };\n\n  this._ir = new InfoReceiver(this.url, this._urlInfo);\n  this._ir.once('finish', this._receiveInfo.bind(this));\n}\n\ninherits(SockJS, EventTarget);\n\nfunction userSetCode(code) {\n  return code === 1000 || (code >= 3000 && code <= 4999);\n}\n\nSockJS.prototype.close = function(code, reason) {\n  // Step 1\n  if (code && !userSetCode(code)) {\n    throw new Error('InvalidAccessError: Invalid code');\n  }\n  // Step 2.4 states the max is 123 bytes, but we are just checking length\n  if (reason && reason.length > 123) {\n    throw new SyntaxError('reason argument has an invalid length');\n  }\n\n  // Step 3.1\n  if (this.readyState === SockJS.CLOSING || this.readyState === SockJS.CLOSED) {\n    return;\n  }\n\n  // TODO look at docs to determine how to set this\n  var wasClean = true;\n  this._close(code || 1000, reason || 'Normal closure', wasClean);\n};\n\nSockJS.prototype.send = function(data) {\n  // #13 - convert anything non-string to string\n  // TODO this currently turns objects into [object Object]\n  if (typeof data !== 'string') {\n    data = '' + data;\n  }\n  if (this.readyState === SockJS.CONNECTING) {\n    throw new Error('InvalidStateError: The connection has not been established yet');\n  }\n  if (this.readyState !== SockJS.OPEN) {\n    return;\n  }\n  this._transport.send(escape.quote(data));\n};\n\nSockJS.version = require('./version');\n\nSockJS.CONNECTING = 0;\nSockJS.OPEN = 1;\nSockJS.CLOSING = 2;\nSockJS.CLOSED = 3;\n\nSockJS.prototype._receiveInfo = function(info, rtt) {\n  debug('_receiveInfo', rtt);\n  this._ir = null;\n  if (!info) {\n    this._close(1002, 'Cannot connect to server');\n    return;\n  }\n\n  // establish a round-trip timeout (RTO) based on the\n  // round-trip time (RTT)\n  this._rto = this.countRTO(rtt);\n  // allow server to override url used for the actual transport\n  this._transUrl = info.base_url ? info.base_url : this.url;\n  info = objectUtils.extend(info, this._urlInfo);\n  debug('info', info);\n  // determine list of desired and supported transports\n  var enabledTransports = transports.filterToEnabled(this._transportsWhitelist, info);\n  this._transports = enabledTransports.main;\n  debug(this._transports.length + ' enabled transports');\n\n  this._connect();\n};\n\nSockJS.prototype._connect = function() {\n  for (var Transport = this._transports.shift(); Transport; Transport = this._transports.shift()) {\n    debug('attempt', Transport.transportName);\n    if (Transport.needBody) {\n      if (!global.document.body ||\n          (typeof global.document.readyState !== 'undefined' &&\n            global.document.readyState !== 'complete' &&\n            global.document.readyState !== 'interactive')) {\n        debug('waiting for body');\n        this._transports.unshift(Transport);\n        eventUtils.attachEvent('load', this._connect.bind(this));\n        return;\n      }\n    }\n\n    // calculate timeout based on RTO and round trips. Default to 5s\n    var timeoutMs = (this._rto * Transport.roundTrips) || 5000;\n    this._transportTimeoutId = setTimeout(this._transportTimeout.bind(this), timeoutMs);\n    debug('using timeout', timeoutMs);\n\n    var transportUrl = urlUtils.addPath(this._transUrl, '/' + this._server + '/' + this._generateSessionId());\n    var options = this._transportOptions[Transport.transportName];\n    debug('transport url', transportUrl);\n    var transportObj = new Transport(transportUrl, this._transUrl, options);\n    transportObj.on('message', this._transportMessage.bind(this));\n    transportObj.once('close', this._transportClose.bind(this));\n    transportObj.transportName = Transport.transportName;\n    this._transport = transportObj;\n\n    return;\n  }\n  this._close(2000, 'All transports failed', false);\n};\n\nSockJS.prototype._transportTimeout = function() {\n  debug('_transportTimeout');\n  if (this.readyState === SockJS.CONNECTING) {\n    this._transportClose(2007, 'Transport timed out');\n  }\n};\n\nSockJS.prototype._transportMessage = function(msg) {\n  debug('_transportMessage', msg);\n  var self = this\n    , type = msg.slice(0, 1)\n    , content = msg.slice(1)\n    , payload\n    ;\n\n  // first check for messages that don't need a payload\n  switch (type) {\n    case 'o':\n      this._open();\n      return;\n    case 'h':\n      this.dispatchEvent(new Event('heartbeat'));\n      debug('heartbeat', this.transport);\n      return;\n  }\n\n  if (content) {\n    try {\n      payload = JSON3.parse(content);\n    } catch (e) {\n      debug('bad json', content);\n    }\n  }\n\n  if (typeof payload === 'undefined') {\n    debug('empty payload', content);\n    return;\n  }\n\n  switch (type) {\n    case 'a':\n      if (Array.isArray(payload)) {\n        payload.forEach(function(p) {\n          debug('message', self.transport, p);\n          self.dispatchEvent(new TransportMessageEvent(p));\n        });\n      }\n      break;\n    case 'm':\n      debug('message', this.transport, payload);\n      this.dispatchEvent(new TransportMessageEvent(payload));\n      break;\n    case 'c':\n      if (Array.isArray(payload) && payload.length === 2) {\n        this._close(payload[0], payload[1], true);\n      }\n      break;\n  }\n};\n\nSockJS.prototype._transportClose = function(code, reason) {\n  debug('_transportClose', this.transport, code, reason);\n  if (this._transport) {\n    this._transport.removeAllListeners();\n    this._transport = null;\n    this.transport = null;\n  }\n\n  if (!userSetCode(code) && code !== 2000 && this.readyState === SockJS.CONNECTING) {\n    this._connect();\n    return;\n  }\n\n  this._close(code, reason);\n};\n\nSockJS.prototype._open = function() {\n  debug('_open', this._transport.transportName, this.readyState);\n  if (this.readyState === SockJS.CONNECTING) {\n    if (this._transportTimeoutId) {\n      clearTimeout(this._transportTimeoutId);\n      this._transportTimeoutId = null;\n    }\n    this.readyState = SockJS.OPEN;\n    this.transport = this._transport.transportName;\n    this.dispatchEvent(new Event('open'));\n    debug('connected', this.transport);\n  } else {\n    // The server might have been restarted, and lost track of our\n    // connection.\n    this._close(1006, 'Server lost session');\n  }\n};\n\nSockJS.prototype._close = function(code, reason, wasClean) {\n  debug('_close', this.transport, code, reason, wasClean, this.readyState);\n  var forceFail = false;\n\n  if (this._ir) {\n    forceFail = true;\n    this._ir.close();\n    this._ir = null;\n  }\n  if (this._transport) {\n    this._transport.close();\n    this._transport = null;\n    this.transport = null;\n  }\n\n  if (this.readyState === SockJS.CLOSED) {\n    throw new Error('InvalidStateError: SockJS has already been closed');\n  }\n\n  this.readyState = SockJS.CLOSING;\n  setTimeout(function() {\n    this.readyState = SockJS.CLOSED;\n\n    if (forceFail) {\n      this.dispatchEvent(new Event('error'));\n    }\n\n    var e = new CloseEvent('close');\n    e.wasClean = wasClean || false;\n    e.code = code || 1000;\n    e.reason = reason;\n\n    this.dispatchEvent(e);\n    this.onmessage = this.onclose = this.onerror = null;\n    debug('disconnected');\n  }.bind(this), 0);\n};\n\n// See: http://www.erg.abdn.ac.uk/~gerrit/dccp/notes/ccid2/rto_estimator/\n// and RFC 2988.\nSockJS.prototype.countRTO = function(rtt) {\n  // In a local environment, when using IE8/9 and the `jsonp-polling`\n  // transport the time needed to establish a connection (the time that pass\n  // from the opening of the transport to the call of `_dispatchOpen`) is\n  // around 200msec (the lower bound used in the article above) and this\n  // causes spurious timeouts. For this reason we calculate a value slightly\n  // larger than that used in the article.\n  if (rtt > 100) {\n    return 4 * rtt; // rto > 400msec\n  }\n  return 300 + rtt; // 300msec < rto <= 400msec\n};\n\nmodule.exports = function(availableTransports) {\n  transports = transport(availableTransports);\n  require('./iframe-bootstrap')(SockJS, availableTransports);\n  return SockJS;\n};\n\n}).call(this,{ env: {} },typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./event/close\":2,\"./event/event\":4,\"./event/eventtarget\":5,\"./event/trans-message\":6,\"./iframe-bootstrap\":8,\"./info-receiver\":12,\"./location\":13,\"./shims\":15,\"./utils/browser\":44,\"./utils/escape\":45,\"./utils/event\":46,\"./utils/log\":48,\"./utils/object\":49,\"./utils/random\":50,\"./utils/transport\":51,\"./utils/url\":52,\"./version\":53,\"debug\":54,\"inherits\":57,\"json3\":58,\"url-parse\":59}],15:[function(require,module,exports){\n/* eslint-disable */\n/* jscs: disable */\n'use strict';\n\n// pulled specific shims from https://github.com/es-shims/es5-shim\n\nvar ArrayPrototype = Array.prototype;\nvar ObjectPrototype = Object.prototype;\nvar FunctionPrototype = Function.prototype;\nvar StringPrototype = String.prototype;\nvar array_slice = ArrayPrototype.slice;\n\nvar _toString = ObjectPrototype.toString;\nvar isFunction = function (val) {\n    return ObjectPrototype.toString.call(val) === '[object Function]';\n};\nvar isArray = function isArray(obj) {\n    return _toString.call(obj) === '[object Array]';\n};\nvar isString = function isString(obj) {\n    return _toString.call(obj) === '[object String]';\n};\n\nvar supportsDescriptors = Object.defineProperty && (function () {\n    try {\n        Object.defineProperty({}, 'x', {});\n        return true;\n    } catch (e) { /* this is ES3 */\n        return false;\n    }\n}());\n\n// Define configurable, writable and non-enumerable props\n// if they don't exist.\nvar defineProperty;\nif (supportsDescriptors) {\n    defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && (name in object)) { return; }\n        Object.defineProperty(object, name, {\n            configurable: true,\n            enumerable: false,\n            writable: true,\n            value: method\n        });\n    };\n} else {\n    defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && (name in object)) { return; }\n        object[name] = method;\n    };\n}\nvar defineProperties = function (object, map, forceAssign) {\n    for (var name in map) {\n        if (ObjectPrototype.hasOwnProperty.call(map, name)) {\n          defineProperty(object, name, map[name], forceAssign);\n        }\n    }\n};\n\nvar toObject = function (o) {\n    if (o == null) { // this matches both null and undefined\n        throw new TypeError(\"can't convert \" + o + ' to object');\n    }\n    return Object(o);\n};\n\n//\n// Util\n// ======\n//\n\n// ES5 9.4\n// http://es5.github.com/#x9.4\n// http://jsperf.com/to-integer\n\nfunction toInteger(num) {\n    var n = +num;\n    if (n !== n) { // isNaN\n        n = 0;\n    } else if (n !== 0 && n !== (1 / 0) && n !== -(1 / 0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n    return n;\n}\n\nfunction ToUint32(x) {\n    return x >>> 0;\n}\n\n//\n// Function\n// ========\n//\n\n// ES-5 15.3.4.5\n// http://es5.github.com/#x15.3.4.5\n\nfunction Empty() {}\n\ndefineProperties(FunctionPrototype, {\n    bind: function bind(that) { // .length is 1\n        // 1. Let Target be the this value.\n        var target = this;\n        // 2. If IsCallable(Target) is false, throw a TypeError exception.\n        if (!isFunction(target)) {\n            throw new TypeError('Function.prototype.bind called on incompatible ' + target);\n        }\n        // 3. Let A be a new (possibly empty) internal list of all of the\n        //   argument values provided after thisArg (arg1, arg2 etc), in order.\n        // XXX slicedArgs will stand in for \"A\" if used\n        var args = array_slice.call(arguments, 1); // for normal call\n        // 4. Let F be a new native ECMAScript object.\n        // 11. Set the [[Prototype]] internal property of F to the standard\n        //   built-in Function prototype object as specified in 15.3.3.1.\n        // 12. Set the [[Call]] internal property of F as described in\n        //   15.3.4.5.1.\n        // 13. Set the [[Construct]] internal property of F as described in\n        //   15.3.4.5.2.\n        // 14. Set the [[HasInstance]] internal property of F as described in\n        //   15.3.4.5.3.\n        var binder = function () {\n\n            if (this instanceof bound) {\n                // 15.3.4.5.2 [[Construct]]\n                // When the [[Construct]] internal method of a function object,\n                // F that was created using the bind function is called with a\n                // list of arguments ExtraArgs, the following steps are taken:\n                // 1. Let target be the value of F's [[TargetFunction]]\n                //   internal property.\n                // 2. If target has no [[Construct]] internal method, a\n                //   TypeError exception is thrown.\n                // 3. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Construct]] internal\n                //   method of target providing args as the arguments.\n\n                var result = target.apply(\n                    this,\n                    args.concat(array_slice.call(arguments))\n                );\n                if (Object(result) === result) {\n                    return result;\n                }\n                return this;\n\n            } else {\n                // 15.3.4.5.1 [[Call]]\n                // When the [[Call]] internal method of a function object, F,\n                // which was created using the bind function is called with a\n                // this value and a list of arguments ExtraArgs, the following\n                // steps are taken:\n                // 1. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 2. Let boundThis be the value of F's [[BoundThis]] internal\n                //   property.\n                // 3. Let target be the value of F's [[TargetFunction]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Call]] internal method\n                //   of target providing boundThis as the this value and\n                //   providing args as the arguments.\n\n                // equiv: target.call(this, ...boundArgs, ...args)\n                return target.apply(\n                    that,\n                    args.concat(array_slice.call(arguments))\n                );\n\n            }\n\n        };\n\n        // 15. If the [[Class]] internal property of Target is \"Function\", then\n        //     a. Let L be the length property of Target minus the length of A.\n        //     b. Set the length own property of F to either 0 or L, whichever is\n        //       larger.\n        // 16. Else set the length own property of F to 0.\n\n        var boundLength = Math.max(0, target.length - args.length);\n\n        // 17. Set the attributes of the length own property of F to the values\n        //   specified in 15.3.5.1.\n        var boundArgs = [];\n        for (var i = 0; i < boundLength; i++) {\n            boundArgs.push('$' + i);\n        }\n\n        // XXX Build a dynamic function with desired amount of arguments is the only\n        // way to set the length property of a function.\n        // In environments where Content Security Policies enabled (Chrome extensions,\n        // for ex.) all use of eval or Function costructor throws an exception.\n        // However in all of these environments Function.prototype.bind exists\n        // and so this code will never be executed.\n        var bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this, arguments); }')(binder);\n\n        if (target.prototype) {\n            Empty.prototype = target.prototype;\n            bound.prototype = new Empty();\n            // Clean up dangling references.\n            Empty.prototype = null;\n        }\n\n        // TODO\n        // 18. Set the [[Extensible]] internal property of F to true.\n\n        // TODO\n        // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).\n        // 20. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"caller\", PropertyDescriptor {[[Get]]: thrower, [[Set]]:\n        //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and\n        //   false.\n        // 21. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"arguments\", PropertyDescriptor {[[Get]]: thrower,\n        //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},\n        //   and false.\n\n        // TODO\n        // NOTE Function objects created using Function.prototype.bind do not\n        // have a prototype property or the [[Code]], [[FormalParameters]], and\n        // [[Scope]] internal properties.\n        // XXX can't delete prototype in pure-js.\n\n        // 22. Return F.\n        return bound;\n    }\n});\n\n//\n// Array\n// =====\n//\n\n// ES5 15.4.3.2\n// http://es5.github.com/#x15.4.3.2\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\ndefineProperties(Array, { isArray: isArray });\n\n\nvar boxedString = Object('a');\nvar splitString = boxedString[0] !== 'a' || !(0 in boxedString);\n\nvar properlyBoxesContext = function properlyBoxed(method) {\n    // Check node 0.6.21 bug where third parameter is not boxed\n    var properlyBoxesNonStrict = true;\n    var properlyBoxesStrict = true;\n    if (method) {\n        method.call('foo', function (_, __, context) {\n            if (typeof context !== 'object') { properlyBoxesNonStrict = false; }\n        });\n\n        method.call([1], function () {\n            'use strict';\n            properlyBoxesStrict = typeof this === 'string';\n        }, 'x');\n    }\n    return !!method && properlyBoxesNonStrict && properlyBoxesStrict;\n};\n\ndefineProperties(ArrayPrototype, {\n    forEach: function forEach(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(); // TODO message\n        }\n\n        while (++i < length) {\n            if (i in self) {\n                // Invoke the callback function with call, passing arguments:\n                // context, property value, property key, thisArg object\n                // context\n                fun.call(thisp, self[i], i, object);\n            }\n        }\n    }\n}, !properlyBoxesContext(ArrayPrototype.forEach));\n\n// ES5 15.4.4.14\n// http://es5.github.com/#x15.4.4.14\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\nvar hasFirefox2IndexOfBug = Array.prototype.indexOf && [0, 1].indexOf(1, 2) !== -1;\ndefineProperties(ArrayPrototype, {\n    indexOf: function indexOf(sought /*, fromIndex */ ) {\n        var self = splitString && isString(this) ? this.split('') : toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n\n        var i = 0;\n        if (arguments.length > 1) {\n            i = toInteger(arguments[1]);\n        }\n\n        // handle negative indices\n        i = i >= 0 ? i : Math.max(0, length + i);\n        for (; i < length; i++) {\n            if (i in self && self[i] === sought) {\n                return i;\n            }\n        }\n        return -1;\n    }\n}, hasFirefox2IndexOfBug);\n\n//\n// String\n// ======\n//\n\n// ES5 15.5.4.14\n// http://es5.github.com/#x15.5.4.14\n\n// [bugfix, IE lt 9, firefox 4, Konqueror, Opera, obscure browsers]\n// Many browsers do not split properly with regular expressions or they\n// do not perform the split correctly under obscure conditions.\n// See http://blog.stevenlevithan.com/archives/cross-browser-split\n// I've tested in many browsers and this seems to cover the deviant ones:\n//    'ab'.split(/(?:ab)*/) should be [\"\", \"\"], not [\"\"]\n//    '.'.split(/(.?)(.?)/) should be [\"\", \".\", \"\", \"\"], not [\"\", \"\"]\n//    'tesst'.split(/(s)*/) should be [\"t\", undefined, \"e\", \"s\", \"t\"], not\n//       [undefined, \"t\", undefined, \"e\", ...]\n//    ''.split(/.?/) should be [], not [\"\"]\n//    '.'.split(/()()/) should be [\".\"], not [\"\", \"\", \".\"]\n\nvar string_split = StringPrototype.split;\nif (\n    'ab'.split(/(?:ab)*/).length !== 2 ||\n    '.'.split(/(.?)(.?)/).length !== 4 ||\n    'tesst'.split(/(s)*/)[1] === 't' ||\n    'test'.split(/(?:)/, -1).length !== 4 ||\n    ''.split(/.?/).length ||\n    '.'.split(/()()/).length > 1\n) {\n    (function () {\n        var compliantExecNpcg = /()??/.exec('')[1] === void 0; // NPCG: nonparticipating capturing group\n\n        StringPrototype.split = function (separator, limit) {\n            var string = this;\n            if (separator === void 0 && limit === 0) {\n                return [];\n            }\n\n            // If `separator` is not a regex, use native split\n            if (_toString.call(separator) !== '[object RegExp]') {\n                return string_split.call(this, separator, limit);\n            }\n\n            var output = [],\n                flags = (separator.ignoreCase ? 'i' : '') +\n                        (separator.multiline  ? 'm' : '') +\n                        (separator.extended   ? 'x' : '') + // Proposed for ES6\n                        (separator.sticky     ? 'y' : ''), // Firefox 3+\n                lastLastIndex = 0,\n                // Make `global` and avoid `lastIndex` issues by working with a copy\n                separator2, match, lastIndex, lastLength;\n            separator = new RegExp(separator.source, flags + 'g');\n            string += ''; // Type-convert\n            if (!compliantExecNpcg) {\n                // Doesn't need flags gy, but they don't hurt\n                separator2 = new RegExp('^' + separator.source + '$(?!\\\\s)', flags);\n            }\n            /* Values for `limit`, per the spec:\n             * If undefined: 4294967295 // Math.pow(2, 32) - 1\n             * If 0, Infinity, or NaN: 0\n             * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n             * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n             * If other: Type-convert, then use the above rules\n             */\n            limit = limit === void 0 ?\n                -1 >>> 0 : // Math.pow(2, 32) - 1\n                ToUint32(limit);\n            while (match = separator.exec(string)) {\n                // `separator.lastIndex` is not reliable cross-browser\n                lastIndex = match.index + match[0].length;\n                if (lastIndex > lastLastIndex) {\n                    output.push(string.slice(lastLastIndex, match.index));\n                    // Fix browsers whose `exec` methods don't consistently return `undefined` for\n                    // nonparticipating capturing groups\n                    if (!compliantExecNpcg && match.length > 1) {\n                        match[0].replace(separator2, function () {\n                            for (var i = 1; i < arguments.length - 2; i++) {\n                                if (arguments[i] === void 0) {\n                                    match[i] = void 0;\n                                }\n                            }\n                        });\n                    }\n                    if (match.length > 1 && match.index < string.length) {\n                        ArrayPrototype.push.apply(output, match.slice(1));\n                    }\n                    lastLength = match[0].length;\n                    lastLastIndex = lastIndex;\n                    if (output.length >= limit) {\n                        break;\n                    }\n                }\n                if (separator.lastIndex === match.index) {\n                    separator.lastIndex++; // Avoid an infinite loop\n                }\n            }\n            if (lastLastIndex === string.length) {\n                if (lastLength || !separator.test('')) {\n                    output.push('');\n                }\n            } else {\n                output.push(string.slice(lastLastIndex));\n            }\n            return output.length > limit ? output.slice(0, limit) : output;\n        };\n    }());\n\n// [bugfix, chrome]\n// If separator is undefined, then the result array contains just one String,\n// which is the this value (converted to a String). If limit is not undefined,\n// then the output array is truncated so that it contains no more than limit\n// elements.\n// \"0\".split(undefined, 0) -> []\n} else if ('0'.split(void 0, 0).length) {\n    StringPrototype.split = function split(separator, limit) {\n        if (separator === void 0 && limit === 0) { return []; }\n        return string_split.call(this, separator, limit);\n    };\n}\n\n// ES5 15.5.4.20\n// whitespace from: http://es5.github.io/#x15.5.4.20\nvar ws = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n    '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028' +\n    '\\u2029\\uFEFF';\nvar zeroWidth = '\\u200b';\nvar wsRegexChars = '[' + ws + ']';\nvar trimBeginRegexp = new RegExp('^' + wsRegexChars + wsRegexChars + '*');\nvar trimEndRegexp = new RegExp(wsRegexChars + wsRegexChars + '*$');\nvar hasTrimWhitespaceBug = StringPrototype.trim && (ws.trim() || !zeroWidth.trim());\ndefineProperties(StringPrototype, {\n    // http://blog.stevenlevithan.com/archives/faster-trim-javascript\n    // http://perfectionkills.com/whitespace-deviations/\n    trim: function trim() {\n        if (this === void 0 || this === null) {\n            throw new TypeError(\"can't convert \" + this + ' to object');\n        }\n        return String(this).replace(trimBeginRegexp, '').replace(trimEndRegexp, '');\n    }\n}, hasTrimWhitespaceBug);\n\n// ECMA-262, 3rd B.2.3\n// Not an ECMAScript standard, although ECMAScript 3rd Edition has a\n// non-normative section suggesting uniform semantics and it should be\n// normalized across all browsers\n// [bugfix, IE lt 9] IE < 9 substr() with negative value not working in IE\nvar string_substr = StringPrototype.substr;\nvar hasNegativeSubstrBug = ''.substr && '0b'.substr(-1) !== 'b';\ndefineProperties(StringPrototype, {\n    substr: function substr(start, length) {\n        return string_substr.call(\n            this,\n            start < 0 ? ((start = this.length + start) < 0 ? 0 : start) : start,\n            length\n        );\n    }\n}, hasNegativeSubstrBug);\n\n},{}],16:[function(require,module,exports){\n'use strict';\n\nmodule.exports = [\n  // streaming transports\n  require('./transport/websocket')\n, require('./transport/xhr-streaming')\n, require('./transport/xdr-streaming')\n, require('./transport/eventsource')\n, require('./transport/lib/iframe-wrap')(require('./transport/eventsource'))\n\n  // polling transports\n, require('./transport/htmlfile')\n, require('./transport/lib/iframe-wrap')(require('./transport/htmlfile'))\n, require('./transport/xhr-polling')\n, require('./transport/xdr-polling')\n, require('./transport/lib/iframe-wrap')(require('./transport/xhr-polling'))\n, require('./transport/jsonp-polling')\n];\n\n},{\"./transport/eventsource\":20,\"./transport/htmlfile\":21,\"./transport/jsonp-polling\":23,\"./transport/lib/iframe-wrap\":26,\"./transport/websocket\":38,\"./transport/xdr-polling\":39,\"./transport/xdr-streaming\":40,\"./transport/xhr-polling\":41,\"./transport/xhr-streaming\":42}],17:[function(require,module,exports){\n(function (process,global){\n'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , utils = require('../../utils/event')\n  , urlUtils = require('../../utils/url')\n  , XHR = global.XMLHttpRequest\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:browser:xhr');\n}\n\nfunction AbstractXHRObject(method, url, payload, opts) {\n  debug(method, url);\n  var self = this;\n  EventEmitter.call(this);\n\n  setTimeout(function () {\n    self._start(method, url, payload, opts);\n  }, 0);\n}\n\ninherits(AbstractXHRObject, EventEmitter);\n\nAbstractXHRObject.prototype._start = function(method, url, payload, opts) {\n  var self = this;\n\n  try {\n    this.xhr = new XHR();\n  } catch (x) {\n    // intentionally empty\n  }\n\n  if (!this.xhr) {\n    debug('no xhr');\n    this.emit('finish', 0, 'no xhr support');\n    this._cleanup();\n    return;\n  }\n\n  // several browsers cache POSTs\n  url = urlUtils.addQuery(url, 't=' + (+new Date()));\n\n  // Explorer tends to keep connection open, even after the\n  // tab gets closed: http://bugs.jquery.com/ticket/5280\n  this.unloadRef = utils.unloadAdd(function() {\n    debug('unload cleanup');\n    self._cleanup(true);\n  });\n  try {\n    this.xhr.open(method, url, true);\n    if (this.timeout && 'timeout' in this.xhr) {\n      this.xhr.timeout = this.timeout;\n      this.xhr.ontimeout = function() {\n        debug('xhr timeout');\n        self.emit('finish', 0, '');\n        self._cleanup(false);\n      };\n    }\n  } catch (e) {\n    debug('exception', e);\n    // IE raises an exception on wrong port.\n    this.emit('finish', 0, '');\n    this._cleanup(false);\n    return;\n  }\n\n  if ((!opts || !opts.noCredentials) && AbstractXHRObject.supportsCORS) {\n    debug('withCredentials');\n    // Mozilla docs says https://developer.mozilla.org/en/XMLHttpRequest :\n    // \"This never affects same-site requests.\"\n\n    this.xhr.withCredentials = 'true';\n  }\n  if (opts && opts.headers) {\n    for (var key in opts.headers) {\n      this.xhr.setRequestHeader(key, opts.headers[key]);\n    }\n  }\n\n  this.xhr.onreadystatechange = function() {\n    if (self.xhr) {\n      var x = self.xhr;\n      var text, status;\n      debug('readyState', x.readyState);\n      switch (x.readyState) {\n      case 3:\n        // IE doesn't like peeking into responseText or status\n        // on Microsoft.XMLHTTP and readystate=3\n        try {\n          status = x.status;\n          text = x.responseText;\n        } catch (e) {\n          // intentionally empty\n        }\n        debug('status', status);\n        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450\n        if (status === 1223) {\n          status = 204;\n        }\n\n        // IE does return readystate == 3 for 404 answers.\n        if (status === 200 && text && text.length > 0) {\n          debug('chunk');\n          self.emit('chunk', status, text);\n        }\n        break;\n      case 4:\n        status = x.status;\n        debug('status', status);\n        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450\n        if (status === 1223) {\n          status = 204;\n        }\n        // IE returns this for a bad port\n        // http://msdn.microsoft.com/en-us/library/windows/desktop/aa383770(v=vs.85).aspx\n        if (status === 12005 || status === 12029) {\n          status = 0;\n        }\n\n        debug('finish', status, x.responseText);\n        self.emit('finish', status, x.responseText);\n        self._cleanup(false);\n        break;\n      }\n    }\n  };\n\n  try {\n    self.xhr.send(payload);\n  } catch (e) {\n    self.emit('finish', 0, '');\n    self._cleanup(false);\n  }\n};\n\nAbstractXHRObject.prototype._cleanup = function(abort) {\n  debug('cleanup');\n  if (!this.xhr) {\n    return;\n  }\n  this.removeAllListeners();\n  utils.unloadDel(this.unloadRef);\n\n  // IE needs this field to be a function\n  this.xhr.onreadystatechange = function() {};\n  if (this.xhr.ontimeout) {\n    this.xhr.ontimeout = null;\n  }\n\n  if (abort) {\n    try {\n      this.xhr.abort();\n    } catch (x) {\n      // intentionally empty\n    }\n  }\n  this.unloadRef = this.xhr = null;\n};\n\nAbstractXHRObject.prototype.close = function() {\n  debug('close');\n  this._cleanup(true);\n};\n\nAbstractXHRObject.enabled = !!XHR;\n// override XMLHttpRequest for IE6/7\n// obfuscate to avoid firewalls\nvar axo = ['Active'].concat('Object').join('X');\nif (!AbstractXHRObject.enabled && (axo in global)) {\n  debug('overriding xmlhttprequest');\n  XHR = function() {\n    try {\n      return new global[axo]('Microsoft.XMLHTTP');\n    } catch (e) {\n      return null;\n    }\n  };\n  AbstractXHRObject.enabled = !!new XHR();\n}\n\nvar cors = false;\ntry {\n  cors = 'withCredentials' in new XHR();\n} catch (ignored) {\n  // intentionally empty\n}\n\nAbstractXHRObject.supportsCORS = cors;\n\nmodule.exports = AbstractXHRObject;\n\n}).call(this,{ env: {} },typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../../utils/event\":46,\"../../utils/url\":52,\"debug\":54,\"events\":3,\"inherits\":57}],18:[function(require,module,exports){\n(function (global){\nmodule.exports = global.EventSource;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],19:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar Driver = global.WebSocket || global.MozWebSocket;\nif (Driver) {\n\tmodule.exports = function WebSocketBrowserDriver(url) {\n\t\treturn new Driver(url);\n\t};\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],20:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , EventSourceReceiver = require('./receiver/eventsource')\n  , XHRCorsObject = require('./sender/xhr-cors')\n  , EventSourceDriver = require('eventsource')\n  ;\n\nfunction EventSourceTransport(transUrl) {\n  if (!EventSourceTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n\n  AjaxBasedTransport.call(this, transUrl, '/eventsource', EventSourceReceiver, XHRCorsObject);\n}\n\ninherits(EventSourceTransport, AjaxBasedTransport);\n\nEventSourceTransport.enabled = function() {\n  return !!EventSourceDriver;\n};\n\nEventSourceTransport.transportName = 'eventsource';\nEventSourceTransport.roundTrips = 2;\n\nmodule.exports = EventSourceTransport;\n\n},{\"./lib/ajax-based\":24,\"./receiver/eventsource\":29,\"./sender/xhr-cors\":35,\"eventsource\":18,\"inherits\":57}],21:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , HtmlfileReceiver = require('./receiver/htmlfile')\n  , XHRLocalObject = require('./sender/xhr-local')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  ;\n\nfunction HtmlFileTransport(transUrl) {\n  if (!HtmlfileReceiver.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/htmlfile', HtmlfileReceiver, XHRLocalObject);\n}\n\ninherits(HtmlFileTransport, AjaxBasedTransport);\n\nHtmlFileTransport.enabled = function(info) {\n  return HtmlfileReceiver.enabled && info.sameOrigin;\n};\n\nHtmlFileTransport.transportName = 'htmlfile';\nHtmlFileTransport.roundTrips = 2;\n\nmodule.exports = HtmlFileTransport;\n\n},{\"./lib/ajax-based\":24,\"./receiver/htmlfile\":30,\"./sender/xhr-local\":37,\"inherits\":57}],22:[function(require,module,exports){\n(function (process){\n'use strict';\n\n// Few cool transports do work only for same-origin. In order to make\n// them work cross-domain we shall use iframe, served from the\n// remote domain. New browsers have capabilities to communicate with\n// cross domain iframe using postMessage(). In IE it was implemented\n// from IE 8+, but of course, IE got some details wrong:\n//    http://msdn.microsoft.com/en-us/library/cc197015(v=VS.85).aspx\n//    http://stevesouders.com/misc/test-postmessage.php\n\nvar inherits = require('inherits')\n  , JSON3 = require('json3')\n  , EventEmitter = require('events').EventEmitter\n  , version = require('../version')\n  , urlUtils = require('../utils/url')\n  , iframeUtils = require('../utils/iframe')\n  , eventUtils = require('../utils/event')\n  , random = require('../utils/random')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:transport:iframe');\n}\n\nfunction IframeTransport(transport, transUrl, baseUrl) {\n  if (!IframeTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n  EventEmitter.call(this);\n\n  var self = this;\n  this.origin = urlUtils.getOrigin(baseUrl);\n  this.baseUrl = baseUrl;\n  this.transUrl = transUrl;\n  this.transport = transport;\n  this.windowId = random.string(8);\n\n  var iframeUrl = urlUtils.addPath(baseUrl, '/iframe.html') + '#' + this.windowId;\n  debug(transport, transUrl, iframeUrl);\n\n  this.iframeObj = iframeUtils.createIframe(iframeUrl, function(r) {\n    debug('err callback');\n    self.emit('close', 1006, 'Unable to load an iframe (' + r + ')');\n    self.close();\n  });\n\n  this.onmessageCallback = this._message.bind(this);\n  eventUtils.attachEvent('message', this.onmessageCallback);\n}\n\ninherits(IframeTransport, EventEmitter);\n\nIframeTransport.prototype.close = function() {\n  debug('close');\n  this.removeAllListeners();\n  if (this.iframeObj) {\n    eventUtils.detachEvent('message', this.onmessageCallback);\n    try {\n      // When the iframe is not loaded, IE raises an exception\n      // on 'contentWindow'.\n      this.postMessage('c');\n    } catch (x) {\n      // intentionally empty\n    }\n    this.iframeObj.cleanup();\n    this.iframeObj = null;\n    this.onmessageCallback = this.iframeObj = null;\n  }\n};\n\nIframeTransport.prototype._message = function(e) {\n  debug('message', e.data);\n  if (!urlUtils.isOriginEqual(e.origin, this.origin)) {\n    debug('not same origin', e.origin, this.origin);\n    return;\n  }\n\n  var iframeMessage;\n  try {\n    iframeMessage = JSON3.parse(e.data);\n  } catch (ignored) {\n    debug('bad json', e.data);\n    return;\n  }\n\n  if (iframeMessage.windowId !== this.windowId) {\n    debug('mismatched window id', iframeMessage.windowId, this.windowId);\n    return;\n  }\n\n  switch (iframeMessage.type) {\n  case 's':\n    this.iframeObj.loaded();\n    // window global dependency\n    this.postMessage('s', JSON3.stringify([\n      version\n    , this.transport\n    , this.transUrl\n    , this.baseUrl\n    ]));\n    break;\n  case 't':\n    this.emit('message', iframeMessage.data);\n    break;\n  case 'c':\n    var cdata;\n    try {\n      cdata = JSON3.parse(iframeMessage.data);\n    } catch (ignored) {\n      debug('bad json', iframeMessage.data);\n      return;\n    }\n    this.emit('close', cdata[0], cdata[1]);\n    this.close();\n    break;\n  }\n};\n\nIframeTransport.prototype.postMessage = function(type, data) {\n  debug('postMessage', type, data);\n  this.iframeObj.post(JSON3.stringify({\n    windowId: this.windowId\n  , type: type\n  , data: data || ''\n  }), this.origin);\n};\n\nIframeTransport.prototype.send = function(message) {\n  debug('send', message);\n  this.postMessage('m', message);\n};\n\nIframeTransport.enabled = function() {\n  return iframeUtils.iframeEnabled;\n};\n\nIframeTransport.transportName = 'iframe';\nIframeTransport.roundTrips = 2;\n\nmodule.exports = IframeTransport;\n\n}).call(this,{ env: {} })\n\n},{\"../utils/event\":46,\"../utils/iframe\":47,\"../utils/random\":50,\"../utils/url\":52,\"../version\":53,\"debug\":54,\"events\":3,\"inherits\":57,\"json3\":58}],23:[function(require,module,exports){\n(function (global){\n'use strict';\n\n// The simplest and most robust transport, using the well-know cross\n// domain hack - JSONP. This transport is quite inefficient - one\n// message could use up to one http request. But at least it works almost\n// everywhere.\n// Known limitations:\n//   o you will get a spinning cursor\n//   o for Konqueror a dumb timer is needed to detect errors\n\nvar inherits = require('inherits')\n  , SenderReceiver = require('./lib/sender-receiver')\n  , JsonpReceiver = require('./receiver/jsonp')\n  , jsonpSender = require('./sender/jsonp')\n  ;\n\nfunction JsonPTransport(transUrl) {\n  if (!JsonPTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n  SenderReceiver.call(this, transUrl, '/jsonp', jsonpSender, JsonpReceiver);\n}\n\ninherits(JsonPTransport, SenderReceiver);\n\nJsonPTransport.enabled = function() {\n  return !!global.document;\n};\n\nJsonPTransport.transportName = 'jsonp-polling';\nJsonPTransport.roundTrips = 1;\nJsonPTransport.needBody = true;\n\nmodule.exports = JsonPTransport;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./lib/sender-receiver\":28,\"./receiver/jsonp\":31,\"./sender/jsonp\":33,\"inherits\":57}],24:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar inherits = require('inherits')\n  , urlUtils = require('../../utils/url')\n  , SenderReceiver = require('./sender-receiver')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:ajax-based');\n}\n\nfunction createAjaxSender(AjaxObject) {\n  return function(url, payload, callback) {\n    debug('create ajax sender', url, payload);\n    var opt = {};\n    if (typeof payload === 'string') {\n      opt.headers = {'Content-type': 'text/plain'};\n    }\n    var ajaxUrl = urlUtils.addPath(url, '/xhr_send');\n    var xo = new AjaxObject('POST', ajaxUrl, payload, opt);\n    xo.once('finish', function(status) {\n      debug('finish', status);\n      xo = null;\n\n      if (status !== 200 && status !== 204) {\n        return callback(new Error('http status ' + status));\n      }\n      callback();\n    });\n    return function() {\n      debug('abort');\n      xo.close();\n      xo = null;\n\n      var err = new Error('Aborted');\n      err.code = 1000;\n      callback(err);\n    };\n  };\n}\n\nfunction AjaxBasedTransport(transUrl, urlSuffix, Receiver, AjaxObject) {\n  SenderReceiver.call(this, transUrl, urlSuffix, createAjaxSender(AjaxObject), Receiver, AjaxObject);\n}\n\ninherits(AjaxBasedTransport, SenderReceiver);\n\nmodule.exports = AjaxBasedTransport;\n\n}).call(this,{ env: {} })\n\n},{\"../../utils/url\":52,\"./sender-receiver\":28,\"debug\":54,\"inherits\":57}],25:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:buffered-sender');\n}\n\nfunction BufferedSender(url, sender) {\n  debug(url);\n  EventEmitter.call(this);\n  this.sendBuffer = [];\n  this.sender = sender;\n  this.url = url;\n}\n\ninherits(BufferedSender, EventEmitter);\n\nBufferedSender.prototype.send = function(message) {\n  debug('send', message);\n  this.sendBuffer.push(message);\n  if (!this.sendStop) {\n    this.sendSchedule();\n  }\n};\n\n// For polling transports in a situation when in the message callback,\n// new message is being send. If the sending connection was started\n// before receiving one, it is possible to saturate the network and\n// timeout due to the lack of receiving socket. To avoid that we delay\n// sending messages by some small time, in order to let receiving\n// connection be started beforehand. This is only a halfmeasure and\n// does not fix the big problem, but it does make the tests go more\n// stable on slow networks.\nBufferedSender.prototype.sendScheduleWait = function() {\n  debug('sendScheduleWait');\n  var self = this;\n  var tref;\n  this.sendStop = function() {\n    debug('sendStop');\n    self.sendStop = null;\n    clearTimeout(tref);\n  };\n  tref = setTimeout(function() {\n    debug('timeout');\n    self.sendStop = null;\n    self.sendSchedule();\n  }, 25);\n};\n\nBufferedSender.prototype.sendSchedule = function() {\n  debug('sendSchedule', this.sendBuffer.length);\n  var self = this;\n  if (this.sendBuffer.length > 0) {\n    var payload = '[' + this.sendBuffer.join(',') + ']';\n    this.sendStop = this.sender(this.url, payload, function(err) {\n      self.sendStop = null;\n      if (err) {\n        debug('error', err);\n        self.emit('close', err.code || 1006, 'Sending error: ' + err);\n        self._cleanup();\n      } else {\n        self.sendScheduleWait();\n      }\n    });\n    this.sendBuffer = [];\n  }\n};\n\nBufferedSender.prototype._cleanup = function() {\n  debug('_cleanup');\n  this.removeAllListeners();\n};\n\nBufferedSender.prototype.stop = function() {\n  debug('stop');\n  this._cleanup();\n  if (this.sendStop) {\n    this.sendStop();\n    this.sendStop = null;\n  }\n};\n\nmodule.exports = BufferedSender;\n\n}).call(this,{ env: {} })\n\n},{\"debug\":54,\"events\":3,\"inherits\":57}],26:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar inherits = require('inherits')\n  , IframeTransport = require('../iframe')\n  , objectUtils = require('../../utils/object')\n  ;\n\nmodule.exports = function(transport) {\n\n  function IframeWrapTransport(transUrl, baseUrl) {\n    IframeTransport.call(this, transport.transportName, transUrl, baseUrl);\n  }\n\n  inherits(IframeWrapTransport, IframeTransport);\n\n  IframeWrapTransport.enabled = function(url, info) {\n    if (!global.document) {\n      return false;\n    }\n\n    var iframeInfo = objectUtils.extend({}, info);\n    iframeInfo.sameOrigin = true;\n    return transport.enabled(iframeInfo) && IframeTransport.enabled();\n  };\n\n  IframeWrapTransport.transportName = 'iframe-' + transport.transportName;\n  IframeWrapTransport.needBody = true;\n  IframeWrapTransport.roundTrips = IframeTransport.roundTrips + transport.roundTrips - 1; // html, javascript (2) + transport - no CORS (1)\n\n  IframeWrapTransport.facadeTransport = transport;\n\n  return IframeWrapTransport;\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../../utils/object\":49,\"../iframe\":22,\"inherits\":57}],27:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:polling');\n}\n\nfunction Polling(Receiver, receiveUrl, AjaxObject) {\n  debug(receiveUrl);\n  EventEmitter.call(this);\n  this.Receiver = Receiver;\n  this.receiveUrl = receiveUrl;\n  this.AjaxObject = AjaxObject;\n  this._scheduleReceiver();\n}\n\ninherits(Polling, EventEmitter);\n\nPolling.prototype._scheduleReceiver = function() {\n  debug('_scheduleReceiver');\n  var self = this;\n  var poll = this.poll = new this.Receiver(this.receiveUrl, this.AjaxObject);\n\n  poll.on('message', function(msg) {\n    debug('message', msg);\n    self.emit('message', msg);\n  });\n\n  poll.once('close', function(code, reason) {\n    debug('close', code, reason, self.pollIsClosing);\n    self.poll = poll = null;\n\n    if (!self.pollIsClosing) {\n      if (reason === 'network') {\n        self._scheduleReceiver();\n      } else {\n        self.emit('close', code || 1006, reason);\n        self.removeAllListeners();\n      }\n    }\n  });\n};\n\nPolling.prototype.abort = function() {\n  debug('abort');\n  this.removeAllListeners();\n  this.pollIsClosing = true;\n  if (this.poll) {\n    this.poll.abort();\n  }\n};\n\nmodule.exports = Polling;\n\n}).call(this,{ env: {} })\n\n},{\"debug\":54,\"events\":3,\"inherits\":57}],28:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar inherits = require('inherits')\n  , urlUtils = require('../../utils/url')\n  , BufferedSender = require('./buffered-sender')\n  , Polling = require('./polling')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:sender-receiver');\n}\n\nfunction SenderReceiver(transUrl, urlSuffix, senderFunc, Receiver, AjaxObject) {\n  var pollUrl = urlUtils.addPath(transUrl, urlSuffix);\n  debug(pollUrl);\n  var self = this;\n  BufferedSender.call(this, transUrl, senderFunc);\n\n  this.poll = new Polling(Receiver, pollUrl, AjaxObject);\n  this.poll.on('message', function(msg) {\n    debug('poll message', msg);\n    self.emit('message', msg);\n  });\n  this.poll.once('close', function(code, reason) {\n    debug('poll close', code, reason);\n    self.poll = null;\n    self.emit('close', code, reason);\n    self.close();\n  });\n}\n\ninherits(SenderReceiver, BufferedSender);\n\nSenderReceiver.prototype.close = function() {\n  debug('close');\n  this.removeAllListeners();\n  if (this.poll) {\n    this.poll.abort();\n    this.poll = null;\n  }\n  this.stop();\n};\n\nmodule.exports = SenderReceiver;\n\n}).call(this,{ env: {} })\n\n},{\"../../utils/url\":52,\"./buffered-sender\":25,\"./polling\":27,\"debug\":54,\"inherits\":57}],29:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , EventSourceDriver = require('eventsource')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:eventsource');\n}\n\nfunction EventSourceReceiver(url) {\n  debug(url);\n  EventEmitter.call(this);\n\n  var self = this;\n  var es = this.es = new EventSourceDriver(url);\n  es.onmessage = function(e) {\n    debug('message', e.data);\n    self.emit('message', decodeURI(e.data));\n  };\n  es.onerror = function(e) {\n    debug('error', es.readyState, e);\n    // ES on reconnection has readyState = 0 or 1.\n    // on network error it's CLOSED = 2\n    var reason = (es.readyState !== 2 ? 'network' : 'permanent');\n    self._cleanup();\n    self._close(reason);\n  };\n}\n\ninherits(EventSourceReceiver, EventEmitter);\n\nEventSourceReceiver.prototype.abort = function() {\n  debug('abort');\n  this._cleanup();\n  this._close('user');\n};\n\nEventSourceReceiver.prototype._cleanup = function() {\n  debug('cleanup');\n  var es = this.es;\n  if (es) {\n    es.onmessage = es.onerror = null;\n    es.close();\n    this.es = null;\n  }\n};\n\nEventSourceReceiver.prototype._close = function(reason) {\n  debug('close', reason);\n  var self = this;\n  // Safari and chrome < 15 crash if we close window before\n  // waiting for ES cleanup. See:\n  // https://code.google.com/p/chromium/issues/detail?id=89155\n  setTimeout(function() {\n    self.emit('close', null, reason);\n    self.removeAllListeners();\n  }, 200);\n};\n\nmodule.exports = EventSourceReceiver;\n\n}).call(this,{ env: {} })\n\n},{\"debug\":54,\"events\":3,\"eventsource\":18,\"inherits\":57}],30:[function(require,module,exports){\n(function (process,global){\n'use strict';\n\nvar inherits = require('inherits')\n  , iframeUtils = require('../../utils/iframe')\n  , urlUtils = require('../../utils/url')\n  , EventEmitter = require('events').EventEmitter\n  , random = require('../../utils/random')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:htmlfile');\n}\n\nfunction HtmlfileReceiver(url) {\n  debug(url);\n  EventEmitter.call(this);\n  var self = this;\n  iframeUtils.polluteGlobalNamespace();\n\n  this.id = 'a' + random.string(6);\n  url = urlUtils.addQuery(url, 'c=' + decodeURIComponent(iframeUtils.WPrefix + '.' + this.id));\n\n  debug('using htmlfile', HtmlfileReceiver.htmlfileEnabled);\n  var constructFunc = HtmlfileReceiver.htmlfileEnabled ?\n      iframeUtils.createHtmlfile : iframeUtils.createIframe;\n\n  global[iframeUtils.WPrefix][this.id] = {\n    start: function() {\n      debug('start');\n      self.iframeObj.loaded();\n    }\n  , message: function(data) {\n      debug('message', data);\n      self.emit('message', data);\n    }\n  , stop: function() {\n      debug('stop');\n      self._cleanup();\n      self._close('network');\n    }\n  };\n  this.iframeObj = constructFunc(url, function() {\n    debug('callback');\n    self._cleanup();\n    self._close('permanent');\n  });\n}\n\ninherits(HtmlfileReceiver, EventEmitter);\n\nHtmlfileReceiver.prototype.abort = function() {\n  debug('abort');\n  this._cleanup();\n  this._close('user');\n};\n\nHtmlfileReceiver.prototype._cleanup = function() {\n  debug('_cleanup');\n  if (this.iframeObj) {\n    this.iframeObj.cleanup();\n    this.iframeObj = null;\n  }\n  delete global[iframeUtils.WPrefix][this.id];\n};\n\nHtmlfileReceiver.prototype._close = function(reason) {\n  debug('_close', reason);\n  this.emit('close', null, reason);\n  this.removeAllListeners();\n};\n\nHtmlfileReceiver.htmlfileEnabled = false;\n\n// obfuscate to avoid firewalls\nvar axo = ['Active'].concat('Object').join('X');\nif (axo in global) {\n  try {\n    HtmlfileReceiver.htmlfileEnabled = !!new global[axo]('htmlfile');\n  } catch (x) {\n    // intentionally empty\n  }\n}\n\nHtmlfileReceiver.enabled = HtmlfileReceiver.htmlfileEnabled || iframeUtils.iframeEnabled;\n\nmodule.exports = HtmlfileReceiver;\n\n}).call(this,{ env: {} },typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../../utils/iframe\":47,\"../../utils/random\":50,\"../../utils/url\":52,\"debug\":54,\"events\":3,\"inherits\":57}],31:[function(require,module,exports){\n(function (process,global){\n'use strict';\n\nvar utils = require('../../utils/iframe')\n  , random = require('../../utils/random')\n  , browser = require('../../utils/browser')\n  , urlUtils = require('../../utils/url')\n  , inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:jsonp');\n}\n\nfunction JsonpReceiver(url) {\n  debug(url);\n  var self = this;\n  EventEmitter.call(this);\n\n  utils.polluteGlobalNamespace();\n\n  this.id = 'a' + random.string(6);\n  var urlWithId = urlUtils.addQuery(url, 'c=' + encodeURIComponent(utils.WPrefix + '.' + this.id));\n\n  global[utils.WPrefix][this.id] = this._callback.bind(this);\n  this._createScript(urlWithId);\n\n  // Fallback mostly for Konqueror - stupid timer, 35 seconds shall be plenty.\n  this.timeoutId = setTimeout(function() {\n    debug('timeout');\n    self._abort(new Error('JSONP script loaded abnormally (timeout)'));\n  }, JsonpReceiver.timeout);\n}\n\ninherits(JsonpReceiver, EventEmitter);\n\nJsonpReceiver.prototype.abort = function() {\n  debug('abort');\n  if (global[utils.WPrefix][this.id]) {\n    var err = new Error('JSONP user aborted read');\n    err.code = 1000;\n    this._abort(err);\n  }\n};\n\nJsonpReceiver.timeout = 35000;\nJsonpReceiver.scriptErrorTimeout = 1000;\n\nJsonpReceiver.prototype._callback = function(data) {\n  debug('_callback', data);\n  this._cleanup();\n\n  if (this.aborting) {\n    return;\n  }\n\n  if (data) {\n    debug('message', data);\n    this.emit('message', data);\n  }\n  this.emit('close', null, 'network');\n  this.removeAllListeners();\n};\n\nJsonpReceiver.prototype._abort = function(err) {\n  debug('_abort', err);\n  this._cleanup();\n  this.aborting = true;\n  this.emit('close', err.code, err.message);\n  this.removeAllListeners();\n};\n\nJsonpReceiver.prototype._cleanup = function() {\n  debug('_cleanup');\n  clearTimeout(this.timeoutId);\n  if (this.script2) {\n    this.script2.parentNode.removeChild(this.script2);\n    this.script2 = null;\n  }\n  if (this.script) {\n    var script = this.script;\n    // Unfortunately, you can't really abort script loading of\n    // the script.\n    script.parentNode.removeChild(script);\n    script.onreadystatechange = script.onerror =\n        script.onload = script.onclick = null;\n    this.script = null;\n  }\n  delete global[utils.WPrefix][this.id];\n};\n\nJsonpReceiver.prototype._scriptError = function() {\n  debug('_scriptError');\n  var self = this;\n  if (this.errorTimer) {\n    return;\n  }\n\n  this.errorTimer = setTimeout(function() {\n    if (!self.loadedOkay) {\n      self._abort(new Error('JSONP script loaded abnormally (onerror)'));\n    }\n  }, JsonpReceiver.scriptErrorTimeout);\n};\n\nJsonpReceiver.prototype._createScript = function(url) {\n  debug('_createScript', url);\n  var self = this;\n  var script = this.script = global.document.createElement('script');\n  var script2;  // Opera synchronous load trick.\n\n  script.id = 'a' + random.string(8);\n  script.src = url;\n  script.type = 'text/javascript';\n  script.charset = 'UTF-8';\n  script.onerror = this._scriptError.bind(this);\n  script.onload = function() {\n    debug('onload');\n    self._abort(new Error('JSONP script loaded abnormally (onload)'));\n  };\n\n  // IE9 fires 'error' event after onreadystatechange or before, in random order.\n  // Use loadedOkay to determine if actually errored\n  script.onreadystatechange = function() {\n    debug('onreadystatechange', script.readyState);\n    if (/loaded|closed/.test(script.readyState)) {\n      if (script && script.htmlFor && script.onclick) {\n        self.loadedOkay = true;\n        try {\n          // In IE, actually execute the script.\n          script.onclick();\n        } catch (x) {\n          // intentionally empty\n        }\n      }\n      if (script) {\n        self._abort(new Error('JSONP script loaded abnormally (onreadystatechange)'));\n      }\n    }\n  };\n  // IE: event/htmlFor/onclick trick.\n  // One can't rely on proper order for onreadystatechange. In order to\n  // make sure, set a 'htmlFor' and 'event' properties, so that\n  // script code will be installed as 'onclick' handler for the\n  // script object. Later, onreadystatechange, manually execute this\n  // code. FF and Chrome doesn't work with 'event' and 'htmlFor'\n  // set. For reference see:\n  //   http://jaubourg.net/2010/07/loading-script-as-onclick-handler-of.html\n  // Also, read on that about script ordering:\n  //   http://wiki.whatwg.org/wiki/Dynamic_Script_Execution_Order\n  if (typeof script.async === 'undefined' && global.document.attachEvent) {\n    // According to mozilla docs, in recent browsers script.async defaults\n    // to 'true', so we may use it to detect a good browser:\n    // https://developer.mozilla.org/en/HTML/Element/script\n    if (!browser.isOpera()) {\n      // Naively assume we're in IE\n      try {\n        script.htmlFor = script.id;\n        script.event = 'onclick';\n      } catch (x) {\n        // intentionally empty\n      }\n      script.async = true;\n    } else {\n      // Opera, second sync script hack\n      script2 = this.script2 = global.document.createElement('script');\n      script2.text = \"try{var a = document.getElementById('\" + script.id + \"'); if(a)a.onerror();}catch(x){};\";\n      script.async = script2.async = false;\n    }\n  }\n  if (typeof script.async !== 'undefined') {\n    script.async = true;\n  }\n\n  var head = global.document.getElementsByTagName('head')[0];\n  head.insertBefore(script, head.firstChild);\n  if (script2) {\n    head.insertBefore(script2, head.firstChild);\n  }\n};\n\nmodule.exports = JsonpReceiver;\n\n}).call(this,{ env: {} },typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../../utils/browser\":44,\"../../utils/iframe\":47,\"../../utils/random\":50,\"../../utils/url\":52,\"debug\":54,\"events\":3,\"inherits\":57}],32:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:xhr');\n}\n\nfunction XhrReceiver(url, AjaxObject) {\n  debug(url);\n  EventEmitter.call(this);\n  var self = this;\n\n  this.bufferPosition = 0;\n\n  this.xo = new AjaxObject('POST', url, null);\n  this.xo.on('chunk', this._chunkHandler.bind(this));\n  this.xo.once('finish', function(status, text) {\n    debug('finish', status, text);\n    self._chunkHandler(status, text);\n    self.xo = null;\n    var reason = status === 200 ? 'network' : 'permanent';\n    debug('close', reason);\n    self.emit('close', null, reason);\n    self._cleanup();\n  });\n}\n\ninherits(XhrReceiver, EventEmitter);\n\nXhrReceiver.prototype._chunkHandler = function(status, text) {\n  debug('_chunkHandler', status);\n  if (status !== 200 || !text) {\n    return;\n  }\n\n  for (var idx = -1; ; this.bufferPosition += idx + 1) {\n    var buf = text.slice(this.bufferPosition);\n    idx = buf.indexOf('\\n');\n    if (idx === -1) {\n      break;\n    }\n    var msg = buf.slice(0, idx);\n    if (msg) {\n      debug('message', msg);\n      this.emit('message', msg);\n    }\n  }\n};\n\nXhrReceiver.prototype._cleanup = function() {\n  debug('_cleanup');\n  this.removeAllListeners();\n};\n\nXhrReceiver.prototype.abort = function() {\n  debug('abort');\n  if (this.xo) {\n    this.xo.close();\n    debug('close');\n    this.emit('close', null, 'user');\n    this.xo = null;\n  }\n  this._cleanup();\n};\n\nmodule.exports = XhrReceiver;\n\n}).call(this,{ env: {} })\n\n},{\"debug\":54,\"events\":3,\"inherits\":57}],33:[function(require,module,exports){\n(function (process,global){\n'use strict';\n\nvar random = require('../../utils/random')\n  , urlUtils = require('../../utils/url')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:sender:jsonp');\n}\n\nvar form, area;\n\nfunction createIframe(id) {\n  debug('createIframe', id);\n  try {\n    // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n    return global.document.createElement('<iframe name=\"' + id + '\">');\n  } catch (x) {\n    var iframe = global.document.createElement('iframe');\n    iframe.name = id;\n    return iframe;\n  }\n}\n\nfunction createForm() {\n  debug('createForm');\n  form = global.document.createElement('form');\n  form.style.display = 'none';\n  form.style.position = 'absolute';\n  form.method = 'POST';\n  form.enctype = 'application/x-www-form-urlencoded';\n  form.acceptCharset = 'UTF-8';\n\n  area = global.document.createElement('textarea');\n  area.name = 'd';\n  form.appendChild(area);\n\n  global.document.body.appendChild(form);\n}\n\nmodule.exports = function(url, payload, callback) {\n  debug(url, payload);\n  if (!form) {\n    createForm();\n  }\n  var id = 'a' + random.string(8);\n  form.target = id;\n  form.action = urlUtils.addQuery(urlUtils.addPath(url, '/jsonp_send'), 'i=' + id);\n\n  var iframe = createIframe(id);\n  iframe.id = id;\n  iframe.style.display = 'none';\n  form.appendChild(iframe);\n\n  try {\n    area.value = payload;\n  } catch (e) {\n    // seriously broken browsers get here\n  }\n  form.submit();\n\n  var completed = function(err) {\n    debug('completed', id, err);\n    if (!iframe.onerror) {\n      return;\n    }\n    iframe.onreadystatechange = iframe.onerror = iframe.onload = null;\n    // Opera mini doesn't like if we GC iframe\n    // immediately, thus this timeout.\n    setTimeout(function() {\n      debug('cleaning up', id);\n      iframe.parentNode.removeChild(iframe);\n      iframe = null;\n    }, 500);\n    area.value = '';\n    // It is not possible to detect if the iframe succeeded or\n    // failed to submit our form.\n    callback(err);\n  };\n  iframe.onerror = function() {\n    debug('onerror', id);\n    completed();\n  };\n  iframe.onload = function() {\n    debug('onload', id);\n    completed();\n  };\n  iframe.onreadystatechange = function(e) {\n    debug('onreadystatechange', id, iframe.readyState, e);\n    if (iframe.readyState === 'complete') {\n      completed();\n    }\n  };\n  return function() {\n    debug('aborted', id);\n    completed(new Error('Aborted'));\n  };\n};\n\n}).call(this,{ env: {} },typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../../utils/random\":50,\"../../utils/url\":52,\"debug\":54}],34:[function(require,module,exports){\n(function (process,global){\n'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , eventUtils = require('../../utils/event')\n  , browser = require('../../utils/browser')\n  , urlUtils = require('../../utils/url')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:sender:xdr');\n}\n\n// References:\n//   http://ajaxian.com/archives/100-line-ajax-wrapper\n//   http://msdn.microsoft.com/en-us/library/cc288060(v=VS.85).aspx\n\nfunction XDRObject(method, url, payload) {\n  debug(method, url);\n  var self = this;\n  EventEmitter.call(this);\n\n  setTimeout(function() {\n    self._start(method, url, payload);\n  }, 0);\n}\n\ninherits(XDRObject, EventEmitter);\n\nXDRObject.prototype._start = function(method, url, payload) {\n  debug('_start');\n  var self = this;\n  var xdr = new global.XDomainRequest();\n  // IE caches even POSTs\n  url = urlUtils.addQuery(url, 't=' + (+new Date()));\n\n  xdr.onerror = function() {\n    debug('onerror');\n    self._error();\n  };\n  xdr.ontimeout = function() {\n    debug('ontimeout');\n    self._error();\n  };\n  xdr.onprogress = function() {\n    debug('progress', xdr.responseText);\n    self.emit('chunk', 200, xdr.responseText);\n  };\n  xdr.onload = function() {\n    debug('load');\n    self.emit('finish', 200, xdr.responseText);\n    self._cleanup(false);\n  };\n  this.xdr = xdr;\n  this.unloadRef = eventUtils.unloadAdd(function() {\n    self._cleanup(true);\n  });\n  try {\n    // Fails with AccessDenied if port number is bogus\n    this.xdr.open(method, url);\n    if (this.timeout) {\n      this.xdr.timeout = this.timeout;\n    }\n    this.xdr.send(payload);\n  } catch (x) {\n    this._error();\n  }\n};\n\nXDRObject.prototype._error = function() {\n  this.emit('finish', 0, '');\n  this._cleanup(false);\n};\n\nXDRObject.prototype._cleanup = function(abort) {\n  debug('cleanup', abort);\n  if (!this.xdr) {\n    return;\n  }\n  this.removeAllListeners();\n  eventUtils.unloadDel(this.unloadRef);\n\n  this.xdr.ontimeout = this.xdr.onerror = this.xdr.onprogress = this.xdr.onload = null;\n  if (abort) {\n    try {\n      this.xdr.abort();\n    } catch (x) {\n      // intentionally empty\n    }\n  }\n  this.unloadRef = this.xdr = null;\n};\n\nXDRObject.prototype.close = function() {\n  debug('close');\n  this._cleanup(true);\n};\n\n// IE 8/9 if the request target uses the same scheme - #79\nXDRObject.enabled = !!(global.XDomainRequest && browser.hasDomain());\n\nmodule.exports = XDRObject;\n\n}).call(this,{ env: {} },typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../../utils/browser\":44,\"../../utils/event\":46,\"../../utils/url\":52,\"debug\":54,\"events\":3,\"inherits\":57}],35:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , XhrDriver = require('../driver/xhr')\n  ;\n\nfunction XHRCorsObject(method, url, payload, opts) {\n  XhrDriver.call(this, method, url, payload, opts);\n}\n\ninherits(XHRCorsObject, XhrDriver);\n\nXHRCorsObject.enabled = XhrDriver.enabled && XhrDriver.supportsCORS;\n\nmodule.exports = XHRCorsObject;\n\n},{\"../driver/xhr\":17,\"inherits\":57}],36:[function(require,module,exports){\n'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  ;\n\nfunction XHRFake(/* method, url, payload, opts */) {\n  var self = this;\n  EventEmitter.call(this);\n\n  this.to = setTimeout(function() {\n    self.emit('finish', 200, '{}');\n  }, XHRFake.timeout);\n}\n\ninherits(XHRFake, EventEmitter);\n\nXHRFake.prototype.close = function() {\n  clearTimeout(this.to);\n};\n\nXHRFake.timeout = 2000;\n\nmodule.exports = XHRFake;\n\n},{\"events\":3,\"inherits\":57}],37:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , XhrDriver = require('../driver/xhr')\n  ;\n\nfunction XHRLocalObject(method, url, payload /*, opts */) {\n  XhrDriver.call(this, method, url, payload, {\n    noCredentials: true\n  });\n}\n\ninherits(XHRLocalObject, XhrDriver);\n\nXHRLocalObject.enabled = XhrDriver.enabled;\n\nmodule.exports = XHRLocalObject;\n\n},{\"../driver/xhr\":17,\"inherits\":57}],38:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar utils = require('../utils/event')\n  , urlUtils = require('../utils/url')\n  , inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , WebsocketDriver = require('./driver/websocket')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:websocket');\n}\n\nfunction WebSocketTransport(transUrl, ignore, options) {\n  if (!WebSocketTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n\n  EventEmitter.call(this);\n  debug('constructor', transUrl);\n\n  var self = this;\n  var url = urlUtils.addPath(transUrl, '/websocket');\n  if (url.slice(0, 5) === 'https') {\n    url = 'wss' + url.slice(5);\n  } else {\n    url = 'ws' + url.slice(4);\n  }\n  this.url = url;\n\n  this.ws = new WebsocketDriver(this.url, [], options);\n  this.ws.onmessage = function(e) {\n    debug('message event', e.data);\n    self.emit('message', e.data);\n  };\n  // Firefox has an interesting bug. If a websocket connection is\n  // created after onunload, it stays alive even when user\n  // navigates away from the page. In such situation let's lie -\n  // let's not open the ws connection at all. See:\n  // https://github.com/sockjs/sockjs-client/issues/28\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=696085\n  this.unloadRef = utils.unloadAdd(function() {\n    debug('unload');\n    self.ws.close();\n  });\n  this.ws.onclose = function(e) {\n    debug('close event', e.code, e.reason);\n    self.emit('close', e.code, e.reason);\n    self._cleanup();\n  };\n  this.ws.onerror = function(e) {\n    debug('error event', e);\n    self.emit('close', 1006, 'WebSocket connection broken');\n    self._cleanup();\n  };\n}\n\ninherits(WebSocketTransport, EventEmitter);\n\nWebSocketTransport.prototype.send = function(data) {\n  var msg = '[' + data + ']';\n  debug('send', msg);\n  this.ws.send(msg);\n};\n\nWebSocketTransport.prototype.close = function() {\n  debug('close');\n  if (this.ws) {\n    this.ws.close();\n  }\n  this._cleanup();\n};\n\nWebSocketTransport.prototype._cleanup = function() {\n  debug('_cleanup');\n  var ws = this.ws;\n  if (ws) {\n    ws.onmessage = ws.onclose = ws.onerror = null;\n  }\n  utils.unloadDel(this.unloadRef);\n  this.unloadRef = this.ws = null;\n  this.removeAllListeners();\n};\n\nWebSocketTransport.enabled = function() {\n  debug('enabled');\n  return !!WebsocketDriver;\n};\nWebSocketTransport.transportName = 'websocket';\n\n// In theory, ws should require 1 round trip. But in chrome, this is\n// not very stable over SSL. Most likely a ws connection requires a\n// separate SSL connection, in which case 2 round trips are an\n// absolute minumum.\nWebSocketTransport.roundTrips = 2;\n\nmodule.exports = WebSocketTransport;\n\n}).call(this,{ env: {} })\n\n},{\"../utils/event\":46,\"../utils/url\":52,\"./driver/websocket\":19,\"debug\":54,\"events\":3,\"inherits\":57}],39:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XdrStreamingTransport = require('./xdr-streaming')\n  , XhrReceiver = require('./receiver/xhr')\n  , XDRObject = require('./sender/xdr')\n  ;\n\nfunction XdrPollingTransport(transUrl) {\n  if (!XDRObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr', XhrReceiver, XDRObject);\n}\n\ninherits(XdrPollingTransport, AjaxBasedTransport);\n\nXdrPollingTransport.enabled = XdrStreamingTransport.enabled;\nXdrPollingTransport.transportName = 'xdr-polling';\nXdrPollingTransport.roundTrips = 2; // preflight, ajax\n\nmodule.exports = XdrPollingTransport;\n\n},{\"./lib/ajax-based\":24,\"./receiver/xhr\":32,\"./sender/xdr\":34,\"./xdr-streaming\":40,\"inherits\":57}],40:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XhrReceiver = require('./receiver/xhr')\n  , XDRObject = require('./sender/xdr')\n  ;\n\n// According to:\n//   http://stackoverflow.com/questions/1641507/detect-browser-support-for-cross-domain-xmlhttprequests\n//   http://hacks.mozilla.org/2009/07/cross-site-xmlhttprequest-with-cors/\n\nfunction XdrStreamingTransport(transUrl) {\n  if (!XDRObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr_streaming', XhrReceiver, XDRObject);\n}\n\ninherits(XdrStreamingTransport, AjaxBasedTransport);\n\nXdrStreamingTransport.enabled = function(info) {\n  if (info.cookie_needed || info.nullOrigin) {\n    return false;\n  }\n  return XDRObject.enabled && info.sameScheme;\n};\n\nXdrStreamingTransport.transportName = 'xdr-streaming';\nXdrStreamingTransport.roundTrips = 2; // preflight, ajax\n\nmodule.exports = XdrStreamingTransport;\n\n},{\"./lib/ajax-based\":24,\"./receiver/xhr\":32,\"./sender/xdr\":34,\"inherits\":57}],41:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XhrReceiver = require('./receiver/xhr')\n  , XHRCorsObject = require('./sender/xhr-cors')\n  , XHRLocalObject = require('./sender/xhr-local')\n  ;\n\nfunction XhrPollingTransport(transUrl) {\n  if (!XHRLocalObject.enabled && !XHRCorsObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr', XhrReceiver, XHRCorsObject);\n}\n\ninherits(XhrPollingTransport, AjaxBasedTransport);\n\nXhrPollingTransport.enabled = function(info) {\n  if (info.nullOrigin) {\n    return false;\n  }\n\n  if (XHRLocalObject.enabled && info.sameOrigin) {\n    return true;\n  }\n  return XHRCorsObject.enabled;\n};\n\nXhrPollingTransport.transportName = 'xhr-polling';\nXhrPollingTransport.roundTrips = 2; // preflight, ajax\n\nmodule.exports = XhrPollingTransport;\n\n},{\"./lib/ajax-based\":24,\"./receiver/xhr\":32,\"./sender/xhr-cors\":35,\"./sender/xhr-local\":37,\"inherits\":57}],42:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XhrReceiver = require('./receiver/xhr')\n  , XHRCorsObject = require('./sender/xhr-cors')\n  , XHRLocalObject = require('./sender/xhr-local')\n  , browser = require('../utils/browser')\n  ;\n\nfunction XhrStreamingTransport(transUrl) {\n  if (!XHRLocalObject.enabled && !XHRCorsObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr_streaming', XhrReceiver, XHRCorsObject);\n}\n\ninherits(XhrStreamingTransport, AjaxBasedTransport);\n\nXhrStreamingTransport.enabled = function(info) {\n  if (info.nullOrigin) {\n    return false;\n  }\n  // Opera doesn't support xhr-streaming #60\n  // But it might be able to #92\n  if (browser.isOpera()) {\n    return false;\n  }\n\n  return XHRCorsObject.enabled;\n};\n\nXhrStreamingTransport.transportName = 'xhr-streaming';\nXhrStreamingTransport.roundTrips = 2; // preflight, ajax\n\n// Safari gets confused when a streaming ajax request is started\n// before onload. This causes the load indicator to spin indefinetely.\n// Only require body when used in a browser\nXhrStreamingTransport.needBody = !!global.document;\n\nmodule.exports = XhrStreamingTransport;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../utils/browser\":44,\"./lib/ajax-based\":24,\"./receiver/xhr\":32,\"./sender/xhr-cors\":35,\"./sender/xhr-local\":37,\"inherits\":57}],43:[function(require,module,exports){\n(function (global){\n'use strict';\n\nif (global.crypto && global.crypto.getRandomValues) {\n  module.exports.randomBytes = function(length) {\n    var bytes = new Uint8Array(length);\n    global.crypto.getRandomValues(bytes);\n    return bytes;\n  };\n} else {\n  module.exports.randomBytes = function(length) {\n    var bytes = new Array(length);\n    for (var i = 0; i < length; i++) {\n      bytes[i] = Math.floor(Math.random() * 256);\n    }\n    return bytes;\n  };\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],44:[function(require,module,exports){\n(function (global){\n'use strict';\n\nmodule.exports = {\n  isOpera: function() {\n    return global.navigator &&\n      /opera/i.test(global.navigator.userAgent);\n  }\n\n, isKonqueror: function() {\n    return global.navigator &&\n      /konqueror/i.test(global.navigator.userAgent);\n  }\n\n  // #187 wrap document.domain in try/catch because of WP8 from file:///\n, hasDomain: function () {\n    // non-browser client always has a domain\n    if (!global.document) {\n      return true;\n    }\n\n    try {\n      return !!global.document.domain;\n    } catch (e) {\n      return false;\n    }\n  }\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],45:[function(require,module,exports){\n'use strict';\n\nvar JSON3 = require('json3');\n\n// Some extra characters that Chrome gets wrong, and substitutes with\n// something else on the wire.\nvar extraEscapable = /[\\x00-\\x1f\\ud800-\\udfff\\ufffe\\uffff\\u0300-\\u0333\\u033d-\\u0346\\u034a-\\u034c\\u0350-\\u0352\\u0357-\\u0358\\u035c-\\u0362\\u0374\\u037e\\u0387\\u0591-\\u05af\\u05c4\\u0610-\\u0617\\u0653-\\u0654\\u0657-\\u065b\\u065d-\\u065e\\u06df-\\u06e2\\u06eb-\\u06ec\\u0730\\u0732-\\u0733\\u0735-\\u0736\\u073a\\u073d\\u073f-\\u0741\\u0743\\u0745\\u0747\\u07eb-\\u07f1\\u0951\\u0958-\\u095f\\u09dc-\\u09dd\\u09df\\u0a33\\u0a36\\u0a59-\\u0a5b\\u0a5e\\u0b5c-\\u0b5d\\u0e38-\\u0e39\\u0f43\\u0f4d\\u0f52\\u0f57\\u0f5c\\u0f69\\u0f72-\\u0f76\\u0f78\\u0f80-\\u0f83\\u0f93\\u0f9d\\u0fa2\\u0fa7\\u0fac\\u0fb9\\u1939-\\u193a\\u1a17\\u1b6b\\u1cda-\\u1cdb\\u1dc0-\\u1dcf\\u1dfc\\u1dfe\\u1f71\\u1f73\\u1f75\\u1f77\\u1f79\\u1f7b\\u1f7d\\u1fbb\\u1fbe\\u1fc9\\u1fcb\\u1fd3\\u1fdb\\u1fe3\\u1feb\\u1fee-\\u1fef\\u1ff9\\u1ffb\\u1ffd\\u2000-\\u2001\\u20d0-\\u20d1\\u20d4-\\u20d7\\u20e7-\\u20e9\\u2126\\u212a-\\u212b\\u2329-\\u232a\\u2adc\\u302b-\\u302c\\uaab2-\\uaab3\\uf900-\\ufa0d\\ufa10\\ufa12\\ufa15-\\ufa1e\\ufa20\\ufa22\\ufa25-\\ufa26\\ufa2a-\\ufa2d\\ufa30-\\ufa6d\\ufa70-\\ufad9\\ufb1d\\ufb1f\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufb4e\\ufff0-\\uffff]/g\n  , extraLookup;\n\n// This may be quite slow, so let's delay until user actually uses bad\n// characters.\nvar unrollLookup = function(escapable) {\n  var i;\n  var unrolled = {};\n  var c = [];\n  for (i = 0; i < 65536; i++) {\n    c.push( String.fromCharCode(i) );\n  }\n  escapable.lastIndex = 0;\n  c.join('').replace(escapable, function(a) {\n    unrolled[ a ] = '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n    return '';\n  });\n  escapable.lastIndex = 0;\n  return unrolled;\n};\n\n// Quote string, also taking care of unicode characters that browsers\n// often break. Especially, take care of unicode surrogates:\n// http://en.wikipedia.org/wiki/Mapping_of_Unicode_characters#Surrogates\nmodule.exports = {\n  quote: function(string) {\n    var quoted = JSON3.stringify(string);\n\n    // In most cases this should be very fast and good enough.\n    extraEscapable.lastIndex = 0;\n    if (!extraEscapable.test(quoted)) {\n      return quoted;\n    }\n\n    if (!extraLookup) {\n      extraLookup = unrollLookup(extraEscapable);\n    }\n\n    return quoted.replace(extraEscapable, function(a) {\n      return extraLookup[a];\n    });\n  }\n};\n\n},{\"json3\":58}],46:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar random = require('./random');\n\nvar onUnload = {}\n  , afterUnload = false\n    // detect google chrome packaged apps because they don't allow the 'unload' event\n  , isChromePackagedApp = global.chrome && global.chrome.app && global.chrome.app.runtime\n  ;\n\nmodule.exports = {\n  attachEvent: function(event, listener) {\n    if (typeof global.addEventListener !== 'undefined') {\n      global.addEventListener(event, listener, false);\n    } else if (global.document && global.attachEvent) {\n      // IE quirks.\n      // According to: http://stevesouders.com/misc/test-postmessage.php\n      // the message gets delivered only to 'document', not 'window'.\n      global.document.attachEvent('on' + event, listener);\n      // I get 'window' for ie8.\n      global.attachEvent('on' + event, listener);\n    }\n  }\n\n, detachEvent: function(event, listener) {\n    if (typeof global.addEventListener !== 'undefined') {\n      global.removeEventListener(event, listener, false);\n    } else if (global.document && global.detachEvent) {\n      global.document.detachEvent('on' + event, listener);\n      global.detachEvent('on' + event, listener);\n    }\n  }\n\n, unloadAdd: function(listener) {\n    if (isChromePackagedApp) {\n      return null;\n    }\n\n    var ref = random.string(8);\n    onUnload[ref] = listener;\n    if (afterUnload) {\n      setTimeout(this.triggerUnloadCallbacks, 0);\n    }\n    return ref;\n  }\n\n, unloadDel: function(ref) {\n    if (ref in onUnload) {\n      delete onUnload[ref];\n    }\n  }\n\n, triggerUnloadCallbacks: function() {\n    for (var ref in onUnload) {\n      onUnload[ref]();\n      delete onUnload[ref];\n    }\n  }\n};\n\nvar unloadTriggered = function() {\n  if (afterUnload) {\n    return;\n  }\n  afterUnload = true;\n  module.exports.triggerUnloadCallbacks();\n};\n\n// 'unload' alone is not reliable in opera within an iframe, but we\n// can't use `beforeunload` as IE fires it on javascript: links.\nif (!isChromePackagedApp) {\n  module.exports.attachEvent('unload', unloadTriggered);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./random\":50}],47:[function(require,module,exports){\n(function (process,global){\n'use strict';\n\nvar eventUtils = require('./event')\n  , JSON3 = require('json3')\n  , browser = require('./browser')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:utils:iframe');\n}\n\nmodule.exports = {\n  WPrefix: '_jp'\n, currentWindowId: null\n\n, polluteGlobalNamespace: function() {\n    if (!(module.exports.WPrefix in global)) {\n      global[module.exports.WPrefix] = {};\n    }\n  }\n\n, postMessage: function(type, data) {\n    if (global.parent !== global) {\n      global.parent.postMessage(JSON3.stringify({\n        windowId: module.exports.currentWindowId\n      , type: type\n      , data: data || ''\n      }), '*');\n    } else {\n      debug('Cannot postMessage, no parent window.', type, data);\n    }\n  }\n\n, createIframe: function(iframeUrl, errorCallback) {\n    var iframe = global.document.createElement('iframe');\n    var tref, unloadRef;\n    var unattach = function() {\n      debug('unattach');\n      clearTimeout(tref);\n      // Explorer had problems with that.\n      try {\n        iframe.onload = null;\n      } catch (x) {\n        // intentionally empty\n      }\n      iframe.onerror = null;\n    };\n    var cleanup = function() {\n      debug('cleanup');\n      if (iframe) {\n        unattach();\n        // This timeout makes chrome fire onbeforeunload event\n        // within iframe. Without the timeout it goes straight to\n        // onunload.\n        setTimeout(function() {\n          if (iframe) {\n            iframe.parentNode.removeChild(iframe);\n          }\n          iframe = null;\n        }, 0);\n        eventUtils.unloadDel(unloadRef);\n      }\n    };\n    var onerror = function(err) {\n      debug('onerror', err);\n      if (iframe) {\n        cleanup();\n        errorCallback(err);\n      }\n    };\n    var post = function(msg, origin) {\n      debug('post', msg, origin);\n      try {\n        // When the iframe is not loaded, IE raises an exception\n        // on 'contentWindow'.\n        setTimeout(function() {\n          if (iframe && iframe.contentWindow) {\n            iframe.contentWindow.postMessage(msg, origin);\n          }\n        }, 0);\n      } catch (x) {\n        // intentionally empty\n      }\n    };\n\n    iframe.src = iframeUrl;\n    iframe.style.display = 'none';\n    iframe.style.position = 'absolute';\n    iframe.onerror = function() {\n      onerror('onerror');\n    };\n    iframe.onload = function() {\n      debug('onload');\n      // `onload` is triggered before scripts on the iframe are\n      // executed. Give it few seconds to actually load stuff.\n      clearTimeout(tref);\n      tref = setTimeout(function() {\n        onerror('onload timeout');\n      }, 2000);\n    };\n    global.document.body.appendChild(iframe);\n    tref = setTimeout(function() {\n      onerror('timeout');\n    }, 15000);\n    unloadRef = eventUtils.unloadAdd(cleanup);\n    return {\n      post: post\n    , cleanup: cleanup\n    , loaded: unattach\n    };\n  }\n\n/* jshint undef: false, newcap: false */\n/* eslint no-undef: 0, new-cap: 0 */\n, createHtmlfile: function(iframeUrl, errorCallback) {\n    var axo = ['Active'].concat('Object').join('X');\n    var doc = new global[axo]('htmlfile');\n    var tref, unloadRef;\n    var iframe;\n    var unattach = function() {\n      clearTimeout(tref);\n      iframe.onerror = null;\n    };\n    var cleanup = function() {\n      if (doc) {\n        unattach();\n        eventUtils.unloadDel(unloadRef);\n        iframe.parentNode.removeChild(iframe);\n        iframe = doc = null;\n        CollectGarbage();\n      }\n    };\n    var onerror = function(r) {\n      debug('onerror', r);\n      if (doc) {\n        cleanup();\n        errorCallback(r);\n      }\n    };\n    var post = function(msg, origin) {\n      try {\n        // When the iframe is not loaded, IE raises an exception\n        // on 'contentWindow'.\n        setTimeout(function() {\n          if (iframe && iframe.contentWindow) {\n              iframe.contentWindow.postMessage(msg, origin);\n          }\n        }, 0);\n      } catch (x) {\n        // intentionally empty\n      }\n    };\n\n    doc.open();\n    doc.write('<html><s' + 'cript>' +\n              'document.domain=\"' + global.document.domain + '\";' +\n              '</s' + 'cript></html>');\n    doc.close();\n    doc.parentWindow[module.exports.WPrefix] = global[module.exports.WPrefix];\n    var c = doc.createElement('div');\n    doc.body.appendChild(c);\n    iframe = doc.createElement('iframe');\n    c.appendChild(iframe);\n    iframe.src = iframeUrl;\n    iframe.onerror = function() {\n      onerror('onerror');\n    };\n    tref = setTimeout(function() {\n      onerror('timeout');\n    }, 15000);\n    unloadRef = eventUtils.unloadAdd(cleanup);\n    return {\n      post: post\n    , cleanup: cleanup\n    , loaded: unattach\n    };\n  }\n};\n\nmodule.exports.iframeEnabled = false;\nif (global.document) {\n  // postMessage misbehaves in konqueror 4.6.5 - the messages are delivered with\n  // huge delay, or not at all.\n  module.exports.iframeEnabled = (typeof global.postMessage === 'function' ||\n    typeof global.postMessage === 'object') && (!browser.isKonqueror());\n}\n\n}).call(this,{ env: {} },typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./browser\":44,\"./event\":46,\"debug\":54,\"json3\":58}],48:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar logObject = {};\n['log', 'debug', 'warn'].forEach(function (level) {\n  var levelExists;\n\n  try {\n    levelExists = global.console && global.console[level] && global.console[level].apply;\n  } catch(e) {\n    // do nothing\n  }\n\n  logObject[level] = levelExists ? function () {\n    return global.console[level].apply(global.console, arguments);\n  } : (level === 'log' ? function () {} : logObject.log);\n});\n\nmodule.exports = logObject;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],49:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  isObject: function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  }\n\n, extend: function(obj) {\n    if (!this.isObject(obj)) {\n      return obj;\n    }\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n      source = arguments[i];\n      for (prop in source) {\n        if (Object.prototype.hasOwnProperty.call(source, prop)) {\n          obj[prop] = source[prop];\n        }\n      }\n    }\n    return obj;\n  }\n};\n\n},{}],50:[function(require,module,exports){\n'use strict';\n\n/* global crypto:true */\nvar crypto = require('crypto');\n\n// This string has length 32, a power of 2, so the modulus doesn't introduce a\n// bias.\nvar _randomStringChars = 'abcdefghijklmnopqrstuvwxyz012345';\nmodule.exports = {\n  string: function(length) {\n    var max = _randomStringChars.length;\n    var bytes = crypto.randomBytes(length);\n    var ret = [];\n    for (var i = 0; i < length; i++) {\n      ret.push(_randomStringChars.substr(bytes[i] % max, 1));\n    }\n    return ret.join('');\n  }\n\n, number: function(max) {\n    return Math.floor(Math.random() * max);\n  }\n\n, numberString: function(max) {\n    var t = ('' + (max - 1)).length;\n    var p = new Array(t + 1).join('0');\n    return (p + this.number(max)).slice(-t);\n  }\n};\n\n},{\"crypto\":43}],51:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:utils:transport');\n}\n\nmodule.exports = function(availableTransports) {\n  return {\n    filterToEnabled: function(transportsWhitelist, info) {\n      var transports = {\n        main: []\n      , facade: []\n      };\n      if (!transportsWhitelist) {\n        transportsWhitelist = [];\n      } else if (typeof transportsWhitelist === 'string') {\n        transportsWhitelist = [transportsWhitelist];\n      }\n\n      availableTransports.forEach(function(trans) {\n        if (!trans) {\n          return;\n        }\n\n        if (trans.transportName === 'websocket' && info.websocket === false) {\n          debug('disabled from server', 'websocket');\n          return;\n        }\n\n        if (transportsWhitelist.length &&\n            transportsWhitelist.indexOf(trans.transportName) === -1) {\n          debug('not in whitelist', trans.transportName);\n          return;\n        }\n\n        if (trans.enabled(info)) {\n          debug('enabled', trans.transportName);\n          transports.main.push(trans);\n          if (trans.facadeTransport) {\n            transports.facade.push(trans.facadeTransport);\n          }\n        } else {\n          debug('disabled', trans.transportName);\n        }\n      });\n      return transports;\n    }\n  };\n};\n\n}).call(this,{ env: {} })\n\n},{\"debug\":54}],52:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar URL = require('url-parse');\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:utils:url');\n}\n\nmodule.exports = {\n  getOrigin: function(url) {\n    if (!url) {\n      return null;\n    }\n\n    var p = new URL(url);\n    if (p.protocol === 'file:') {\n      return null;\n    }\n\n    var port = p.port;\n    if (!port) {\n      port = (p.protocol === 'https:') ? '443' : '80';\n    }\n\n    return p.protocol + '//' + p.hostname + ':' + port;\n  }\n\n, isOriginEqual: function(a, b) {\n    var res = this.getOrigin(a) === this.getOrigin(b);\n    debug('same', a, b, res);\n    return res;\n  }\n\n, isSchemeEqual: function(a, b) {\n    return (a.split(':')[0] === b.split(':')[0]);\n  }\n\n, addPath: function (url, path) {\n    var qs = url.split('?');\n    return qs[0] + path + (qs[1] ? '?' + qs[1] : '');\n  }\n\n, addQuery: function (url, q) {\n    return url + (url.indexOf('?') === -1 ? ('?' + q) : ('&' + q));\n  }\n};\n\n}).call(this,{ env: {} })\n\n},{\"debug\":54,\"url-parse\":59}],53:[function(require,module,exports){\nmodule.exports = '1.1.1';\n\n},{}],54:[function(require,module,exports){\n\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  return ('WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  return JSON.stringify(v);\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage(){\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n},{\"./debug\":55}],55:[function(require,module,exports){\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = Array.prototype.slice.call(arguments);\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    if ('function' === typeof exports.formatArgs) {\n      args = exports.formatArgs.apply(self, args);\n    }\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n},{\"ms\":56}],56:[function(require,module,exports){\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options.long\n    ? long(val)\n    : short(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = '' + str;\n  if (str.length > 10000) return;\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction short(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction long(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n},{}],57:[function(require,module,exports){\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n},{}],58:[function(require,module,exports){\n(function (global){\n/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */\n;(function () {\n  // Detect the `define` function exposed by asynchronous module loaders. The\n  // strict `define` check is necessary for compatibility with `r.js`.\n  var isLoader = typeof define === \"function\" && define.amd;\n\n  // A set of types used to distinguish objects from primitives.\n  var objectTypes = {\n    \"function\": true,\n    \"object\": true\n  };\n\n  // Detect the `exports` object exposed by CommonJS implementations.\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  // Use the `global` object exposed by Node (including Browserify via\n  // `insert-module-globals`), Narwhal, and Ringo as the default context,\n  // and the `window` object in browsers. Rhino exports a `global` function\n  // instead.\n  var root = objectTypes[typeof window] && window || this,\n      freeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == \"object\" && global;\n\n  if (freeGlobal && (freeGlobal[\"global\"] === freeGlobal || freeGlobal[\"window\"] === freeGlobal || freeGlobal[\"self\"] === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  // Public: Initializes JSON 3 using the given `context` object, attaching the\n  // `stringify` and `parse` functions to the specified `exports` object.\n  function runInContext(context, exports) {\n    context || (context = root[\"Object\"]());\n    exports || (exports = root[\"Object\"]());\n\n    // Native constructor aliases.\n    var Number = context[\"Number\"] || root[\"Number\"],\n        String = context[\"String\"] || root[\"String\"],\n        Object = context[\"Object\"] || root[\"Object\"],\n        Date = context[\"Date\"] || root[\"Date\"],\n        SyntaxError = context[\"SyntaxError\"] || root[\"SyntaxError\"],\n        TypeError = context[\"TypeError\"] || root[\"TypeError\"],\n        Math = context[\"Math\"] || root[\"Math\"],\n        nativeJSON = context[\"JSON\"] || root[\"JSON\"];\n\n    // Delegate to the native `stringify` and `parse` implementations.\n    if (typeof nativeJSON == \"object\" && nativeJSON) {\n      exports.stringify = nativeJSON.stringify;\n      exports.parse = nativeJSON.parse;\n    }\n\n    // Convenience aliases.\n    var objectProto = Object.prototype,\n        getClass = objectProto.toString,\n        isProperty, forEach, undef;\n\n    // Test the `Date#getUTC*` methods. Based on work by @Yaffle.\n    var isExtended = new Date(-3509827334573292);\n    try {\n      // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\n      // results for certain dates in Opera >= 10.53.\n      isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\n        // Safari < 2.0.2 stores the internal millisecond time value correctly,\n        // but clips the values returned by the date methods to the range of\n        // signed 32-bit integers ([-2 ** 31, 2 ** 31 - 1]).\n        isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\n    } catch (exception) {}\n\n    // Internal: Determines whether the native `JSON.stringify` and `parse`\n    // implementations are spec-compliant. Based on work by Ken Snyder.\n    function has(name) {\n      if (has[name] !== undef) {\n        // Return cached feature test result.\n        return has[name];\n      }\n      var isSupported;\n      if (name == \"bug-string-char-index\") {\n        // IE <= 7 doesn't support accessing string characters using square\n        // bracket notation. IE 8 only supports this for primitives.\n        isSupported = \"a\"[0] != \"a\";\n      } else if (name == \"json\") {\n        // Indicates whether both `JSON.stringify` and `JSON.parse` are\n        // supported.\n        isSupported = has(\"json-stringify\") && has(\"json-parse\");\n      } else {\n        var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\n        // Test `JSON.stringify`.\n        if (name == \"json-stringify\") {\n          var stringify = exports.stringify, stringifySupported = typeof stringify == \"function\" && isExtended;\n          if (stringifySupported) {\n            // A test function object with a custom `toJSON` method.\n            (value = function () {\n              return 1;\n            }).toJSON = value;\n            try {\n              stringifySupported =\n                // Firefox 3.1b1 and b2 serialize string, number, and boolean\n                // primitives as object literals.\n                stringify(0) === \"0\" &&\n                // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\n                // literals.\n                stringify(new Number()) === \"0\" &&\n                stringify(new String()) == '\"\"' &&\n                // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\n                // does not define a canonical JSON representation (this applies to\n                // objects with `toJSON` properties as well, *unless* they are nested\n                // within an object or array).\n                stringify(getClass) === undef &&\n                // IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\n                // FF 3.1b3 pass this test.\n                stringify(undef) === undef &&\n                // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\n                // respectively, if the value is omitted entirely.\n                stringify() === undef &&\n                // FF 3.1b1, 2 throw an error if the given value is not a number,\n                // string, array, object, Boolean, or `null` literal. This applies to\n                // objects with custom `toJSON` methods as well, unless they are nested\n                // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\n                // methods entirely.\n                stringify(value) === \"1\" &&\n                stringify([value]) == \"[1]\" &&\n                // Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\n                // `\"[null]\"`.\n                stringify([undef]) == \"[null]\" &&\n                // YUI 3.0.0b1 fails to serialize `null` literals.\n                stringify(null) == \"null\" &&\n                // FF 3.1b1, 2 halts serialization if an array contains a function:\n                // `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\n                // elides non-JSON values from objects and arrays, unless they\n                // define custom `toJSON` methods.\n                stringify([undef, getClass, null]) == \"[null,null,null]\" &&\n                // Simple serialization test. FF 3.1b1 uses Unicode escape sequences\n                // where character escape codes are expected (e.g., `\\b` => `\\u0008`).\n                stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\n                // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\n                stringify(null, value) === \"1\" &&\n                stringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\" &&\n                // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\n                // serialize extended years.\n                stringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\n                // The milliseconds are optional in ES 5, but required in 5.1.\n                stringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\n                // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\n                // four-digit years instead of six-digit years. Credits: @Yaffle.\n                stringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\n                // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\n                // values less than 1000. Credits: @Yaffle.\n                stringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\n            } catch (exception) {\n              stringifySupported = false;\n            }\n          }\n          isSupported = stringifySupported;\n        }\n        // Test `JSON.parse`.\n        if (name == \"json-parse\") {\n          var parse = exports.parse;\n          if (typeof parse == \"function\") {\n            try {\n              // FF 3.1b1, b2 will throw an exception if a bare literal is provided.\n              // Conforming implementations should also coerce the initial argument to\n              // a string prior to parsing.\n              if (parse(\"0\") === 0 && !parse(false)) {\n                // Simple parsing test.\n                value = parse(serialized);\n                var parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\n                if (parseSupported) {\n                  try {\n                    // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\n                    parseSupported = !parse('\"\\t\"');\n                  } catch (exception) {}\n                  if (parseSupported) {\n                    try {\n                      // FF 4.0 and 4.0.1 allow leading `+` signs and leading\n                      // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\n                      // certain octal literals.\n                      parseSupported = parse(\"01\") !== 1;\n                    } catch (exception) {}\n                  }\n                  if (parseSupported) {\n                    try {\n                      // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\n                      // points. These environments, along with FF 3.1b1 and 2,\n                      // also allow trailing commas in JSON objects and arrays.\n                      parseSupported = parse(\"1.\") !== 1;\n                    } catch (exception) {}\n                  }\n                }\n              }\n            } catch (exception) {\n              parseSupported = false;\n            }\n          }\n          isSupported = parseSupported;\n        }\n      }\n      return has[name] = !!isSupported;\n    }\n\n    if (!has(\"json\")) {\n      // Common `[[Class]]` name aliases.\n      var functionClass = \"[object Function]\",\n          dateClass = \"[object Date]\",\n          numberClass = \"[object Number]\",\n          stringClass = \"[object String]\",\n          arrayClass = \"[object Array]\",\n          booleanClass = \"[object Boolean]\";\n\n      // Detect incomplete support for accessing string characters by index.\n      var charIndexBuggy = has(\"bug-string-char-index\");\n\n      // Define additional utility methods if the `Date` methods are buggy.\n      if (!isExtended) {\n        var floor = Math.floor;\n        // A mapping between the months of the year and the number of days between\n        // January 1st and the first of the respective month.\n        var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n        // Internal: Calculates the number of days between the Unix epoch and the\n        // first day of the given month.\n        var getDay = function (year, month) {\n          return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\n        };\n      }\n\n      // Internal: Determines if a property is a direct property of the given\n      // object. Delegates to the native `Object#hasOwnProperty` method.\n      if (!(isProperty = objectProto.hasOwnProperty)) {\n        isProperty = function (property) {\n          var members = {}, constructor;\n          if ((members.__proto__ = null, members.__proto__ = {\n            // The *proto* property cannot be set multiple times in recent\n            // versions of Firefox and SeaMonkey.\n            \"toString\": 1\n          }, members).toString != getClass) {\n            // Safari <= 2.0.3 doesn't implement `Object#hasOwnProperty`, but\n            // supports the mutable *proto* property.\n            isProperty = function (property) {\n              // Capture and break the object's prototype chain (see section 8.6.2\n              // of the ES 5.1 spec). The parenthesized expression prevents an\n              // unsafe transformation by the Closure Compiler.\n              var original = this.__proto__, result = property in (this.__proto__ = null, this);\n              // Restore the original prototype chain.\n              this.__proto__ = original;\n              return result;\n            };\n          } else {\n            // Capture a reference to the top-level `Object` constructor.\n            constructor = members.constructor;\n            // Use the `constructor` property to simulate `Object#hasOwnProperty` in\n            // other environments.\n            isProperty = function (property) {\n              var parent = (this.constructor || constructor).prototype;\n              return property in this && !(property in parent && this[property] === parent[property]);\n            };\n          }\n          members = null;\n          return isProperty.call(this, property);\n        };\n      }\n\n      // Internal: Normalizes the `for...in` iteration algorithm across\n      // environments. Each enumerated key is yielded to a `callback` function.\n      forEach = function (object, callback) {\n        var size = 0, Properties, members, property;\n\n        // Tests for bugs in the current environment's `for...in` algorithm. The\n        // `valueOf` property inherits the non-enumerable flag from\n        // `Object.prototype` in older versions of IE, Netscape, and Mozilla.\n        (Properties = function () {\n          this.valueOf = 0;\n        }).prototype.valueOf = 0;\n\n        // Iterate over a new instance of the `Properties` class.\n        members = new Properties();\n        for (property in members) {\n          // Ignore all properties inherited from `Object.prototype`.\n          if (isProperty.call(members, property)) {\n            size++;\n          }\n        }\n        Properties = members = null;\n\n        // Normalize the iteration algorithm.\n        if (!size) {\n          // A list of non-enumerable properties inherited from `Object.prototype`.\n          members = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\n          // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\n          // properties.\n          forEach = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, length;\n            var hasProperty = !isFunction && typeof object.constructor != \"function\" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;\n            for (property in object) {\n              // Gecko <= 1.0 enumerates the `prototype` property of functions under\n              // certain conditions; IE does not.\n              if (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for each non-enumerable property.\n            for (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));\n          };\n        } else if (size == 2) {\n          // Safari <= 2.0.4 enumerates shadowed properties twice.\n          forEach = function (object, callback) {\n            // Create a set of iterated properties.\n            var members = {}, isFunction = getClass.call(object) == functionClass, property;\n            for (property in object) {\n              // Store each property name to prevent double enumeration. The\n              // `prototype` property of functions is not enumerated due to cross-\n              // environment inconsistencies.\n              if (!(isFunction && property == \"prototype\") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n          };\n        } else {\n          // No bugs detected; use the standard `for...in` algorithm.\n          forEach = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, isConstructor;\n            for (property in object) {\n              if (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for the `constructor` property due to\n            // cross-environment inconsistencies.\n            if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\n              callback(property);\n            }\n          };\n        }\n        return forEach(object, callback);\n      };\n\n      // Public: Serializes a JavaScript `value` as a JSON string. The optional\n      // `filter` argument may specify either a function that alters how object and\n      // array members are serialized, or an array of strings and numbers that\n      // indicates which properties should be serialized. The optional `width`\n      // argument may be either a string or number that specifies the indentation\n      // level of the output.\n      if (!has(\"json-stringify\")) {\n        // Internal: A map of control characters and their escaped equivalents.\n        var Escapes = {\n          92: \"\\\\\\\\\",\n          34: '\\\\\"',\n          8: \"\\\\b\",\n          12: \"\\\\f\",\n          10: \"\\\\n\",\n          13: \"\\\\r\",\n          9: \"\\\\t\"\n        };\n\n        // Internal: Converts `value` into a zero-padded string such that its\n        // length is at least equal to `width`. The `width` must be <= 6.\n        var leadingZeroes = \"000000\";\n        var toPaddedString = function (width, value) {\n          // The `|| 0` expression is necessary to work around a bug in\n          // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\n          return (leadingZeroes + (value || 0)).slice(-width);\n        };\n\n        // Internal: Double-quotes a string `value`, replacing all ASCII control\n        // characters (characters with code unit values between 0 and 31) with\n        // their escaped equivalents. This is an implementation of the\n        // `Quote(value)` operation defined in ES 5.1 section 15.12.3.\n        var unicodePrefix = \"\\\\u00\";\n        var quote = function (value) {\n          var result = '\"', index = 0, length = value.length, useCharIndex = !charIndexBuggy || length > 10;\n          var symbols = useCharIndex && (charIndexBuggy ? value.split(\"\") : value);\n          for (; index < length; index++) {\n            var charCode = value.charCodeAt(index);\n            // If the character is a control character, append its Unicode or\n            // shorthand escape sequence; otherwise, append the character as-is.\n            switch (charCode) {\n              case 8: case 9: case 10: case 12: case 13: case 34: case 92:\n                result += Escapes[charCode];\n                break;\n              default:\n                if (charCode < 32) {\n                  result += unicodePrefix + toPaddedString(2, charCode.toString(16));\n                  break;\n                }\n                result += useCharIndex ? symbols[index] : value.charAt(index);\n            }\n          }\n          return result + '\"';\n        };\n\n        // Internal: Recursively serializes an object. Implements the\n        // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\n        var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\n          var value, className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, result;\n          try {\n            // Necessary for host object support.\n            value = object[property];\n          } catch (exception) {}\n          if (typeof value == \"object\" && value) {\n            className = getClass.call(value);\n            if (className == dateClass && !isProperty.call(value, \"toJSON\")) {\n              if (value > -1 / 0 && value < 1 / 0) {\n                // Dates are serialized according to the `Date#toJSON` method\n                // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\n                // for the ISO 8601 date time string format.\n                if (getDay) {\n                  // Manually compute the year, month, date, hours, minutes,\n                  // seconds, and milliseconds if the `getUTC*` methods are\n                  // buggy. Adapted from @Yaffle's `date-shim` project.\n                  date = floor(value / 864e5);\n                  for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\n                  for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\n                  date = 1 + date - getDay(year, month);\n                  // The `time` value specifies the time within the day (see ES\n                  // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\n                  // to compute `A modulo B`, as the `%` operator does not\n                  // correspond to the `modulo` operation for negative numbers.\n                  time = (value % 864e5 + 864e5) % 864e5;\n                  // The hours, minutes, seconds, and milliseconds are obtained by\n                  // decomposing the time within the day. See section 15.9.1.10.\n                  hours = floor(time / 36e5) % 24;\n                  minutes = floor(time / 6e4) % 60;\n                  seconds = floor(time / 1e3) % 60;\n                  milliseconds = time % 1e3;\n                } else {\n                  year = value.getUTCFullYear();\n                  month = value.getUTCMonth();\n                  date = value.getUTCDate();\n                  hours = value.getUTCHours();\n                  minutes = value.getUTCMinutes();\n                  seconds = value.getUTCSeconds();\n                  milliseconds = value.getUTCMilliseconds();\n                }\n                // Serialize extended years correctly.\n                value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\n                  \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\n                  // Months, dates, hours, minutes, and seconds should have two\n                  // digits; milliseconds should have three.\n                  \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\n                  // Milliseconds are optional in ES 5.0, but required in 5.1.\n                  \".\" + toPaddedString(3, milliseconds) + \"Z\";\n              } else {\n                value = null;\n              }\n            } else if (typeof value.toJSON == \"function\" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, \"toJSON\"))) {\n              // Prototype <= 1.6.1 adds non-standard `toJSON` methods to the\n              // `Number`, `String`, `Date`, and `Array` prototypes. JSON 3\n              // ignores all `toJSON` methods on these objects unless they are\n              // defined directly on an instance.\n              value = value.toJSON(property);\n            }\n          }\n          if (callback) {\n            // If a replacement function was provided, call it to obtain the value\n            // for serialization.\n            value = callback.call(object, property, value);\n          }\n          if (value === null) {\n            return \"null\";\n          }\n          className = getClass.call(value);\n          if (className == booleanClass) {\n            // Booleans are represented literally.\n            return \"\" + value;\n          } else if (className == numberClass) {\n            // JSON numbers must be finite. `Infinity` and `NaN` are serialized as\n            // `\"null\"`.\n            return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\n          } else if (className == stringClass) {\n            // Strings are double-quoted and escaped.\n            return quote(\"\" + value);\n          }\n          // Recursively serialize objects and arrays.\n          if (typeof value == \"object\") {\n            // Check for cyclic structures. This is a linear search; performance\n            // is inversely proportional to the number of unique nested objects.\n            for (length = stack.length; length--;) {\n              if (stack[length] === value) {\n                // Cyclic structures cannot be serialized by `JSON.stringify`.\n                throw TypeError();\n              }\n            }\n            // Add the object to the stack of traversed objects.\n            stack.push(value);\n            results = [];\n            // Save the current indentation level and indent one additional level.\n            prefix = indentation;\n            indentation += whitespace;\n            if (className == arrayClass) {\n              // Recursively serialize array elements.\n              for (index = 0, length = value.length; index < length; index++) {\n                element = serialize(index, value, callback, properties, whitespace, indentation, stack);\n                results.push(element === undef ? \"null\" : element);\n              }\n              result = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\n            } else {\n              // Recursively serialize object members. Members are selected from\n              // either a user-specified list of property names, or the object\n              // itself.\n              forEach(properties || value, function (property) {\n                var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\n                if (element !== undef) {\n                  // According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\n                  // is not the empty string, let `member` {quote(property) + \":\"}\n                  // be the concatenation of `member` and the `space` character.\"\n                  // The \"`space` character\" refers to the literal space\n                  // character, not the `space` {width} argument provided to\n                  // `JSON.stringify`.\n                  results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\n                }\n              });\n              result = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\n            }\n            // Remove the object from the traversed object stack.\n            stack.pop();\n            return result;\n          }\n        };\n\n        // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n        exports.stringify = function (source, filter, width) {\n          var whitespace, callback, properties, className;\n          if (objectTypes[typeof filter] && filter) {\n            if ((className = getClass.call(filter)) == functionClass) {\n              callback = filter;\n            } else if (className == arrayClass) {\n              // Convert the property names array into a makeshift set.\n              properties = {};\n              for (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((className = getClass.call(value)), className == stringClass || className == numberClass) && (properties[value] = 1));\n            }\n          }\n          if (width) {\n            if ((className = getClass.call(width)) == numberClass) {\n              // Convert the `width` to an integer and create a string containing\n              // `width` number of space characters.\n              if ((width -= width % 1) > 0) {\n                for (whitespace = \"\", width > 10 && (width = 10); whitespace.length < width; whitespace += \" \");\n              }\n            } else if (className == stringClass) {\n              whitespace = width.length <= 10 ? width : width.slice(0, 10);\n            }\n          }\n          // Opera <= 7.54u2 discards the values associated with empty string keys\n          // (`\"\"`) only if they are used directly within an object member list\n          // (e.g., `!(\"\" in { \"\": 1})`).\n          return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\n        };\n      }\n\n      // Public: Parses a JSON source string.\n      if (!has(\"json-parse\")) {\n        var fromCharCode = String.fromCharCode;\n\n        // Internal: A map of escaped control characters and their unescaped\n        // equivalents.\n        var Unescapes = {\n          92: \"\\\\\",\n          34: '\"',\n          47: \"/\",\n          98: \"\\b\",\n          116: \"\\t\",\n          110: \"\\n\",\n          102: \"\\f\",\n          114: \"\\r\"\n        };\n\n        // Internal: Stores the parser state.\n        var Index, Source;\n\n        // Internal: Resets the parser state and throws a `SyntaxError`.\n        var abort = function () {\n          Index = Source = null;\n          throw SyntaxError();\n        };\n\n        // Internal: Returns the next token, or `\"$\"` if the parser has reached\n        // the end of the source string. A token may be a string, number, `null`\n        // literal, or Boolean literal.\n        var lex = function () {\n          var source = Source, length = source.length, value, begin, position, isSigned, charCode;\n          while (Index < length) {\n            charCode = source.charCodeAt(Index);\n            switch (charCode) {\n              case 9: case 10: case 13: case 32:\n                // Skip whitespace tokens, including tabs, carriage returns, line\n                // feeds, and space characters.\n                Index++;\n                break;\n              case 123: case 125: case 91: case 93: case 58: case 44:\n                // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\n                // the current position.\n                value = charIndexBuggy ? source.charAt(Index) : source[Index];\n                Index++;\n                return value;\n              case 34:\n                // `\"` delimits a JSON string; advance to the next character and\n                // begin parsing the string. String tokens are prefixed with the\n                // sentinel `@` character to distinguish them from punctuators and\n                // end-of-string tokens.\n                for (value = \"@\", Index++; Index < length;) {\n                  charCode = source.charCodeAt(Index);\n                  if (charCode < 32) {\n                    // Unescaped ASCII control characters (those with a code unit\n                    // less than the space character) are not permitted.\n                    abort();\n                  } else if (charCode == 92) {\n                    // A reverse solidus (`\\`) marks the beginning of an escaped\n                    // control character (including `\"`, `\\`, and `/`) or Unicode\n                    // escape sequence.\n                    charCode = source.charCodeAt(++Index);\n                    switch (charCode) {\n                      case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\n                        // Revive escaped control characters.\n                        value += Unescapes[charCode];\n                        Index++;\n                        break;\n                      case 117:\n                        // `\\u` marks the beginning of a Unicode escape sequence.\n                        // Advance to the first character and validate the\n                        // four-digit code point.\n                        begin = ++Index;\n                        for (position = Index + 4; Index < position; Index++) {\n                          charCode = source.charCodeAt(Index);\n                          // A valid sequence comprises four hexdigits (case-\n                          // insensitive) that form a single hexadecimal value.\n                          if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\n                            // Invalid Unicode escape sequence.\n                            abort();\n                          }\n                        }\n                        // Revive the escaped character.\n                        value += fromCharCode(\"0x\" + source.slice(begin, Index));\n                        break;\n                      default:\n                        // Invalid escape sequence.\n                        abort();\n                    }\n                  } else {\n                    if (charCode == 34) {\n                      // An unescaped double-quote character marks the end of the\n                      // string.\n                      break;\n                    }\n                    charCode = source.charCodeAt(Index);\n                    begin = Index;\n                    // Optimize for the common case where a string is valid.\n                    while (charCode >= 32 && charCode != 92 && charCode != 34) {\n                      charCode = source.charCodeAt(++Index);\n                    }\n                    // Append the string as-is.\n                    value += source.slice(begin, Index);\n                  }\n                }\n                if (source.charCodeAt(Index) == 34) {\n                  // Advance to the next character and return the revived string.\n                  Index++;\n                  return value;\n                }\n                // Unterminated string.\n                abort();\n              default:\n                // Parse numbers and literals.\n                begin = Index;\n                // Advance past the negative sign, if one is specified.\n                if (charCode == 45) {\n                  isSigned = true;\n                  charCode = source.charCodeAt(++Index);\n                }\n                // Parse an integer or floating-point value.\n                if (charCode >= 48 && charCode <= 57) {\n                  // Leading zeroes are interpreted as octal literals.\n                  if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\n                    // Illegal octal literal.\n                    abort();\n                  }\n                  isSigned = false;\n                  // Parse the integer component.\n                  for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\n                  // Floats cannot contain a leading decimal point; however, this\n                  // case is already accounted for by the parser.\n                  if (source.charCodeAt(Index) == 46) {\n                    position = ++Index;\n                    // Parse the decimal component.\n                    for (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                    if (position == Index) {\n                      // Illegal trailing decimal.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Parse exponents. The `e` denoting the exponent is\n                  // case-insensitive.\n                  charCode = source.charCodeAt(Index);\n                  if (charCode == 101 || charCode == 69) {\n                    charCode = source.charCodeAt(++Index);\n                    // Skip past the sign following the exponent, if one is\n                    // specified.\n                    if (charCode == 43 || charCode == 45) {\n                      Index++;\n                    }\n                    // Parse the exponential component.\n                    for (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                    if (position == Index) {\n                      // Illegal empty exponent.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Coerce the parsed value to a JavaScript number.\n                  return +source.slice(begin, Index);\n                }\n                // A negative sign may only precede numbers.\n                if (isSigned) {\n                  abort();\n                }\n                // `true`, `false`, and `null` literals.\n                if (source.slice(Index, Index + 4) == \"true\") {\n                  Index += 4;\n                  return true;\n                } else if (source.slice(Index, Index + 5) == \"false\") {\n                  Index += 5;\n                  return false;\n                } else if (source.slice(Index, Index + 4) == \"null\") {\n                  Index += 4;\n                  return null;\n                }\n                // Unrecognized token.\n                abort();\n            }\n          }\n          // Return the sentinel `$` character if the parser has reached the end\n          // of the source string.\n          return \"$\";\n        };\n\n        // Internal: Parses a JSON `value` token.\n        var get = function (value) {\n          var results, hasMembers;\n          if (value == \"$\") {\n            // Unexpected end of input.\n            abort();\n          }\n          if (typeof value == \"string\") {\n            if ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\n              // Remove the sentinel `@` character.\n              return value.slice(1);\n            }\n            // Parse object and array literals.\n            if (value == \"[\") {\n              // Parses a JSON array, returning a new JavaScript array.\n              results = [];\n              for (;; hasMembers || (hasMembers = true)) {\n                value = lex();\n                // A closing square bracket marks the end of the array literal.\n                if (value == \"]\") {\n                  break;\n                }\n                // If the array literal contains elements, the current token\n                // should be a comma separating the previous element from the\n                // next.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"]\") {\n                      // Unexpected trailing `,` in array literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each array element.\n                    abort();\n                  }\n                }\n                // Elisions and leading commas are not permitted.\n                if (value == \",\") {\n                  abort();\n                }\n                results.push(get(value));\n              }\n              return results;\n            } else if (value == \"{\") {\n              // Parses a JSON object, returning a new JavaScript object.\n              results = {};\n              for (;; hasMembers || (hasMembers = true)) {\n                value = lex();\n                // A closing curly brace marks the end of the object literal.\n                if (value == \"}\") {\n                  break;\n                }\n                // If the object literal contains members, the current token\n                // should be a comma separator.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"}\") {\n                      // Unexpected trailing `,` in object literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each object member.\n                    abort();\n                  }\n                }\n                // Leading commas are not permitted, object property names must be\n                // double-quoted strings, and a `:` must separate each property\n                // name and value.\n                if (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\n                  abort();\n                }\n                results[value.slice(1)] = get(lex());\n              }\n              return results;\n            }\n            // Unexpected token encountered.\n            abort();\n          }\n          return value;\n        };\n\n        // Internal: Updates a traversed object member.\n        var update = function (source, property, callback) {\n          var element = walk(source, property, callback);\n          if (element === undef) {\n            delete source[property];\n          } else {\n            source[property] = element;\n          }\n        };\n\n        // Internal: Recursively traverses a parsed JSON object, invoking the\n        // `callback` function for each value. This is an implementation of the\n        // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\n        var walk = function (source, property, callback) {\n          var value = source[property], length;\n          if (typeof value == \"object\" && value) {\n            // `forEach` can't be used to traverse an array in Opera <= 8.54\n            // because its `Object#hasOwnProperty` implementation returns `false`\n            // for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\n            if (getClass.call(value) == arrayClass) {\n              for (length = value.length; length--;) {\n                update(value, length, callback);\n              }\n            } else {\n              forEach(value, function (property) {\n                update(value, property, callback);\n              });\n            }\n          }\n          return callback.call(source, property, value);\n        };\n\n        // Public: `JSON.parse`. See ES 5.1 section 15.12.2.\n        exports.parse = function (source, callback) {\n          var result, value;\n          Index = 0;\n          Source = \"\" + source;\n          result = get(lex());\n          // If a JSON string contains multiple tokens, it is invalid.\n          if (lex() != \"$\") {\n            abort();\n          }\n          // Reset the parser state.\n          Index = Source = null;\n          return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\n        };\n      }\n    }\n\n    exports[\"runInContext\"] = runInContext;\n    return exports;\n  }\n\n  if (freeExports && !isLoader) {\n    // Export for CommonJS environments.\n    runInContext(root, freeExports);\n  } else {\n    // Export for web browsers and JavaScript engines.\n    var nativeJSON = root.JSON,\n        previousJSON = root[\"JSON3\"],\n        isRestored = false;\n\n    var JSON3 = runInContext(root, (root[\"JSON3\"] = {\n      // Public: Restores the original value of the global `JSON` object and\n      // returns a reference to the `JSON3` object.\n      \"noConflict\": function () {\n        if (!isRestored) {\n          isRestored = true;\n          root.JSON = nativeJSON;\n          root[\"JSON3\"] = previousJSON;\n          nativeJSON = previousJSON = null;\n        }\n        return JSON3;\n      }\n    }));\n\n    root.JSON = {\n      \"parse\": JSON3.parse,\n      \"stringify\": JSON3.stringify\n    };\n  }\n\n  // Export for asynchronous module loaders.\n  if (isLoader) {\n    define(function () {\n      return JSON3;\n    });\n  }\n}).call(this);\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],59:[function(require,module,exports){\n'use strict';\n\nvar required = require('requires-port')\n  , lolcation = require('./lolcation')\n  , qs = require('querystringify')\n  , relativere = /^\\/(?!\\/)/\n  , protocolre = /^([a-z0-9.+-]+:)?(\\/\\/)?(.*)$/i; // actual protocol is first match\n\n/**\n * These are the parse instructions for the URL parsers, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar instructions = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/\\:(\\d+)$/, 'port'],                 // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n /**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase\n * @property {Boolean} slashes Indicates whether the protocol is followed by double slash (\"//\")\n * @property {String} rest     Rest of the URL that is not part of the protocol\n */\n\n /**\n  * Extract protocol information from a URL with/without double slash (\"//\")\n  *\n  * @param  {String} address   URL we want to extract from.\n  * @return {ProtocolExtract}  Extracted information\n  * @private\n  */\nfunction extractProtocol(address) {\n  var match = protocolre.exec(address);\n  return {\n    protocol: match[1] ? match[1].toLowerCase() : '',\n    slashes: !!match[2],\n    rest: match[3] ? match[3] : ''\n  };\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my CDO.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} location Location defaults for relative paths.\n * @param {Boolean|Function} parser Parser for the query string.\n * @api public\n */\nfunction URL(address, location, parser) {\n  if (!(this instanceof URL)) {\n    return new URL(address, location, parser);\n  }\n\n  var relative = relativere.test(address)\n    , parse, instruction, index, key\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) {\n    parser = qs.parse;\n  }\n\n  location = lolcation(location);\n\n  // extract protocol information before running the instructions\n  var extracted = extractProtocol(address);\n  url.protocol = extracted.protocol || location.protocol || '';\n  url.slashes = extracted.slashes || location.slashes;\n  address = extracted.rest;\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      if (~(index = address.indexOf(parse))) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if (index = parse.exec(address)) {\n      url[key] = index[1];\n      address = address.slice(0, address.length - index[0].length);\n    }\n\n    url[key] = url[key] || (instruction[3] || ('port' === key && relative) ? location[key] || '' : '');\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) {\n      url[key] = url[key].toLowerCase();\n    }\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n  if (url.auth) {\n    instruction = url.auth.split(':');\n    url.username = instruction[0] || '';\n    url.password = instruction[1] || '';\n  }\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} prop          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function used to parse\n *                               the query.\n *                               When setting the protocol, double slash will be removed from\n *                               the final url if it is true.\n * @returns {URL}\n * @api public\n */\nURL.prototype.set = function set(part, value, fn) {\n  var url = this;\n\n  if ('query' === part) {\n    if ('string' === typeof value && value.length) {\n      value = (fn || qs.parse)(value);\n    }\n\n    url[part] = value;\n  } else if ('port' === part) {\n    url[part] = value;\n\n    if (!required(value, url.protocol)) {\n      url.host = url.hostname;\n      url[part] = '';\n    } else if (value) {\n      url.host = url.hostname +':'+ value;\n    }\n  } else if ('hostname' === part) {\n    url[part] = value;\n\n    if (url.port) value += ':'+ url.port;\n    url.host = value;\n  } else if ('host' === part) {\n    url[part] = value;\n\n    if (/\\:\\d+/.test(value)) {\n      value = value.split(':');\n      url.hostname = value[0];\n      url.port = value[1];\n    }\n  } else if ('protocol' === part) {\n    url.protocol = value;\n    url.slashes = !fn;\n  } else {\n    url[part] = value;\n  }\n\n  url.href = url.toString();\n  return url;\n};\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String}\n * @api public\n */\nURL.prototype.toString = function toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result = protocol + (url.slashes ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  }\n\n  result += url.hostname;\n  if (url.port) result += ':'+ url.port;\n\n  result += url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n};\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others.\n//\nURL.qs = qs;\nURL.location = lolcation;\nmodule.exports = URL;\n\n},{\"./lolcation\":60,\"querystringify\":61,\"requires-port\":62}],60:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//;\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 }\n  , URL;\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @api public\n */\nmodule.exports = function lolcation(loc) {\n  loc = loc || global.location || {};\n  URL = URL || require('./');\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new URL(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new URL(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./\":59}],61:[function(require,module,exports){\n'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?&]+)=([^&]*)/g\n    , result = {}\n    , part;\n\n  //\n  // Little nifty parsing hack, leverage the fact that RegExp.exec increments\n  // the lastIndex property so we can continue executing this loop until we've\n  // parsed all results.\n  //\n  for (;\n    part = parser.exec(query);\n    result[decodeURIComponent(part[1])] = decodeURIComponent(part[2])\n  );\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = [];\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (var key in obj) {\n    if (has.call(obj, key)) {\n      pairs.push(encodeURIComponent(key) +'='+ encodeURIComponent(obj[key]));\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n\n},{}],62:[function(require,module,exports){\n'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n\n},{}]},{},[1])(1)\n});\n\n\n"],"sourceRoot":"/source/"}