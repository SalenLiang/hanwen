function routeConfig(e,t){e.state("dashboard",{url:"/dashboard",templateUrl:"index.html",title:"Basic Tables",sidebarMeta:{order:0}})}function loginCtrl(e,t,n,r,o){e.login=function(){var t=e.userName,n=e.password;if(""==t||""==n)return void showWarnMsg(o,"请输入账号名或密码");var s=$("#token").val(),i=$("#checkAddress").val(),a=$("#sid").val(),c=r.login(t,n,s,i,a);c.then(function(e){showSuccMsg(o,"登陆系统成功"),setTimeout(function(){window.location.href="/dashboard"},500)},function(e){showErrorMsg(o,e.errorMsg)})},e.resetPwd=function(){t.open({animation:!0,size:"md",templateUrl:"resetPassword.html",controller:function(){n.checkUserName=null,n.checkUserEmail=null}})}}function resetPasswordCtrl(e,t,n,r){e.resetPassword=function(){$("#rpBtn").attr("disabled",!0),window.setTimeout(function(){$("#rpBtn").removeAttr("disabled")},1e4);var t=new Object;t.checkUserName=e.checkUserName,t.checkUserEmail=e.checkUserEmail;var o=n.resetPassword(t);o.then(function(t){"0"==t.result?showWarnMsg(r,t.errorMsg):showSuccMsg(r,t.errorMsg),e.$dismiss()},function(e){showErrorMsg(r,e.errorMsg)})}}function loading(e,t){e.loading=!0,t(function(){closeLoading(e)},300)}function closeLoading(e){e.loading=!1}function showSuccMsg(e,t){e.clear(),e.success(t,"",{timeOut:"1500"})}function showErrorMsg(e,t){e.clear(),e.error(t,"错误",{timeOut:"1500"})}function showWarnMsg(e,t){e.clear(),e.warning(t,"警告",{timeOut:"1500"})}function showInfoMsg(e,t){e.info(t,"info")}function formatJson(e,t){var n=null,r="",o=0,s="    ";return t=t||{},t.newlineAfterColonIfBeforeBraceOrBracket=t.newlineAfterColonIfBeforeBraceOrBracket===!0,t.spaceAfterColon=t.spaceAfterColon!==!1,"string"!=typeof e?e=JSON.stringify(e):(e=JSON.parse(e),e=JSON.stringify(e)),n=/([\{\}])/g,e=e.replace(n,"\r\n$1\r\n"),n=/([\[\]])/g,e=e.replace(n,"\r\n$1\r\n"),n=/(\,)/g,e=e.replace(n,"$1\r\n"),n=/(\r\n\r\n)/g,e=e.replace(n,"\r\n"),n=/\r\n\,/g,e=e.replace(n,","),t.newlineAfterColonIfBeforeBraceOrBracket||(n=/\:\r\n\{/g,e=e.replace(n,":{"),n=/\:\r\n\[/g,e=e.replace(n,":[")),t.spaceAfterColon&&(n=/\:/g,e=e.replace(n,":")),$.each(e.split("\r\n"),function(e,t){var n=0,i=0,a="";for(t.match(/\{$/)||t.match(/\[$/)?i=1:t.match(/\}/)||t.match(/\]/)?0!==o&&(o-=1):i=0,n=0;n<o;n++)a+=s;r+=a+t+"\r\n",o+=i}),r}loginCtrl.$inject=["$scope","$uibModal","$rootScope","loginService","toastr"],resetPasswordCtrl.$inject=["$scope","$uibModal","loginService","toastr"],routeConfig.$inject=["$stateProvider","$urlRouterProvider"],function(){"use strict";angular.module("BlurAdminLogin",["ngAnimate","ui.bootstrap","ui.sortable","ui.router","ngTouch","toastr","smart-table","xeditable","ui.slimscroll","ngJsTree","angular-progress-button-styles","BlurAdmin.login.loginCtrl"])}(),angular.module("BlurAdmin.login.loginCtrl",["BlurAdmin.login.loginService"]).controller("loginCtrl",loginCtrl).controller("resetPasswordCtrl",resetPasswordCtrl).config(routeConfig);var loginServiceModule=angular.module("BlurAdmin.login.loginService",[]);loginServiceModule.factory("loginService",["$http","$rootScope","$compile","$q",function(e,t,n,r){var o=new Object;return o.login=function(t,n,o,s,i){var a=r.defer();return e({method:"post",url:"http://localhost:8001/serviceManager/login",timeout:1e4,params:{userName:t,password:n,token:o,checkAddress:s,sid:i}}).success(function(e,t,n,r){0==e.errorCode?a.resolve(e):a.reject(e)}).error(function(e,t,n,r){errInfo={data:e,status:t,headers:n,config:r},errInfo.message="这是一个404错误"}),a.promise},o.resetPassword=function(t){var n=r.defer();return e({method:"post",url:"serviceManager/login/resetPassword",timeout:1e4,params:{userName:t.checkUserName,userEmail:t.checkUserEmail}}).success(function(e,t,r,o){console.log(e),0==e.errorCode?n.resolve(e):n.reject(e)}).error(function(e,t,n,r){errInfo={data:e,status:t,headers:n,config:r},errInfo.message="这是一个404错误"}),n.promise},o}]);var appCommonServiceModule=angular.module("app.commonService",[]);appCommonServiceModule.filter("numformt",function(){return function(e){return isNaN(e)?0:parseInt(e).toLocaleString()}}),appCommonServiceModule.factory("locals",["$window",function(e){return{set:function(t,n){e.localStorage[t]=n},get:function(t,n){return e.localStorage[t]||n},setObject:function(t,n){e.localStorage[t]=JSON.stringify(n)},getObject:function(t){return JSON.parse(e.localStorage[t]||"{}")}}}]),appCommonServiceModule.factory("sessionLocals",["$window",function(e){return{set:function(t,n){e.sessionStorage[t]=n},get:function(t,n){return e.sessionStorage[t]||n},setObject:function(t,n){e.sessionStorage[t]=JSON.stringify(n)},getObject:function(t){return JSON.parse(e.sessionStorage[t]||"{}")}}}]),appCommonServiceModule.factory("commonService",["$http","$rootScope","$compile","$state","$q","$uibModal","toastr",function(e,t,n,r,o,s,i){t.errMsg={};var a=new Object;return a.open=function(e,t){s.open({animation:!0,templateUrl:e,size:t})},a.goLoginPage=function(e){console.log(e),t.loading=!1,1==e?a.showWarningMsg("请求超时"):405==e||302==e?(a.showWarningMsg(e+"登陆超时，请重新登陆！"),setTimeout(function(){window.location.href="/"},1e3)):200!=e&&Boolean(e)||(a.showWarningMsg("登陆超时，请重新登陆！"),setTimeout(function(){window.location.href="/"},1e3))},a.goLoginIndex=function(){t.wait=!1,a.showWarningMsg("登陆超时，请重新登陆！"),setTimeout(function(){window.location.href="/"},1e3)},a.showSuccessMsg=function(e){i.success(e)},a.showErrorMsg=function(e){i.error(e,"Error")},a.showInfoMsg=function(e){i.info(e,"Information")},a.showWarningMsg=function(e){i.warning(e,"Warning")},a.getPageNo=function(e){e.pageCount=parseInt((e.totalsCount+e.pageSize-1)/e.pageSize);var t=new Array,n=0;if(0==e.totalsCount)e.pageShow=0;else{e.pageShow=1,e.currentPage>e.pageCount&&(e.currentPage=e.pageCount),e.currentPage<1&&(e.currentPage=1);var r=1;e.currentPage>4&&(r=e.currentPage-1,t[n++]=1,t[n++]=2,t[n++]="-1");var o=e.currentPage+1;o>e.pageCount&&(o=e.pageCount);for(var s=r;s<=o;s++)t[n++]=s;o<e.pageCount-2&&(t[n++]="-2"),o<e.pageCount-1&&(t[n++]=e.pageCount-1),o<e.pageCount&&(t[n++]=e.pageCount)}return e.pageList=t,e},a.syntaxHighlight=function(e){"string"!=typeof e&&(e=JSON.stringify(e,void 0,2)),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");var t="<style>pre {font-size: 16px; }.string { color: green; }.number { color: #209e91; }.boolean { color: blue; }.null { color: magenta; }.key { color: red; }</style>";return e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="'+t+'">'+e+"</span>"})+t},a}]);var appCommonDirectiveModule=angular.module("app.commonDirective",[]);appCommonDirectiveModule.constant("Constant",{prefixUrl:"http://pingtai.fahaicc.com/serviceManager",timeout:1e4}),appCommonDirectiveModule.filter("parseFieldName",function(){return function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].fieldName);var r=t.join(",");return r.length>10&&(r=r.substring(0,10)+"..."),r}}),appCommonDirectiveModule.filter("phoneDesensitization",function(){return function(e){return e+="",e.substring(0,3)+"****"+e.substring(7)}}),appCommonDirectiveModule.directive("hasPermission",["permissions",function(e){return{link:function(t,n,r){var o=r.hasPermission.trim();e.hasPermission(o)?n.show():n.hide()},controller:["$scope",function(e){}]}}]),appCommonDirectiveModule.directive("tmPagination",["$timeout",function(e,t,n){return{restrict:"EA",template:'<div class="page-list"><ul class="pagination" ng-show="conf.totalItems > 0"><li ng-class="{disabled: conf.currentPage == 1}" ng-click="prevIndex()"><span>首页</span></li><li ng-class="{disabled: conf.currentPage == 1}" ng-click="prevPage()"><span>上一页</span></li><li ng-repeat="item in pageList track by $index" ng-class="{active: item == conf.currentPage, separate: item == \'...\'}" ng-click="changeCurrentPage(item)"><span>{{ item }}</span></li><li ng-class="{disabled: conf.currentPage == conf.numberOfPages}" ng-click="nextPage()"><span>下一页</span></li><li ng-class="{disabled: conf.currentPage == conf.numberOfPages}" ng-click="nextBack()"><span>尾页</span></li></ul><div class="page-total" ng-show="conf.totalItems > 0">共<strong>{{ conf.totalItems }}</strong>条 跳转至<input type="text"  ng-model="jumpPageNum" ng-keyup="jumpPageKeyUp($event)"/>页</div><div class="no-items" ng-show="conf.totalItems <= 0">暂无数据</div></div>',replace:!0,scope:{conf:"="},link:function(e,t,r){function o(t,n){if(s.currentPage&&(s.currentPage=parseInt(e.conf.currentPage,10)),s.currentPage||(s.currentPage=1),s.totalItems&&(s.totalItems=parseInt(s.totalItems,10)),!s.totalItems)return void(s.totalItems=0);s.itemsPerPage&&(s.itemsPerPage=parseInt(s.itemsPerPage,10)),s.itemsPerPage||(s.itemsPerPage=a),s.numberOfPages=Math.ceil(s.totalItems/s.itemsPerPage),e.conf.numberOfPages>0&&e.conf.currentPage>e.conf.numberOfPages&&(e.conf.currentPage=e.conf.numberOfPages);for(var r,o=e.conf.perPageOptions.length,i=0;i<o;i++)s.perPageOptions[i]==s.itemsPerPage&&(r=!0);if(r||s.perPageOptions.push(s.itemsPerPage),s.perPageOptions.sort(function(e,t){return e-t}),e.pageList=[],s.numberOfPages<=s.pagesLength)for(i=1;i<=s.numberOfPages;i++)e.pageList.push(i);else{var c=(s.pagesLength-1)/2;if(s.currentPage<=c){for(i=1;i<=c+1;i++)e.pageList.push(i);e.pageList.push("..."),e.pageList.push(s.numberOfPages)}else if(s.currentPage>s.numberOfPages-c){for(e.pageList.push(1),e.pageList.push("..."),i=c+1;i>=1;i--)e.pageList.push(s.numberOfPages-i);e.pageList.push(s.numberOfPages)}else{for(e.pageList.push(1),e.pageList.push("..."),i=Math.ceil(c/2);i>=1;i--)e.pageList.push(s.currentPage-i);for(e.pageList.push(s.currentPage),i=1;i<=c/2;i++)e.pageList.push(s.currentPage+i);e.pageList.push("..."),e.pageList.push(s.numberOfPages)}}e.$parent.conf=s}var s=e.conf;e.$watch("conf.totalItems",function(t,n){s=e.conf,void 0!=s&&(o(),s.pagesLength?(s.pagesLength=parseInt(s.pagesLength,10),s.pagesLength||(s.pagesLength=i),s.pagesLength%2===0&&(s.pagesLength+=1)):s.pagesLength=i,s.perPageOptions||(s.perPageOptions=i))});var i=10,a=15;e.prevPage=function(){s.currentPage>1&&(s.currentPage-=1),e.conf.currentPage=s.currentPage,o(),s.onChange&&s.onChange()},e.prevIndex=function(){e.conf.currentPage>1&&(e.conf.currentPage=1,o(),s.onChange&&s.onChange())},e.nextBack=function(){e.conf.currentPage<s.numberOfPages&&(e.conf.currentPage=s.numberOfPages,o(),s.onChange&&s.onChange())},e.nextPage=function(){s.currentPage<s.numberOfPages&&(s.currentPage+=1),e.conf.currentPage=s.currentPage,o(),s.onChange&&s.onChange()},e.changeCurrentPage=function(t){"..."!=t&&(s.currentPage=t,e.conf.currentPage=t,o(),s.onChange&&s.onChange())},e.changeItemsPerPage=function(){s.currentPage=1,o(),s.onChange&&s.onChange()},e.jumpToPage=function(){var t=e.jumpPageNum;t.match(/\d+/)?(t=parseInt(t,10),t&&t!=s.currentPage&&(t>s.numberOfPages&&(t=s.numberOfPages),s.currentPage=t,e.conf.currentPage=t,o(),s.onChange&&s.onChange(),e.jumpPageNum="")):showWarnMsg(n,"请输入正确的页码")},e.jumpPageKeyUp=function(t){var n=window.event?t.keyCode:t.which;13==n&&e.jumpToPage()}}}}]),appCommonDirectiveModule.directive("ngFocus",[function(e){return{restrict:"A",require:"ngModel",link:function(t,n,r,o){o.$focused=!0,n.bind("focus",function(e){t.$apply(function(){o.$focused=!0})}).bind("blur",function(r){o.$invalid?(n.css("border-color","#ed7878"),n.parent().addClass("has-error"),n.parent().removeClass("has-success"),n.next().removeClass("ion-checkmark-circled"),n.next().addClass("ion-android-cancel")):(Boolean(e)?n.css("border-color",e):n.css("border-color","#a6c733"),n.parent().addClass("has-success"),n.parent().removeClass("has-error"),n.next().addClass("ion-checkmark-circled"),n.next().removeClass("ion-android-cancel")),t.$apply(function(){o.$focused=!1})})}}}]),appCommonDirectiveModule.directive("ngFocuss",[function(e){return{restrict:"A",require:"ngModel",link:function(t,n,r,o){o.$focused=!0,n.bind("focus",function(e){t.$apply(function(){o.$focused=!0})}).bind("blur",function(r){o.$invalid?(n.css("border-color","#ed7878"),n.parent().addClass("has-error"),n.parent().removeClass("has-success")):(Boolean(e)?n.css("border-color",e):n.css("border-color","#DCDCDC"),n.parent().addClass("has-success"),n.parent().removeClass("has-error")),t.$apply(function(){o.$focused=!1})})}}}]),/**
 * @preserve jQuery DateTimePicker plugin v2.1.9
 * @homepage http://xdsoft.net/jqplugins/datetimepicker/
 * (c) 2014, Chupurnov Valeriy.
 */
function(e){"use strict";var t={i18n:{ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeek:["Вск","Пн","Вт","Ср","Чт","Пт","Сб"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So","Mo","Di","Mi","Do","Fr","Sa"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeek:["Paz","Pts","Sal","Çar","Per","Cum","Cts"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeek:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeek:["nd","pn","wt","śr","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeek:["일","월","화","수","목","금","토"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeek:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]}},value:"",lang:"ch",format:"Y-m-d H:i",formatTime:"H:i",formatDate:"Y-m-d",step:1,closeOnDateSelect:0,closeOnWithoutClick:!0,timepicker:!0,datepicker:!0,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,inline:!1,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,mask:!1,validateOnBlur:!0,allowBlank:!1,yearStart:1950,yearEnd:2050,style:"",id:"",roundTime:"round",className:"",weekends:[],yearOffset:0};Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var n=t||0,r=this.length;n<r;n++)if(this[n]===e)return n;return-1}),e.fn.xdsoftScroller=function(t){return this.each(function(){var n=e(this);if(!e(this).hasClass("xdsoft_scroller_box")){var r=function(e){var t={x:0,y:0};if("touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type||"touchcancel"==e.type){var n=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];t.x=n.pageX,t.y=n.pageY}else"mousedown"!=e.type&&"mouseup"!=e.type&&"mousemove"!=e.type&&"mouseover"!=e.type&&"mouseout"!=e.type&&"mouseenter"!=e.type&&"mouseleave"!=e.type||(t.x=e.pageX,t.y=e.pageY);return t},o=0,s=n.children().eq(0),i=n[0].clientHeight,a=s[0].offsetHeight,c=e('<div class="xdsoft_scrollbar"></div>'),u=e('<div class="xdsoft_scroller"></div>'),l=100,f=!1;c.append(u),n.addClass("xdsoft_scroller_box").append(c),u.on("mousedown.xdsoft_scroller",function(r){i||n.trigger("resize_scroll.xdsoft_scroller",[t]);var s=r.pageY,a=parseInt(u.css("margin-top")),f=c[0].offsetHeight;e(document.body).addClass("xdsoft_noselect"),e([document.body,window]).on("mouseup.xdsoft_scroller",function t(){e([document.body,window]).off("mouseup.xdsoft_scroller",t).off("mousemove.xdsoft_scroller",o).removeClass("xdsoft_noselect")}),e(document.body).on("mousemove.xdsoft_scroller",o=function(e){var t=e.pageY-s+a;t<0&&(t=0),t+u[0].offsetHeight>f&&(t=f-u[0].offsetHeight),n.trigger("scroll_element.xdsoft_scroller",[l?t/l:0])})}),n.on("scroll_element.xdsoft_scroller",function(e,t){i||n.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:t<0||isNaN(t)?0:t,u.css("margin-top",l*t),s.css("marginTop",-parseInt((a-i)*t))}).on("resize_scroll.xdsoft_scroller",function(e,t,r){i=n[0].clientHeight,a=s[0].offsetHeight;var o=i/a,f=o*c[0].offsetHeight;o>1?u.hide():(u.show(),u.css("height",parseInt(f>10?f:10)),l=c[0].offsetHeight-u[0].offsetHeight,r!==!0&&n.trigger("scroll_element.xdsoft_scroller",[t?t:Math.abs(parseInt(s.css("marginTop")))/(a-i)]))}),n.mousewheel&&n.mousewheel(function(e,t,r,o){var c=Math.abs(parseInt(s.css("marginTop")));return n.trigger("scroll_element.xdsoft_scroller",[(c-20*t)/(a-i)]),e.stopPropagation(),!1}),n.on("touchstart",function(e){f=r(e)}),n.on("touchmove",function(e){if(f){var t=r(e),o=Math.abs(parseInt(s.css("marginTop")));n.trigger("scroll_element.xdsoft_scroller",[(o-(t.y-f.y))/(a-i)]),e.stopPropagation(),e.preventDefault()}}),n.on("touchend touchcancel",function(e){f=!1})}n.trigger("resize_scroll.xdsoft_scroller",[t])})},e.fn.datetimepicker=function(n){var r=48,o=57,s=96,i=105,a=17,c=46,u=13,l=27,f=8,d=37,h=38,p=39,m=40,g=9,v=116,b=65,y=67,x=86,w=90,_=89,T=!1,S=e.isPlainObject(n)||!n?e.extend(!0,{},t,n):e.extend({},t),O=function(t){var n=e("<div "+(S.id?'id="'+S.id+'"':"")+" "+(S.style?'style="'+S.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_noselect '+S.className+'"></div>'),O=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),D=e('<div class="xdsoft_datepicker active"></div>'),C=e('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span></div><div class="xdsoft_label xdsoft_year"><span></span></div><button type="button" class="xdsoft_next"></button></div>'),k=e('<div class="xdsoft_calendar"></div>'),E=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),M=E.find(".xdsoft_time_box").eq(0),j=e('<div class="xdsoft_time_variant"></div>'),P=e('<div class="xdsoft_scrollbar"></div>'),N=(e('<div class="xdsoft_scroller"></div>'),e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>')),I=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>');C.find(".xdsoft_month span").after(N),C.find(".xdsoft_year span").after(I),C.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(t){C.find(".xdsoft_select").hide();var n=e(this).find(".xdsoft_select").eq(0),r=0,o=0;L.currentTime&&(r=L.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),n.show();for(var s=n.find("div.xdsoft_option"),i=0;i<s.length&&s.eq(i).data("value")!=r;i++)o+=s[0].offsetHeight;return n.xdsoftScroller(o/(n.children()[0].offsetHeight-n[0].clientHeight)),t.stopPropagation(),!1}),C.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(e){e.stopPropagation(),e.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(t){L&&L.currentTime&&L.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),n.trigger("xchange.xdsoft"),S.onChangeMonth&&S.onChangeMonth.call&&S.onChangeMonth.call(n,L.currentTime,n.data("input"))}),n.setOptions=function(O){S=e.extend(!0,{},S,O),!S.open&&!S.opened||S.inline||t.trigger("open.xdsoft"),S.inline&&(n.addClass("xdsoft_inline"),t.after(n).hide(),n.trigger("afterOpen.xdsoft")),S.inverseButton&&(S.next="xdsoft_prev",S.prev="xdsoft_next"),S.datepicker?D.addClass("active"):D.removeClass("active"),S.timepicker?E.addClass("active"):E.removeClass("active"),S.value&&(t&&t.val&&t.val(S.value),L.setCurrentTime(S.value)),isNaN(S.dayOfWeekStart)||parseInt(S.dayOfWeekStart)<0||parseInt(S.dayOfWeekStart)>6?S.dayOfWeekStart=0:S.dayOfWeekStart=parseInt(S.dayOfWeekStart),S.timepickerScrollbar||P.hide();var k,M=[];if(S.minDate&&(M=/^-(.*)$/.exec(S.minDate))&&(M=Date.parseDate(M[1],S.formatDate))&&(k=M.getTime()+-1*M.getTimezoneOffset()*6e4,S.minDate=new Date(L.now().getTime()-k).dateFormat(S.formatDate)),S.maxDate&&(M=/^\+(.*)$/.exec(S.maxDate))&&(M=Date.parseDate(M[1],S.formatDate))&&(k=M.getTime()+-1*M.getTimezoneOffset()*6e4,S.maxDate=new Date(L.now().getTime()+k).dateFormat(S.formatDate)),C.find(".xdsoft_today_button").css("visibility",S.todayButton?"visible":"hidden"),S.mask){var j=function(e){try{if(document.selection&&document.selection.createRange){var t=document.selection.createRange();return t.getBookmark().charCodeAt(2)-2}if(e.setSelectionRange)return e.selectionStart}catch(e){return 0}},N=function(e,t){var e="string"==typeof e||e instanceof String?document.getElementById(e):e;if(!e)return!1;if(e.createTextRange){var n=e.createTextRange();return n.collapse(!0),n.moveEnd(t),n.moveStart(t),n.select(),!0}return!!e.setSelectionRange&&(e.setSelectionRange(t,t),!0)},I=function(e,t){var n=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return RegExp(n).test(t)};switch(t.off("keydown.xdsoft"),!0){case S.mask===!0:S.mask=S.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59");case"string"==e.type(S.mask):I(S.mask,t.val())||t.val(S.mask.replace(/[0-9]/g,"_")),t.on("keydown.xdsoft",function(n){var O=this.value,D=n.which;switch(!0){case D>=r&&D<=o||D>=s&&D<=i||D==f||D==c:var C=j(this),k=D!=f&&D!=c?String.fromCharCode(s<=D&&D<=i?D-r:D):"_";for(D!=f&&D!=c||!C||(C--,k="_");/[^0-9_]/.test(S.mask.substr(C,1))&&C<S.mask.length&&C>0;)C+=D==f||D==c?-1:1;if(O=O.substr(0,C)+k+O.substr(C+1),""==e.trim(O))O=S.mask.replace(/[0-9]/g,"_");else if(C==S.mask.length)break;for(C+=D==f||D==c?0:1;/[^0-9_]/.test(S.mask.substr(C,1))&&C<S.mask.length&&C>0;)C+=D==f||D==c?-1:1;I(S.mask,O)?(this.value=O,N(this,C)):""==e.trim(O)?this.value=S.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft");break;case!!~[b,y,x,w,_].indexOf(D)&&T:case!!~[l,h,m,d,p,v,a,g,u].indexOf(D):return!0}return n.preventDefault(),!1})}}S.validateOnBlur&&t.off("blur.xdsoft").on("blur.xdsoft",function(){S.allowBlank&&!e.trim(e(this).val()).length?(e(this).val(null),n.data("xdsoft_datetime").empty()):Date.parseDate(e(this).val(),S.format)?n.data("xdsoft_datetime").setCurrentTime(e(this).val()):(e(this).val(L.now().dateFormat(S.format)),n.data("xdsoft_datetime").setCurrentTime(e(this).val())),n.trigger("changedatetime.xdsoft")}),S.dayOfWeekStartPrev=0==S.dayOfWeekStart?6:S.dayOfWeekStart-1,n.trigger("xchange.xdsoft")},n.data("options",S).on("mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),I.hide(),N.hide(),!1});var A=E.find(".xdsoft_time_box");A.append(j),A.xdsoftScroller(),n.on("afterOpen.xdsoft",function(){A.xdsoftScroller()}),n.append(D).append(E),S.withoutCopyright!==!0&&n.append(O),D.append(C).append(k),e("body").append(n);var L=new function(){var e=this;e.now=function(){var e=new Date;return S.yearOffset&&e.setFullYear(e.getFullYear()+S.yearOffset),e},e.currentTime=this.now(),e.isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},e.setCurrentTime=function(t){e.currentTime="string"==typeof t?e.strtodatetime(t):e.isValidDate(t)?t:e.now(),n.trigger("xchange.xdsoft")},e.empty=function(){e.currentTime=null},e.getCurrentTime=function(t){return e.currentTime},e.nextMonth=function(){var t=e.currentTime.getMonth()+1;return 12==t&&(e.currentTime.setFullYear(e.currentTime.getFullYear()+1),t=0),e.currentTime.setDate(Math.min(Date.daysInMonth[t],e.currentTime.getDate())),e.currentTime.setMonth(t),S.onChangeMonth&&S.onChangeMonth.call&&S.onChangeMonth.call(n,L.currentTime,n.data("input")),n.trigger("xchange.xdsoft"),t},e.prevMonth=function(){var t=e.currentTime.getMonth()-1;return t==-1&&(e.currentTime.setFullYear(e.currentTime.getFullYear()-1),t=11),e.currentTime.setDate(Math.min(Date.daysInMonth[t],e.currentTime.getDate())),e.currentTime.setMonth(t),S.onChangeMonth&&S.onChangeMonth.call&&S.onChangeMonth.call(n,L.currentTime,n.data("input")),n.trigger("xchange.xdsoft"),t},e.strtodatetime=function(t){var n=t?Date.parseDate(t,S.format):e.now();return e.isValidDate(n)||(n=e.now()),n},e.strtodate=function(t){var n=t?Date.parseDate(t,S.formatDate):e.now();return e.isValidDate(n)||(n=e.now()),n},e.strtotime=function(t){var n=t?Date.parseDate(t,S.formatTime):e.now();return e.isValidDate(n)||(n=e.now()),n},e.str=function(){return e.currentTime.dateFormat(S.format)}};C.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){n.data("changed",!0),L.setCurrentTime(0),n.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){t.val(L.str()),n.trigger("close.xdsoft")}),C.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),n=0,r=!1;!function e(o){L.currentTime.getMonth();t.hasClass(S.next)?L.nextMonth():t.hasClass(S.prev)&&L.prevMonth(),!r&&(n=setTimeout(e,o?o:100))}(500),e([document.body,window]).on("mouseup.xdsoft",function t(){clearTimeout(n),r=!0,e([document.body,window]).off("mouseup.xdsoft",t)})}),E.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),n=0,r=!1,o=110;!function e(s){var i=M[0].clientHeight,a=j[0].offsetHeight,c=Math.abs(parseInt(j.css("marginTop")));t.hasClass(S.next)&&a-i-S.timeHeightInTimePicker>=c?j.css("marginTop","-"+(c+S.timeHeightInTimePicker)+"px"):t.hasClass(S.prev)&&c-S.timeHeightInTimePicker>=0&&j.css("marginTop","-"+(c-S.timeHeightInTimePicker)+"px"),M.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(j.css("marginTop"))/(a-i))]),o=o>10?10:o-10,!r&&(n=setTimeout(e,s?s:o))}(500),e([document.body,window]).on("mouseup.xdsoft",function t(){clearTimeout(n),r=!0,e([document.body,window]).off("mouseup.xdsoft",t)})}),n.on("xchange.xdsoft",function(t){for(var r="",o=new Date(L.currentTime.getFullYear(),L.currentTime.getMonth(),1,12,0,0),s=0,i=L.now();o.getDay()!=S.dayOfWeekStart;)o.setDate(o.getDate()-1);r+="<table><thead><tr>";for(var a=0;a<7;a++)r+="<th>"+S.i18n[S.lang].dayOfWeek[a+S.dayOfWeekStart>6?0:a+S.dayOfWeekStart]+"</th>";r+="</tr></thead>",r+="<tbody><tr>";var c=!1,u=!1;S.maxDate!==!1&&(c=L.strtodate(S.maxDate),c=new Date(c.getFullYear(),c.getMonth(),c.getDate(),23,59,59,999)),S.minDate!==!1&&(u=L.strtodate(S.minDate),u=new Date(u.getFullYear(),u.getMonth(),u.getDate()));for(var l,f,d,h=[];s<L.currentTime.getDaysInMonth()||o.getDay()!=S.dayOfWeekStart||L.currentTime.getMonth()==o.getMonth();)h=[],s++,l=o.getDate(),f=o.getFullYear(),d=o.getMonth(),h.push("xdsoft_date"),(c!==!1&&o>c||u!==!1&&o<u)&&h.push("xdsoft_disabled"),L.currentTime.getMonth()!=d&&h.push("xdsoft_other_month"),(S.defaultSelect||n.data("changed"))&&L.currentTime.dateFormat("d.m.Y")==o.dateFormat("d.m.Y")&&h.push("xdsoft_current"),i.dateFormat("d.m.Y")==o.dateFormat("d.m.Y")&&h.push("xdsoft_today"),(0==o.getDay()||6==o.getDay()||~S.weekends.indexOf(o.dateFormat("d.m.Y")))&&h.push("xdsoft_weekend"),r+='<td data-date="'+l+'" data-month="'+d+'" data-year="'+f+'" class="xdsoft_date xdsoft_day_of_week'+o.getDay()+" "+h.join(" ")+'"><div>'+l+"</div></td>",o.getDay()==S.dayOfWeekStartPrev&&(r+="</tr>"),o.setDate(l+1);r+="</tbody></table>",k.html(r),C.find(".xdsoft_label span").eq(0).text(S.i18n[S.lang].months[L.currentTime.getMonth()]),C.find(".xdsoft_label span").eq(1).text(L.currentTime.getFullYear());var p="",m="",d="",g=function(e,t){var r=L.now();r.setHours(e),e=parseInt(r.getHours()),r.setMinutes(t),t=parseInt(r.getMinutes()),h=[],(S.maxTime!==!1&&L.strtotime(S.maxTime).getTime()<r.getTime()||S.minTime!==!1&&L.strtotime(S.minTime).getTime()>r.getTime())&&h.push("xdsoft_disabled"),(S.defaultSelect||n.data("changed"))&&parseInt(L.currentTime.getHours())==parseInt(e)&&(S.step>59||Math[S.roundTime](L.currentTime.getMinutes()/S.step)*S.step==parseInt(t))&&h.push("xdsoft_current"),parseInt(i.getHours())==parseInt(e)&&parseInt(i.getMinutes())==parseInt(t)&&h.push("xdsoft_today"),p+='<div class="xdsoft_time '+h.join(" ")+'" data-hour="'+e+'" data-minute="'+t+'">'+r.dateFormat(S.formatTime)+"</div>"};if(S.allowTimes&&e.isArray(S.allowTimes)&&S.allowTimes.length)for(var s=0;s<S.allowTimes.length;s++)m=L.strtotime(S.allowTimes[s]).getHours(),d=L.strtotime(S.allowTimes[s]).getMinutes(),g(m,d);else for(var s=0,a=0;s<(S.hours12?12:24);s++)for(a=0;a<60;a+=S.step)m=(s<10?"0":"")+s,d=(a<10?"0":"")+a,g(m,d);j.html(p);var v="",s=0;for(s=parseInt(S.yearStart,10)+S.yearOffset;s<=parseInt(S.yearEnd,10)+S.yearOffset;s++)v+='<div class="xdsoft_option '+(L.currentTime.getFullYear()==s?"xdsoft_current":"")+'" data-value="'+s+'">'+s+"</div>";for(I.children().eq(0).html(v),s=0,v="";s<=11;s++)v+='<div class="xdsoft_option '+(L.currentTime.getMonth()==s?"xdsoft_current":"")+'" data-value="'+s+'">'+S.i18n[S.lang].months[s]+"</div>";N.children().eq(0).html(v),e(this).trigger("generate.xdsoft"),t.stopPropagation()}).on("afterOpen.xdsoft",function(){if(S.timepicker&&j.find(".xdsoft_current").length){var e=M[0].clientHeight,t=j[0].offsetHeight,n=j.find(".xdsoft_current").index()*S.timeHeightInTimePicker+1;t-e<n&&(n=t-e),j.css("marginTop","-"+parseInt(n)+"px"),M.trigger("scroll_element.xdsoft_scroller",[parseInt(n)/(t-e)])}});var F=0;k.on("click.xdsoft","td",function(){F++;var r=e(this),o=L.currentTime;return!r.hasClass("xdsoft_disabled")&&(o.setFullYear(r.data("year")),o.setMonth(r.data("month")),o.setDate(r.data("date")),n.trigger("select.xdsoft",[o]),t.val(L.str()),(F>1||S.closeOnDateSelect===!0||0===S.closeOnDateSelect&&!S.timepicker)&&!S.inline&&n.trigger("close.xdsoft"),S.onSelectDate&&S.onSelectDate.call&&S.onSelectDate.call(n,L.currentTime,n.data("input")),n.data("changed",!0),n.trigger("xchange.xdsoft"),n.trigger("changedatetime.xdsoft"),void setTimeout(function(){F=0},200))}),j.on("click.xdsoft","div",function(){var t=e(this),r=L.currentTime;return!t.hasClass("xdsoft_disabled")&&(r.setHours(t.data("hour")),r.setMinutes(t.data("minute")),n.trigger("select.xdsoft",[r]),n.data("input").val(L.str()),!S.inline&&n.trigger("close.xdsoft"),S.onSelectTime&&S.onSelectTime.call&&S.onSelectTime.call(n,L.currentTime,n.data("input")),n.data("changed",!0),n.trigger("xchange.xdsoft"),void n.trigger("changedatetime.xdsoft"))}),n.mousewheel&&D.mousewheel(function(e,t,n,r){return!S.scrollMonth||(t<0?L.nextMonth():L.prevMonth(),!1)}),n.mousewheel&&M.unmousewheel().mousewheel(function(e,t,n,r){if(!S.scrollTime)return!0;var o=M[0].clientHeight,s=j[0].offsetHeight,i=Math.abs(parseInt(j.css("marginTop"))),a=!0;return t<0&&s-o-S.timeHeightInTimePicker>=i?(j.css("marginTop","-"+(i+S.timeHeightInTimePicker)+"px"),a=!1):t>0&&i-S.timeHeightInTimePicker>=0&&(j.css("marginTop","-"+(i-S.timeHeightInTimePicker)+"px"),a=!1),M.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(j.css("marginTop"))/(s-o))]),e.stopPropagation(),a}),n.on("changedatetime.xdsoft",function(){S.onChangeDateTime&&S.onChangeDateTime.call&&S.onChangeDateTime.call(n,L.currentTime,n.data("input"))}).on("generate.xdsoft",function(){S.onGenerate&&S.onGenerate.call&&S.onGenerate.call(n,L.currentTime,n.data("input"))});var W=0;t.mousewheel&&t.mousewheel(function(e,r,o,s){return!S.scrollInput||(!S.datepicker&&S.timepicker?(W=j.find(".xdsoft_current").length?j.find(".xdsoft_current").eq(0).index():0,W+r>=0&&W+r<j.children().length&&(W+=r),j.children().eq(W).length&&j.children().eq(W).trigger("mousedown"),!1):S.datepicker&&!S.timepicker?(D.trigger(e,[r,o,s]),t.val&&t.val(L.str()),n.trigger("changedatetime.xdsoft"),!1):void 0)});var $=function(){var t=n.data("input").offset(),r=t.top+n.data("input")[0].offsetHeight-1,o=t.left;r+n[0].offsetHeight>e(window).height()+e(window).scrollTop()&&(r=t.top-n[0].offsetHeight+1),o+n[0].offsetWidth>e(window).width()&&(o=t.left-n[0].offsetWidth+n.data("input")[0].offsetWidth),n.css({left:o,top:r})};n.on("open.xdsoft",function(){var t=!0;S.onShow&&S.onShow.call&&(t=S.onShow.call(n,L.currentTime,n.data("input"))),t!==!1&&(n.show(),n.trigger("afterOpen.xdsoft"),$(),e(window).off("resize.xdsoft",$).on("resize.xdsoft",$),S.closeOnWithoutClick&&e([document.body,window]).on("mousedown.xdsoft",function t(){n.trigger("close.xdsoft"),e([document.body,window]).off("mousedown.xdsoft",t)}))}).on("close.xdsoft",function(e){var t=!0;S.onClose&&S.onClose.call&&(t=S.onClose.call(n,L.currentTime,n.data("input"))),t===!1||S.opened||S.inline||n.hide(),e.stopPropagation()}).data("input",t);var H=0;n.data("xdsoft_datetime",L),n.setOptions(S);var R=S.value?S.value:t&&t.val&&t.val()?t.val():"";R&&L.isValidDate(R=Date.parseDate(R,S.format))?n.data("changed",!0):R="",L.setCurrentTime(R?R:0),n.trigger("afterOpen.xdsoft"),t.data("xdsoft_datetimepicker",n).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(e){t.is(":disabled")||t.is(":hidden")||!t.is(":visible")||(clearTimeout(H),H=setTimeout(function(){t.is(":disabled")||t.is(":hidden")||!t.is(":visible")||(L.setCurrentTime(t&&t.val&&t.val()?t.val():0),n.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(t){var r=(this.value,t.which);switch(!0){case!!~[u].indexOf(r):var o=e("input:visible,textarea:visible");return n.trigger("close.xdsoft"),o.eq(o.index(this)+1).focus(),!1;case!!~[g].indexOf(r):return n.trigger("close.xdsoft"),!0}})},D=function(t){var n=t.data("xdsoft_datetimepicker");n&&(n.data("xdsoft_datetime",null),n.remove(),t.data("xdsoft_datetimepicker",null).off("open.xdsoft focusin.xdsoft focusout.xdsoft mousedown.xdsoft blur.xdsoft keydown.xdsoft"),e(window).off("resize.xdsoft"),e([window,document.body]).off("mousedown.xdsoft"),t.unmousewheel&&t.unmousewheel())};return e(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){e.keyCode==a&&(T=!0)}).on("keyup.xdsoftctrl",function(e){e.keyCode==a&&(T=!1)}),this.each(function(){var t;if(t=e(this).data("xdsoft_datetimepicker")){if("string"===e.type(n))switch(n){case"show":e(this).select().focus(),t.trigger("open.xdsoft");break;case"hide":t.trigger("close.xdsoft");break;case"destroy":D(e(this));break;case"reset":this.value=this.defaultValue,this.value&&t.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,S.format))||t.data("changed",!1),t.data("xdsoft_datetime").setCurrentTime(this.value)}else t.setOptions(n);return 0}"string"!==e.type(n)&&O(e(this))})}}(jQuery),/*
 * Copyright (C) 2004 Baron Schwartz <baron at sequent dot org>
 *
 * This program is free software; you can redistribute it and/or modify it
 * under the terms of the GNU Lesser General Public License as published by the
 * Free Software Foundation, version 2.1.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE.  See the GNU Lesser General Public License for more
 * details.
 */
Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(e){null==Date.formatFunctions[e]&&Date.createNewFormat(e);var t=Date.formatFunctions[e];return this[t]()},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;for(var code="Date.prototype."+funcName+" = function() {return ",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch):special=!0;eval(code.substring(0,code.length-3)+";}")},Date.getFormatCode=function(e){switch(e){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(e)+"' + "}},Date.parseDate=function(e,t){null==Date.parseFunctions[t]&&Date.createParser(t);var n=Date.parseFunctions[t];return Date[n](e)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;for(var code="Date."+funcName+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)):special=!0;code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$"),eval(code)},Date.formatCodeToRegex=function(e,t){switch(e){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:0,c:null,s:"(?:\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+t+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+t+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+t+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+t+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+t+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(e)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")},Date.prototype.getDayOfYear=function(){var e=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var t=0;t<this.getMonth();++t)e+=Date.daysInMonth[t];return e+this.getDate()-1},Date.prototype.getWeekOfYear=function(){var e=this.getDayOfYear()+(4-this.getDay()),t=new Date(this.getFullYear(),0,1),n=7-t.getDay()+4;return document.write(n),String.leftPad((e-n)/7+1,2,"0")},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return 0==(3&e)&&(e%100||e%400==0&&e)},Date.prototype.getFirstDayOfMonth=function(){var e=(this.getDay()-(this.getDate()-1))%7;return e<0?e+7:e},Date.prototype.getLastDayOfMonth=function(){var e=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return e<0?e+7:e},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},String.escape=function(e){return e.replace(/('|\\)/g,"\\$1")},String.leftPad=function(e,t,n){var r=new String(e);for(null==n&&(n=" ");r.length<t;)r=n+r;return r},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"},/*
 * Copyright (c) 2013 Brandon Aaron (http://brandonaaron.net)
 *
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.1.3
 *
 * Requires: 1.2.2+
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var o,s=t||window.event,i=[].slice.call(arguments,1),a=0,c=0,u=0,l=0,f=0;return t=e.event.fix(s),t.type="mousewheel",s.wheelDelta&&(a=s.wheelDelta),s.detail&&(a=s.detail*-1),s.deltaY&&(u=s.deltaY*-1,a=u),s.deltaX&&(c=s.deltaX,a=c*-1),void 0!==s.wheelDeltaY&&(u=s.wheelDeltaY),void 0!==s.wheelDeltaX&&(c=s.wheelDeltaX*-1),l=Math.abs(a),(!n||l<n)&&(n=l),f=Math.max(Math.abs(u),Math.abs(c)),(!r||f<r)&&(r=f),o=a>0?"floor":"ceil",a=Math[o](a/n),c=Math[o](c/r),u=Math[o](u/r),i.unshift(t,a,c,u),(e.event.dispatch||e.event.handle).apply(this,i)}var n,r,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(e.event.fixHooks)for(var i=o.length;i;)e.event.fixHooks[o[--i]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=s.length;e;)this.addEventListener(s[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=s.length;e;)this.removeEventListener(s[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),/* sockjs-client v1.1.1 | http://sockjs.org | MIT license */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.SockJS=e()}}(function(){var e;return function e(t,n,r){function o(i,a){if(!n[i]){if(!t[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(s)return s(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){var n=t[i][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){(function(n){"use strict";var r=e("./transport-list");t.exports=e("./main")(r),"_sockjs_onload"in n&&setTimeout(n._sockjs_onload,1)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main":14,"./transport-list":16}],2:[function(e,t,n){"use strict";function r(){s.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}var o=e("inherits"),s=e("./event");o(r,s),t.exports=r},{"./event":4,inherits:57}],3:[function(e,t,n){"use strict";function r(){s.call(this)}var o=e("inherits"),s=e("./eventtarget");o(r,s),r.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}},r.prototype.once=function(e,t){function n(){r.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}var r=this,o=!1;this.on(e,n)},r.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,r=new Array(n-1),o=1;o<n;o++)r[o-1]=arguments[o];for(var s=0;s<t.length;s++)t[s].apply(this,r)}},r.prototype.on=r.prototype.addListener=s.prototype.addEventListener,r.prototype.removeListener=s.prototype.removeEventListener,t.exports.EventEmitter=r},{"./eventtarget":5,inherits:57}],4:[function(e,t,n){"use strict";function r(e){this.type=e}r.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,t.exports=r},{}],5:[function(e,t,n){"use strict";function r(){this._listeners={}}r.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(t)===-1&&(n=n.concat([t])),this._listeners[e]=n},r.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var r=n.indexOf(t);return r!==-1?void(n.length>1?this._listeners[e]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[e]):void 0}},r.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=1===arguments.length?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var r=this._listeners[t],o=0;o<r.length;o++)r[o].apply(this,n)},t.exports=r},{}],6:[function(e,t,n){"use strict";function r(e){s.call(this),this.initEvent("message",!1,!1),this.data=e}var o=e("inherits"),s=e("./event");o(r,s),t.exports=r},{"./event":4,inherits:57}],7:[function(e,t,n){"use strict";function r(e){this._transport=e,e.on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}var o=e("json3"),s=e("./utils/iframe");r.prototype._transportClose=function(e,t){s.postMessage("c",o.stringify([e,t]))},r.prototype._transportMessage=function(e){s.postMessage("t",e)},r.prototype._send=function(e){this._transport.send(e)},r.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},t.exports=r},{"./utils/iframe":47,json3:58}],8:[function(e,t,n){(function(n){"use strict";var r=e("./utils/url"),o=e("./utils/event"),s=e("json3"),i=e("./facade"),a=e("./info-iframe-receiver"),c=e("./utils/iframe"),u=e("./location"),l=function(){};"production"!==n.env.NODE_ENV&&(l=e("debug")("sockjs-client:iframe-bootstrap")),t.exports=function(e,t){var n={};t.forEach(function(e){e.facadeTransport&&(n[e.facadeTransport.transportName]=e.facadeTransport)}),n[a.transportName]=a;var f;e.bootstrap_iframe=function(){var t;c.currentWindowId=u.hash.slice(1);var a=function(o){if(o.source===parent&&("undefined"==typeof f&&(f=o.origin),o.origin===f)){var a;try{a=s.parse(o.data)}catch(e){return void l("bad json",o.data)}if(a.windowId===c.currentWindowId)switch(a.type){case"s":var d;try{d=s.parse(a.data)}catch(e){l("bad json",a.data);break}var h=d[0],p=d[1],m=d[2],g=d[3];if(l(h,p,m,g),h!==e.version)throw new Error('Incompatible SockJS! Main site uses: "'+h+'", the iframe: "'+e.version+'".');if(!r.isOriginEqual(m,u.href)||!r.isOriginEqual(g,u.href))throw new Error("Can't connect to different domain from within an iframe. ("+u.href+", "+m+", "+g+")");t=new i(new n[p](m,g));break;case"m":t._send(a.data);break;case"c":t&&t._close(),t=null}}};o.attachEvent("message",a),c.postMessage("s")}}}).call(this,{env:{}})},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,debug:54,json3:58}],9:[function(e,t,n){(function(n){"use strict";function r(e,t){o.call(this);var n=this,r=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(e,t){var o,s;if(200===e){if(s=+new Date-r,t)try{o=i.parse(t)}catch(e){c("bad json",t)}a.isObject(o)||(o={})}n.emit("finish",o,s),n.removeAllListeners()})}var o=e("events").EventEmitter,s=e("inherits"),i=e("json3"),a=e("./utils/object"),c=function(){};"production"!==n.env.NODE_ENV&&(c=e("debug")("sockjs-client:info-ajax")),s(r,o),r.prototype.close=function(){this.removeAllListeners(),this.xo.close()},t.exports=r}).call(this,{env:{}})},{"./utils/object":49,debug:54,events:3,inherits:57,json3:58}],10:[function(e,t,n){"use strict";function r(e){var t=this;s.call(this),this.ir=new c(e,a),this.ir.once("finish",function(e,n){t.ir=null,t.emit("message",i.stringify([e,n]))})}var o=e("inherits"),s=e("events").EventEmitter,i=e("json3"),a=e("./transport/sender/xhr-local"),c=e("./info-ajax");o(r,s),r.transportName="iframe-info-receiver",r.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},t.exports=r},{"./info-ajax":9,"./transport/sender/xhr-local":37,events:3,inherits:57,json3:58}],11:[function(e,t,n){(function(n,r){"use strict";function o(e,t){var n=this;s.call(this);var o=function(){var r=n.ifr=new u(l.transportName,t,e);r.once("message",function(e){if(e){var t;try{t=a.parse(e)}catch(t){return f("bad json",e),n.emit("finish"),void n.close()}var r=t[0],o=t[1];n.emit("finish",r,o)}n.close()}),r.once("close",function(){n.emit("finish"),n.close()})};r.document.body?o():c.attachEvent("load",o)}var s=e("events").EventEmitter,i=e("inherits"),a=e("json3"),c=e("./utils/event"),u=e("./transport/iframe"),l=e("./info-iframe-receiver"),f=function(){};"production"!==n.env.NODE_ENV&&(f=e("debug")("sockjs-client:info-iframe")),i(o,s),o.enabled=function(){return u.enabled()},o.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},t.exports=o}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,debug:54,events:3,inherits:57,json3:58}],12:[function(e,t,n){(function(n){"use strict";function r(e,t){h(e);var n=this;o.call(this),setTimeout(function(){n.doXhr(e,t)},0)}var o=e("events").EventEmitter,s=e("inherits"),i=e("./utils/url"),a=e("./transport/sender/xdr"),c=e("./transport/sender/xhr-cors"),u=e("./transport/sender/xhr-local"),l=e("./transport/sender/xhr-fake"),f=e("./info-iframe"),d=e("./info-ajax"),h=function(){};"production"!==n.env.NODE_ENV&&(h=e("debug")("sockjs-client:info-receiver")),s(r,o),r._getReceiver=function(e,t,n){return n.sameOrigin?new d(t,u):c.enabled?new d(t,c):a.enabled&&n.sameScheme?new d(t,a):f.enabled()?new f(e,t):new d(t,l)},r.prototype.doXhr=function(e,t){var n=this,o=i.addPath(e,"/info");h("doXhr",o),this.xo=r._getReceiver(e,o,t),this.timeoutRef=setTimeout(function(){h("timeout"),n._cleanup(!1),n.emit("finish")},r.timeout),this.xo.once("finish",function(e,t){h("finish",e,t),n._cleanup(!0),n.emit("finish",e,t)})},r.prototype._cleanup=function(e){h("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null},r.prototype.close=function(){h("close"),this.removeAllListeners(),this._cleanup(!1)},r.timeout=8e3,t.exports=r}).call(this,{env:{}})},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,debug:54,events:3,inherits:57}],13:[function(e,t,n){(function(e){"use strict";t.exports=e.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(e,t,n){(function(n,r){"use strict";function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");b.call(this),this.readyState=o.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&g.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{};var r=n.sessionId||8;if("function"==typeof r)this._generateSessionId=r;else{if("number"!=typeof r)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return u.string(r)}}this._server=n.server||u.numberString(1e3);var s=new i(e);if(!s.host||!s.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(s.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==s.protocol&&"https:"!==s.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.");var a="https:"===s.protocol;if("https"===y.protocol&&!a)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var c=t.sort();c.forEach(function(e,t){if(!e)throw new SyntaxError("The protocols entry '"+e+"' is invalid.");if(t<c.length-1&&e===c[t+1])throw new SyntaxError("The protocols entry '"+e+"' is duplicated.")});var l=f.getOrigin(y.href);this._origin=l?l.toLowerCase():null,s.set("pathname",s.pathname.replace(/\/+$/,"")),this.url=s.href,T("using url",this.url),this._urlInfo={nullOrigin:!m.hasDomain(),sameOrigin:f.isOriginEqual(this.url,y.href),sameScheme:f.isSchemeEqual(this.url,y.href)},this._ir=new _(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function s(e){return 1e3===e||e>=3e3&&e<=4999}e("./shims");var i=e("url-parse"),a=e("inherits"),c=e("json3"),u=e("./utils/random"),l=e("./utils/escape"),f=e("./utils/url"),d=e("./utils/event"),h=e("./utils/transport"),p=e("./utils/object"),m=e("./utils/browser"),g=e("./utils/log"),v=e("./event/event"),b=e("./event/eventtarget"),y=e("./location"),x=e("./event/close"),w=e("./event/trans-message"),_=e("./info-receiver"),T=function(){};"production"!==n.env.NODE_ENV&&(T=e("debug")("sockjs-client:main"));var S;a(o,b),o.prototype.close=function(e,t){if(e&&!s(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==o.CLOSING&&this.readyState!==o.CLOSED){var n=!0;this._close(e||1e3,t||"Normal closure",n)}},o.prototype.send=function(e){if("string"!=typeof e&&(e=""+e),this.readyState===o.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===o.OPEN&&this._transport.send(l.quote(e))},o.version=e("./version"),o.CONNECTING=0,o.OPEN=1,o.CLOSING=2,o.CLOSED=3,o.prototype._receiveInfo=function(e,t){if(T("_receiveInfo",t),this._ir=null,!e)return void this._close(1002,"Cannot connect to server");this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=p.extend(e,this._urlInfo),T("info",e);var n=S.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,T(this._transports.length+" enabled transports"),this._connect()},o.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(T("attempt",e.transportName),e.needBody&&(!r.document.body||"undefined"!=typeof r.document.readyState&&"complete"!==r.document.readyState&&"interactive"!==r.document.readyState))return T("waiting for body"),this._transports.unshift(e),void d.attachEvent("load",this._connect.bind(this));var t=this._rto*e.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t),T("using timeout",t);var n=f.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),o=this._transportOptions[e.transportName];T("transport url",n);var s=new e(n,this._transUrl,o);return s.on("message",this._transportMessage.bind(this)),s.once("close",this._transportClose.bind(this)),s.transportName=e.transportName,void(this._transport=s)}this._close(2e3,"All transports failed",!1)},o.prototype._transportTimeout=function(){T("_transportTimeout"),this.readyState===o.CONNECTING&&this._transportClose(2007,"Transport timed out")},o.prototype._transportMessage=function(e){T("_transportMessage",e);var t,n=this,r=e.slice(0,1),o=e.slice(1);switch(r){case"o":return void this._open();case"h":return this.dispatchEvent(new v("heartbeat")),void T("heartbeat",this.transport)}if(o)try{t=c.parse(o)}catch(e){T("bad json",o)}if("undefined"==typeof t)return void T("empty payload",o);switch(r){case"a":Array.isArray(t)&&t.forEach(function(e){T("message",n.transport,e),n.dispatchEvent(new w(e))});break;case"m":T("message",this.transport,t),this.dispatchEvent(new w(t));break;case"c":Array.isArray(t)&&2===t.length&&this._close(t[0],t[1],!0)}},o.prototype._transportClose=function(e,t){return T("_transportClose",this.transport,e,t),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),s(e)||2e3===e||this.readyState!==o.CONNECTING?void this._close(e,t):void this._connect()},o.prototype._open=function(){T("_open",this._transport.transportName,this.readyState),this.readyState===o.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=o.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new v("open")),T("connected",this.transport)):this._close(1006,"Server lost session")},o.prototype._close=function(e,t,n){T("_close",this.transport,e,t,n,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===o.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=o.CLOSING,setTimeout(function(){this.readyState=o.CLOSED,r&&this.dispatchEvent(new v("error"));var s=new x("close");s.wasClean=n||!1,s.code=e||1e3,s.reason=t,this.dispatchEvent(s),this.onmessage=this.onclose=this.onerror=null,T("disconnected")}.bind(this),0)},o.prototype.countRTO=function(e){return e>100?4*e:300+e},t.exports=function(t){return S=h(t),e("./iframe-bootstrap")(o,t),o}}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,debug:54,inherits:57,json3:58,"url-parse":59}],15:[function(e,t,n){"use strict";function r(e){var t=+e;return t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function o(e){return e>>>0}function s(){}var i,a=Array.prototype,c=Object.prototype,u=Function.prototype,l=String.prototype,f=a.slice,d=c.toString,h=function(e){return"[object Function]"===c.toString.call(e)},p=function(e){return"[object Array]"===d.call(e)},m=function(e){return"[object String]"===d.call(e)},g=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}();i=g?function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,r){!r&&t in e||(e[t]=n)};var v=function(e,t,n){for(var r in t)c.hasOwnProperty.call(t,r)&&i(e,r,t[r],n)},b=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)};v(u,{bind:function(e){var t=this;if(!h(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n=f.call(arguments,1),r=function(){if(this instanceof c){var r=t.apply(this,n.concat(f.call(arguments)));return Object(r)===r?r:this}return t.apply(e,n.concat(f.call(arguments)))},o=Math.max(0,t.length-n.length),i=[],a=0;a<o;a++)i.push("$"+a);var c=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this, arguments); }")(r);return t.prototype&&(s.prototype=t.prototype,c.prototype=new s,s.prototype=null),c}}),v(Array,{isArray:p});var y=Object("a"),x="a"!==y[0]||!(0 in y),w=function(e){var t=!0,n=!0;return e&&(e.call("foo",function(e,n,r){"object"!=typeof r&&(t=!1)}),e.call([1],function(){n="string"==typeof this},"x")),!!e&&t&&n};v(a,{forEach:function(e){var t=b(this),n=x&&m(this)?this.split(""):t,r=arguments[1],o=-1,s=n.length>>>0;if(!h(e))throw new TypeError;for(;++o<s;)o in n&&e.call(r,n[o],o,t)}},!w(a.forEach));var _=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;v(a,{indexOf:function(e){var t=x&&m(this)?this.split(""):b(this),n=t.length>>>0;if(!n)return-1;var o=0;for(arguments.length>1&&(o=r(arguments[1])),o=o>=0?o:Math.max(0,n+o);o<n;o++)if(o in t&&t[o]===e)return o;return-1}},_);var T=l.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var e=void 0===/()??/.exec("")[1];l.split=function(t,n){var r=this;if(void 0===t&&0===n)return[];if("[object RegExp]"!==d.call(t))return T.call(this,t,n);var s,i,c,u,l=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),h=0;for(t=new RegExp(t.source,f+"g"),r+="",e||(s=new RegExp("^"+t.source+"$(?!\\s)",f)),n=void 0===n?-1>>>0:o(n);(i=t.exec(r))&&(c=i.index+i[0].length,!(c>h&&(l.push(r.slice(h,i.index)),!e&&i.length>1&&i[0].replace(s,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(i[e]=void 0)}),i.length>1&&i.index<r.length&&a.push.apply(l,i.slice(1)),u=i[0].length,h=c,l.length>=n)));)t.lastIndex===i.index&&t.lastIndex++;return h===r.length?!u&&t.test("")||l.push(""):l.push(r.slice(h)),l.length>n?l.slice(0,n):l}}():"0".split(void 0,0).length&&(l.split=function(e,t){return void 0===e&&0===t?[]:T.call(this,e,t)});var S="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",O="​",D="["+S+"]",C=new RegExp("^"+D+D+"*"),k=new RegExp(D+D+"*$"),E=l.trim&&(S.trim()||!O.trim());v(l,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(C,"").replace(k,"")}},E);var M=l.substr,j="".substr&&"b"!=="0b".substr(-1);v(l,{substr:function(e,t){return M.call(this,e<0&&(e=this.length+e)<0?0:e,t)}},j)},{}],16:[function(e,t,n){"use strict";t.exports=[e("./transport/websocket"),e("./transport/xhr-streaming"),e("./transport/xdr-streaming"),e("./transport/eventsource"),e("./transport/lib/iframe-wrap")(e("./transport/eventsource")),e("./transport/htmlfile"),e("./transport/lib/iframe-wrap")(e("./transport/htmlfile")),e("./transport/xhr-polling"),e("./transport/xdr-polling"),e("./transport/lib/iframe-wrap")(e("./transport/xhr-polling")),e("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(e,t,n){(function(n,r){"use strict";function o(e,t,n,r){l(e,t);var o=this;s.call(this),setTimeout(function(){o._start(e,t,n,r)},0)}var s=e("events").EventEmitter,i=e("inherits"),a=e("../../utils/event"),c=e("../../utils/url"),u=r.XMLHttpRequest,l=function(){};"production"!==n.env.NODE_ENV&&(l=e("debug")("sockjs-client:browser:xhr")),i(o,s),o.prototype._start=function(e,t,n,r){var s=this;try{this.xhr=new u}catch(e){}if(!this.xhr)return l("no xhr"),this.emit("finish",0,"no xhr support"),void this._cleanup();t=c.addQuery(t,"t="+ +new Date),this.unloadRef=a.unloadAdd(function(){l("unload cleanup"),s._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){l("xhr timeout"),s.emit("finish",0,""),s._cleanup(!1)})}catch(e){return l("exception",e),this.emit("finish",0,""),void this._cleanup(!1)}if(r&&r.noCredentials||!o.supportsCORS||(l("withCredentials"),this.xhr.withCredentials="true"),r&&r.headers)for(var i in r.headers)this.xhr.setRequestHeader(i,r.headers[i]);this.xhr.onreadystatechange=function(){if(s.xhr){var e,t,n=s.xhr;switch(l("readyState",n.readyState),n.readyState){case 3:try{t=n.status,e=n.responseText}catch(e){}l("status",t),1223===t&&(t=204),200===t&&e&&e.length>0&&(l("chunk"),s.emit("chunk",t,e));break;case 4:t=n.status,l("status",t),1223===t&&(t=204),12005!==t&&12029!==t||(t=0),l("finish",t,n.responseText),s.emit("finish",t,n.responseText),s._cleanup(!1)}}};try{s.xhr.send(n)}catch(e){s.emit("finish",0,""),s._cleanup(!1)}},o.prototype._cleanup=function(e){if(l("cleanup"),this.xhr){if(this.removeAllListeners(),a.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch(e){}this.unloadRef=this.xhr=null}},o.prototype.close=function(){l("close"),this._cleanup(!0)},o.enabled=!!u;var f=["Active"].concat("Object").join("X");!o.enabled&&f in r&&(l("overriding xmlhttprequest"),u=function(){try{return new r[f]("Microsoft.XMLHTTP")}catch(e){return null}},o.enabled=!!new u);var d=!1;try{d="withCredentials"in new u}catch(e){}o.supportsCORS=d,t.exports=o}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/event":46,"../../utils/url":52,debug:54,events:3,inherits:57}],18:[function(e,t,n){(function(e){t.exports=e.EventSource}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(e,t,n){(function(e){"use strict";var n=e.WebSocket||e.MozWebSocket;n&&(t.exports=function(e){return new n(e)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(e,t,n){"use strict";function r(e){if(!r.enabled())throw new Error("Transport created when disabled");s.call(this,e,"/eventsource",i,a)}var o=e("inherits"),s=e("./lib/ajax-based"),i=e("./receiver/eventsource"),a=e("./sender/xhr-cors"),c=e("eventsource");o(r,s),r.enabled=function(){return!!c},r.transportName="eventsource",r.roundTrips=2,t.exports=r},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,inherits:57}],21:[function(e,t,n){"use strict";function r(e){if(!s.enabled)throw new Error("Transport created when disabled");a.call(this,e,"/htmlfile",s,i)}var o=e("inherits"),s=e("./receiver/htmlfile"),i=e("./sender/xhr-local"),a=e("./lib/ajax-based");o(r,a),r.enabled=function(e){return s.enabled&&e.sameOrigin},r.transportName="htmlfile",r.roundTrips=2,t.exports=r},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:57}],22:[function(e,t,n){(function(n){"use strict";function r(e,t,n){if(!r.enabled())throw new Error("Transport created when disabled");i.call(this);var o=this;this.origin=c.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=f.string(8);var s=c.addPath(n,"/iframe.html")+"#"+this.windowId;d(e,t,s),this.iframeObj=u.createIframe(s,function(e){d("err callback"),o.emit("close",1006,"Unable to load an iframe ("+e+")"),o.close()}),this.onmessageCallback=this._message.bind(this),l.attachEvent("message",this.onmessageCallback)}var o=e("inherits"),s=e("json3"),i=e("events").EventEmitter,a=e("../version"),c=e("../utils/url"),u=e("../utils/iframe"),l=e("../utils/event"),f=e("../utils/random"),d=function(){};"production"!==n.env.NODE_ENV&&(d=e("debug")("sockjs-client:transport:iframe")),o(r,i),r.prototype.close=function(){if(d("close"),this.removeAllListeners(),this.iframeObj){l.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},r.prototype._message=function(e){if(d("message",e.data),!c.isOriginEqual(e.origin,this.origin))return void d("not same origin",e.origin,this.origin);var t;try{t=s.parse(e.data)}catch(t){return void d("bad json",e.data)}if(t.windowId!==this.windowId)return void d("mismatched window id",t.windowId,this.windowId);switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",s.stringify([a,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=s.parse(t.data)}catch(e){return void d("bad json",t.data)}this.emit("close",n[0],n[1]),this.close()}},r.prototype.postMessage=function(e,t){d("postMessage",e,t),this.iframeObj.post(s.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)},r.prototype.send=function(e){d("send",e),this.postMessage("m",e)},r.enabled=function(){return u.iframeEnabled},r.transportName="iframe",r.roundTrips=2,t.exports=r}).call(this,{env:{}})},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,debug:54,events:3,inherits:57,json3:58}],23:[function(e,t,n){(function(n){"use strict";function r(e){if(!r.enabled())throw new Error("Transport created when disabled");s.call(this,e,"/jsonp",a,i)}var o=e("inherits"),s=e("./lib/sender-receiver"),i=e("./receiver/jsonp"),a=e("./sender/jsonp");o(r,s),r.enabled=function(){return!!n.document},r.transportName="jsonp-polling",r.roundTrips=1,r.needBody=!0,t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:57}],24:[function(e,t,n){(function(n){"use strict";function r(e){return function(t,n,r){c("create ajax sender",t,n);var o={};"string"==typeof n&&(o.headers={"Content-type":"text/plain"});var s=i.addPath(t,"/xhr_send"),a=new e("POST",s,n,o);return a.once("finish",function(e){return c("finish",e),a=null,200!==e&&204!==e?r(new Error("http status "+e)):void r()}),function(){c("abort"),a.close(),a=null;var e=new Error("Aborted");e.code=1e3,r(e)}}}function o(e,t,n,o){a.call(this,e,t,r(o),n,o)}var s=e("inherits"),i=e("../../utils/url"),a=e("./sender-receiver"),c=function(){};"production"!==n.env.NODE_ENV&&(c=e("debug")("sockjs-client:ajax-based")),s(o,a),t.exports=o}).call(this,{env:{}})},{"../../utils/url":52,"./sender-receiver":28,debug:54,inherits:57}],25:[function(e,t,n){(function(n){"use strict";function r(e,t){i(e),s.call(this),this.sendBuffer=[],this.sender=t,this.url=e}var o=e("inherits"),s=e("events").EventEmitter,i=function(){};"production"!==n.env.NODE_ENV&&(i=e("debug")("sockjs-client:buffered-sender")),o(r,s),r.prototype.send=function(e){i("send",e),this.sendBuffer.push(e),this.sendStop||this.sendSchedule()},r.prototype.sendScheduleWait=function(){i("sendScheduleWait");var e,t=this;this.sendStop=function(){i("sendStop"),t.sendStop=null,clearTimeout(e)},e=setTimeout(function(){i("timeout"),t.sendStop=null,t.sendSchedule()},25)},r.prototype.sendSchedule=function(){i("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(t){e.sendStop=null,t?(i("error",t),e.emit("close",t.code||1006,"Sending error: "+t),e._cleanup()):e.sendScheduleWait()}),this.sendBuffer=[]}},r.prototype._cleanup=function(){i("_cleanup"),this.removeAllListeners()},r.prototype.stop=function(){i("stop"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},t.exports=r}).call(this,{env:{}})},{debug:54,events:3,inherits:57}],26:[function(e,t,n){(function(n){"use strict";var r=e("inherits"),o=e("../iframe"),s=e("../../utils/object");t.exports=function(e){function t(t,n){o.call(this,e.transportName,t,n)}return r(t,o),t.enabled=function(t,r){if(!n.document)return!1;var i=s.extend({},r);return i.sameOrigin=!0,e.enabled(i)&&o.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=o.roundTrips+e.roundTrips-1,t.facadeTransport=e,t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/object":49,"../iframe":22,inherits:57}],27:[function(e,t,n){(function(n){"use strict";function r(e,t,n){i(t),s.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}var o=e("inherits"),s=e("events").EventEmitter,i=function(){};"production"!==n.env.NODE_ENV&&(i=e("debug")("sockjs-client:polling")),o(r,s),r.prototype._scheduleReceiver=function(){i("_scheduleReceiver");var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(t){i("message",t),e.emit("message",t)}),t.once("close",function(n,r){i("close",n,r,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||("network"===r?e._scheduleReceiver():(e.emit("close",n||1006,r),e.removeAllListeners()))})},r.prototype.abort=function(){i("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},t.exports=r}).call(this,{env:{}})},{debug:54,events:3,inherits:57}],28:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r,o){var u=s.addPath(e,t);c(u);var l=this;i.call(this,e,n),this.poll=new a(r,u,o),this.poll.on("message",function(e){c("poll message",e),l.emit("message",e)}),this.poll.once("close",function(e,t){c("poll close",e,t),l.poll=null,l.emit("close",e,t),l.close()})}var o=e("inherits"),s=e("../../utils/url"),i=e("./buffered-sender"),a=e("./polling"),c=function(){};"production"!==n.env.NODE_ENV&&(c=e("debug")("sockjs-client:sender-receiver")),o(r,i),r.prototype.close=function(){c("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null),this.stop()},t.exports=r}).call(this,{env:{}})},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,debug:54,inherits:57}],29:[function(e,t,n){(function(n){"use strict";function r(e){a(e),s.call(this);var t=this,n=this.es=new i(e);n.onmessage=function(e){a("message",e.data),t.emit("message",decodeURI(e.data))},n.onerror=function(e){a("error",n.readyState,e);var r=2!==n.readyState?"network":"permanent";t._cleanup(),t._close(r)}}var o=e("inherits"),s=e("events").EventEmitter,i=e("eventsource"),a=function(){};"production"!==n.env.NODE_ENV&&(a=e("debug")("sockjs-client:receiver:eventsource")),o(r,s),r.prototype.abort=function(){a("abort"),this._cleanup(),this._close("user")},r.prototype._cleanup=function(){a("cleanup");var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)},r.prototype._close=function(e){a("close",e);var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)},t.exports=r}).call(this,{env:{}})},{debug:54,events:3,eventsource:18,inherits:57}],30:[function(e,t,n){(function(n,r){"use strict";function o(e){l(e),c.call(this);var t=this;i.polluteGlobalNamespace(),this.id="a"+u.string(6),
e=a.addQuery(e,"c="+decodeURIComponent(i.WPrefix+"."+this.id)),l("using htmlfile",o.htmlfileEnabled);var n=o.htmlfileEnabled?i.createHtmlfile:i.createIframe;r[i.WPrefix][this.id]={start:function(){l("start"),t.iframeObj.loaded()},message:function(e){l("message",e),t.emit("message",e)},stop:function(){l("stop"),t._cleanup(),t._close("network")}},this.iframeObj=n(e,function(){l("callback"),t._cleanup(),t._close("permanent")})}var s=e("inherits"),i=e("../../utils/iframe"),a=e("../../utils/url"),c=e("events").EventEmitter,u=e("../../utils/random"),l=function(){};"production"!==n.env.NODE_ENV&&(l=e("debug")("sockjs-client:receiver:htmlfile")),s(o,c),o.prototype.abort=function(){l("abort"),this._cleanup(),this._close("user")},o.prototype._cleanup=function(){l("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete r[i.WPrefix][this.id]},o.prototype._close=function(e){l("_close",e),this.emit("close",null,e),this.removeAllListeners()},o.htmlfileEnabled=!1;var f=["Active"].concat("Object").join("X");if(f in r)try{o.htmlfileEnabled=!!new r[f]("htmlfile")}catch(e){}o.enabled=o.htmlfileEnabled||i.iframeEnabled,t.exports=o}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:54,events:3,inherits:57}],31:[function(e,t,n){(function(n,r){"use strict";function o(e){f(e);var t=this;l.call(this),s.polluteGlobalNamespace(),this.id="a"+i.string(6);var n=c.addQuery(e,"c="+encodeURIComponent(s.WPrefix+"."+this.id));r[s.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){f("timeout"),t._abort(new Error("JSONP script loaded abnormally (timeout)"))},o.timeout)}var s=e("../../utils/iframe"),i=e("../../utils/random"),a=e("../../utils/browser"),c=e("../../utils/url"),u=e("inherits"),l=e("events").EventEmitter,f=function(){};"production"!==n.env.NODE_ENV&&(f=e("debug")("sockjs-client:receiver:jsonp")),u(o,l),o.prototype.abort=function(){if(f("abort"),r[s.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}},o.timeout=35e3,o.scriptErrorTimeout=1e3,o.prototype._callback=function(e){f("_callback",e),this._cleanup(),this.aborting||(e&&(f("message",e),this.emit("message",e)),this.emit("close",null,"network"),this.removeAllListeners())},o.prototype._abort=function(e){f("_abort",e),this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()},o.prototype._cleanup=function(){if(f("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete r[s.WPrefix][this.id]},o.prototype._scriptError=function(){f("_scriptError");var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},o.scriptErrorTimeout))},o.prototype._createScript=function(e){f("_createScript",e);var t,n=this,o=this.script=r.document.createElement("script");if(o.id="a"+i.string(8),o.src=e,o.type="text/javascript",o.charset="UTF-8",o.onerror=this._scriptError.bind(this),o.onload=function(){f("onload"),n._abort(new Error("JSONP script loaded abnormally (onload)"))},o.onreadystatechange=function(){if(f("onreadystatechange",o.readyState),/loaded|closed/.test(o.readyState)){if(o&&o.htmlFor&&o.onclick){n.loadedOkay=!0;try{o.onclick()}catch(e){}}o&&n._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof o.async&&r.document.attachEvent)if(a.isOpera())t=this.script2=r.document.createElement("script"),t.text="try{var a = document.getElementById('"+o.id+"'); if(a)a.onerror();}catch(x){};",o.async=t.async=!1;else{try{o.htmlFor=o.id,o.event="onclick"}catch(e){}o.async=!0}"undefined"!=typeof o.async&&(o.async=!0);var s=r.document.getElementsByTagName("head")[0];s.insertBefore(o,s.firstChild),t&&s.insertBefore(t,s.firstChild)},t.exports=o}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:54,events:3,inherits:57}],32:[function(e,t,n){(function(n){"use strict";function r(e,t){i(e),s.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(e,t){i("finish",e,t),n._chunkHandler(e,t),n.xo=null;var r=200===e?"network":"permanent";i("close",r),n.emit("close",null,r),n._cleanup()})}var o=e("inherits"),s=e("events").EventEmitter,i=function(){};"production"!==n.env.NODE_ENV&&(i=e("debug")("sockjs-client:receiver:xhr")),o(r,s),r.prototype._chunkHandler=function(e,t){if(i("_chunkHandler",e),200===e&&t)for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);if(n=r.indexOf("\n"),n===-1)break;var o=r.slice(0,n);o&&(i("message",o),this.emit("message",o))}},r.prototype._cleanup=function(){i("_cleanup"),this.removeAllListeners()},r.prototype.abort=function(){i("abort"),this.xo&&(this.xo.close(),i("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},t.exports=r}).call(this,{env:{}})},{debug:54,events:3,inherits:57}],33:[function(e,t,n){(function(n,r){"use strict";function o(e){c("createIframe",e);try{return r.document.createElement('<iframe name="'+e+'">')}catch(n){var t=r.document.createElement("iframe");return t.name=e,t}}function s(){c("createForm"),u=r.document.createElement("form"),u.style.display="none",u.style.position="absolute",u.method="POST",u.enctype="application/x-www-form-urlencoded",u.acceptCharset="UTF-8",l=r.document.createElement("textarea"),l.name="d",u.appendChild(l),r.document.body.appendChild(u)}var i=e("../../utils/random"),a=e("../../utils/url"),c=function(){};"production"!==n.env.NODE_ENV&&(c=e("debug")("sockjs-client:sender:jsonp"));var u,l;t.exports=function(e,t,n){c(e,t),u||s();var r="a"+i.string(8);u.target=r,u.action=a.addQuery(a.addPath(e,"/jsonp_send"),"i="+r);var f=o(r);f.id=r,f.style.display="none",u.appendChild(f);try{l.value=t}catch(e){}u.submit();var d=function(e){c("completed",r,e),f.onerror&&(f.onreadystatechange=f.onerror=f.onload=null,setTimeout(function(){c("cleaning up",r),f.parentNode.removeChild(f),f=null},500),l.value="",n(e))};return f.onerror=function(){c("onerror",r),d()},f.onload=function(){c("onload",r),d()},f.onreadystatechange=function(e){c("onreadystatechange",r,f.readyState,e),"complete"===f.readyState&&d()},function(){c("aborted",r),d(new Error("Aborted"))}}}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/random":50,"../../utils/url":52,debug:54}],34:[function(e,t,n){(function(n,r){"use strict";function o(e,t,n){l(e,t);var r=this;s.call(this),setTimeout(function(){r._start(e,t,n)},0)}var s=e("events").EventEmitter,i=e("inherits"),a=e("../../utils/event"),c=e("../../utils/browser"),u=e("../../utils/url"),l=function(){};"production"!==n.env.NODE_ENV&&(l=e("debug")("sockjs-client:sender:xdr")),i(o,s),o.prototype._start=function(e,t,n){l("_start");var o=this,s=new r.XDomainRequest;t=u.addQuery(t,"t="+ +new Date),s.onerror=function(){l("onerror"),o._error()},s.ontimeout=function(){l("ontimeout"),o._error()},s.onprogress=function(){l("progress",s.responseText),o.emit("chunk",200,s.responseText)},s.onload=function(){l("load"),o.emit("finish",200,s.responseText),o._cleanup(!1)},this.xdr=s,this.unloadRef=a.unloadAdd(function(){o._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch(e){this._error()}},o.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},o.prototype._cleanup=function(e){if(l("cleanup",e),this.xdr){if(this.removeAllListeners(),a.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch(e){}this.unloadRef=this.xdr=null}},o.prototype.close=function(){l("close"),this._cleanup(!0)},o.enabled=!(!r.XDomainRequest||!c.hasDomain()),t.exports=o}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,debug:54,events:3,inherits:57}],35:[function(e,t,n){"use strict";function r(e,t,n,r){s.call(this,e,t,n,r)}var o=e("inherits"),s=e("../driver/xhr");o(r,s),r.enabled=s.enabled&&s.supportsCORS,t.exports=r},{"../driver/xhr":17,inherits:57}],36:[function(e,t,n){"use strict";function r(){var e=this;o.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},r.timeout)}var o=e("events").EventEmitter,s=e("inherits");s(r,o),r.prototype.close=function(){clearTimeout(this.to)},r.timeout=2e3,t.exports=r},{events:3,inherits:57}],37:[function(e,t,n){"use strict";function r(e,t,n){s.call(this,e,t,n,{noCredentials:!0})}var o=e("inherits"),s=e("../driver/xhr");o(r,s),r.enabled=s.enabled,t.exports=r},{"../driver/xhr":17,inherits:57}],38:[function(e,t,n){(function(n){"use strict";function r(e,t,n){if(!r.enabled())throw new Error("Transport created when disabled");a.call(this),u("constructor",e);var i=this,l=s.addPath(e,"/websocket");l="https"===l.slice(0,5)?"wss"+l.slice(5):"ws"+l.slice(4),this.url=l,this.ws=new c(this.url,[],n),this.ws.onmessage=function(e){u("message event",e.data),i.emit("message",e.data)},this.unloadRef=o.unloadAdd(function(){u("unload"),i.ws.close()}),this.ws.onclose=function(e){u("close event",e.code,e.reason),i.emit("close",e.code,e.reason),i._cleanup()},this.ws.onerror=function(e){u("error event",e),i.emit("close",1006,"WebSocket connection broken"),i._cleanup()}}var o=e("../utils/event"),s=e("../utils/url"),i=e("inherits"),a=e("events").EventEmitter,c=e("./driver/websocket"),u=function(){};"production"!==n.env.NODE_ENV&&(u=e("debug")("sockjs-client:websocket")),i(r,a),r.prototype.send=function(e){var t="["+e+"]";u("send",t),this.ws.send(t)},r.prototype.close=function(){u("close"),this.ws&&this.ws.close(),this._cleanup()},r.prototype._cleanup=function(){u("_cleanup");var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),o.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},r.enabled=function(){return u("enabled"),!!c},r.transportName="websocket",r.roundTrips=2,t.exports=r}).call(this,{env:{}})},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,debug:54,events:3,inherits:57}],39:[function(e,t,n){"use strict";function r(e){if(!c.enabled)throw new Error("Transport created when disabled");s.call(this,e,"/xhr",a,c)}var o=e("inherits"),s=e("./lib/ajax-based"),i=e("./xdr-streaming"),a=e("./receiver/xhr"),c=e("./sender/xdr");o(r,s),r.enabled=i.enabled,r.transportName="xdr-polling",r.roundTrips=2,t.exports=r},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:57}],40:[function(e,t,n){"use strict";function r(e){if(!a.enabled)throw new Error("Transport created when disabled");s.call(this,e,"/xhr_streaming",i,a)}var o=e("inherits"),s=e("./lib/ajax-based"),i=e("./receiver/xhr"),a=e("./sender/xdr");o(r,s),r.enabled=function(e){return!e.cookie_needed&&!e.nullOrigin&&(a.enabled&&e.sameScheme)},r.transportName="xdr-streaming",r.roundTrips=2,t.exports=r},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:57}],41:[function(e,t,n){"use strict";function r(e){if(!c.enabled&&!a.enabled)throw new Error("Transport created when disabled");s.call(this,e,"/xhr",i,a)}var o=e("inherits"),s=e("./lib/ajax-based"),i=e("./receiver/xhr"),a=e("./sender/xhr-cors"),c=e("./sender/xhr-local");o(r,s),r.enabled=function(e){return!e.nullOrigin&&(!(!c.enabled||!e.sameOrigin)||a.enabled)},r.transportName="xhr-polling",r.roundTrips=2,t.exports=r},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:57}],42:[function(e,t,n){(function(n){"use strict";function r(e){if(!c.enabled&&!a.enabled)throw new Error("Transport created when disabled");s.call(this,e,"/xhr_streaming",i,a)}var o=e("inherits"),s=e("./lib/ajax-based"),i=e("./receiver/xhr"),a=e("./sender/xhr-cors"),c=e("./sender/xhr-local"),u=e("../utils/browser");o(r,s),r.enabled=function(e){return!e.nullOrigin&&(!u.isOpera()&&a.enabled)},r.transportName="xhr-streaming",r.roundTrips=2,r.needBody=!!n.document,t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:57}],43:[function(e,t,n){(function(e){"use strict";e.crypto&&e.crypto.getRandomValues?t.exports.randomBytes=function(t){var n=new Uint8Array(t);return e.crypto.getRandomValues(n),n}:t.exports.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(256*Math.random());return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(e,t,n){(function(e){"use strict";t.exports={isOpera:function(){return e.navigator&&/opera/i.test(e.navigator.userAgent)},isKonqueror:function(){return e.navigator&&/konqueror/i.test(e.navigator.userAgent)},hasDomain:function(){if(!e.document)return!0;try{return!!e.document.domain}catch(e){return!1}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(e,t,n){"use strict";var r,o=e("json3"),s=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,i=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};t.exports={quote:function(e){var t=o.stringify(e);return s.lastIndex=0,s.test(t)?(r||(r=i(s)),t.replace(s,function(e){return r[e]})):t}}},{json3:58}],46:[function(e,t,n){(function(n){"use strict";var r=e("./random"),o={},s=!1,i=n.chrome&&n.chrome.app&&n.chrome.app.runtime;t.exports={attachEvent:function(e,t){"undefined"!=typeof n.addEventListener?n.addEventListener(e,t,!1):n.document&&n.attachEvent&&(n.document.attachEvent("on"+e,t),n.attachEvent("on"+e,t))},detachEvent:function(e,t){"undefined"!=typeof n.addEventListener?n.removeEventListener(e,t,!1):n.document&&n.detachEvent&&(n.document.detachEvent("on"+e,t),n.detachEvent("on"+e,t))},unloadAdd:function(e){if(i)return null;var t=r.string(8);return o[t]=e,s&&setTimeout(this.triggerUnloadCallbacks,0),t},unloadDel:function(e){e in o&&delete o[e]},triggerUnloadCallbacks:function(){for(var e in o)o[e](),delete o[e]}};var a=function(){s||(s=!0,t.exports.triggerUnloadCallbacks())};i||t.exports.attachEvent("unload",a)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./random":50}],47:[function(e,t,n){(function(n,r){"use strict";var o=e("./event"),s=e("json3"),i=e("./browser"),a=function(){};"production"!==n.env.NODE_ENV&&(a=e("debug")("sockjs-client:utils:iframe")),t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){t.exports.WPrefix in r||(r[t.exports.WPrefix]={})},postMessage:function(e,n){r.parent!==r?r.parent.postMessage(s.stringify({windowId:t.exports.currentWindowId,type:e,data:n||""}),"*"):a("Cannot postMessage, no parent window.",e,n)},createIframe:function(e,t){var n,s,i=r.document.createElement("iframe"),c=function(){a("unattach"),clearTimeout(n);try{i.onload=null}catch(e){}i.onerror=null},u=function(){a("cleanup"),i&&(c(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),o.unloadDel(s))},l=function(e){a("onerror",e),i&&(u(),t(e))},f=function(e,t){a("post",e,t);try{setTimeout(function(){i&&i.contentWindow&&i.contentWindow.postMessage(e,t)},0)}catch(e){}};return i.src=e,i.style.display="none",i.style.position="absolute",i.onerror=function(){l("onerror")},i.onload=function(){a("onload"),clearTimeout(n),n=setTimeout(function(){l("onload timeout")},2e3)},r.document.body.appendChild(i),n=setTimeout(function(){l("timeout")},15e3),s=o.unloadAdd(u),{post:f,cleanup:u,loaded:c}},createHtmlfile:function(e,n){var s,i,c,u=["Active"].concat("Object").join("X"),l=new r[u]("htmlfile"),f=function(){clearTimeout(s),c.onerror=null},d=function(){l&&(f(),o.unloadDel(i),c.parentNode.removeChild(c),c=l=null,CollectGarbage())},h=function(e){a("onerror",e),l&&(d(),n(e))},p=function(e,t){try{setTimeout(function(){c&&c.contentWindow&&c.contentWindow.postMessage(e,t)},0)}catch(e){}};l.open(),l.write('<html><script>document.domain="'+r.document.domain+'";</script></html>'),l.close(),l.parentWindow[t.exports.WPrefix]=r[t.exports.WPrefix];var m=l.createElement("div");return l.body.appendChild(m),c=l.createElement("iframe"),m.appendChild(c),c.src=e,c.onerror=function(){h("onerror")},s=setTimeout(function(){h("timeout")},15e3),i=o.unloadAdd(d),{post:p,cleanup:d,loaded:f}}},t.exports.iframeEnabled=!1,r.document&&(t.exports.iframeEnabled=("function"==typeof r.postMessage||"object"==typeof r.postMessage)&&!i.isKonqueror())}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":44,"./event":46,debug:54,json3:58}],48:[function(e,t,n){(function(e){"use strict";var n={};["log","debug","warn"].forEach(function(t){var r;try{r=e.console&&e.console[t]&&e.console[t].apply}catch(e){}n[t]=r?function(){return e.console[t].apply(e.console,arguments)}:"log"===t?function(){}:n.log}),t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(e,t,n){"use strict";t.exports={isObject:function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}}},{}],50:[function(e,t,n){"use strict";var r=e("crypto"),o="abcdefghijklmnopqrstuvwxyz012345";t.exports={string:function(e){for(var t=o.length,n=r.randomBytes(e),s=[],i=0;i<e;i++)s.push(o.substr(n[i]%t,1));return s.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,n=new Array(t+1).join("0");return(n+this.number(e)).slice(-t)}}},{crypto:43}],51:[function(e,t,n){(function(n){"use strict";var r=function(){};"production"!==n.env.NODE_ENV&&(r=e("debug")("sockjs-client:utils:transport")),t.exports=function(e){return{filterToEnabled:function(t,n){var o={main:[],facade:[]};return t?"string"==typeof t&&(t=[t]):t=[],e.forEach(function(e){if(e)return"websocket"===e.transportName&&n.websocket===!1?void r("disabled from server","websocket"):t.length&&t.indexOf(e.transportName)===-1?void r("not in whitelist",e.transportName):void(e.enabled(n)?(r("enabled",e.transportName),o.main.push(e),e.facadeTransport&&o.facade.push(e.facadeTransport)):r("disabled",e.transportName))}),o}}}}).call(this,{env:{}})},{debug:54}],52:[function(e,t,n){(function(n){"use strict";var r=e("url-parse"),o=function(){};"production"!==n.env.NODE_ENV&&(o=e("debug")("sockjs-client:utils:url")),t.exports={getOrigin:function(e){if(!e)return null;var t=new r(e);if("file:"===t.protocol)return null;var n=t.port;return n||(n="https:"===t.protocol?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return o("same",e,t,n),n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)}}}).call(this,{env:{}})},{debug:54,"url-parse":59}],53:[function(e,t,n){t.exports="1.1.1"},{}],54:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,s=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(s=o))}),e.splice(s,0,r),e}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function i(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function a(){var e;try{e=n.storage.debug}catch(e){}return e}function c(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=s,n.formatArgs=o,n.save=i,n.load=a,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(a())},{"./debug":55}],55:[function(e,t,n){function r(){return n.colors[l++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,s=t-(u||t);e.diff=s,e.prev=u,e.curr=t,u=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var i=Array.prototype.slice.call(arguments);i[0]=n.coerce(i[0]),"string"!=typeof i[0]&&(i=["%o"].concat(i));var a=0;i[0]=i[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;a++;var o=n.formatters[r];if("function"==typeof o){var s=i[a];t=o.call(e,s),i.splice(a,1),a--}return t}),"function"==typeof n.formatArgs&&(i=n.formatArgs.apply(e,i));var c=o.log||n.log||console.log.bind(console);c.apply(e,i)}t.enabled=!1,o.enabled=!0;var s=n.enabled(e)?o:t;return s.namespace=e,s}function s(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,o=0;o<r;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function i(){n.enable("")}function a(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o,n.coerce=c,n.disable=i,n.enable=s,n.enabled=a,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var u,l=0},{ms:56}],56:[function(e,t,n){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*f;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*c;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function o(e){return e>=l?Math.round(e/l)+"d":e>=u?Math.round(e/u)+"h":e>=c?Math.round(e/c)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function s(e){return i(e,l,"day")||i(e,u,"hour")||i(e,c,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,c=60*a,u=60*c,l=24*u,f=365.25*l;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t.long?s(e):o(e)}},{}],57:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],58:[function(t,n,r){(function(t){(function(){function o(e,t){function n(e){if(n[e]!==g)return n[e];var o;if("bug-string-char-index"==e)o="a"!="a"[0];else if("json"==e)o=n("json-stringify")&&n("json-parse");else{var i,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var c=t.stringify,l="function"==typeof c&&y;if(l){(i=function(){return 1}).toJSON=i;try{l="0"===c(0)&&"0"===c(new r)&&'""'==c(new s)&&c(b)===g&&c(g)===g&&c()===g&&"1"===c(i)&&"[1]"==c([i])&&"[null]"==c([g])&&"null"==c(null)&&"[null,null,null]"==c([g,b,null])&&c({a:[i,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===c(null,i)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new u(-1))}catch(e){l=!1}}o=l}if("json-parse"==e){var f=t.parse;if("function"==typeof f)try{if(0===f("0")&&!f(!1)){i=f(a);var d=5==i.a.length&&1===i.a[0];if(d){try{d=!f('"\t"')}catch(e){}if(d)try{d=1!==f("01")}catch(e){}if(d)try{d=1!==f("1.")}catch(e){}}}}catch(e){d=!1}o=d}}return n[e]=!!o}e||(e=c.Object()),t||(t=c.Object());var r=e.Number||c.Number,s=e.String||c.String,a=e.Object||c.Object,u=e.Date||c.Date,l=e.SyntaxError||c.SyntaxError,f=e.TypeError||c.TypeError,d=e.Math||c.Math,h=e.JSON||c.JSON;"object"==typeof h&&h&&(t.stringify=h.stringify,t.parse=h.parse);var p,m,g,v=a.prototype,b=v.toString,y=new u(-0xc782b5b800cec);try{y=y.getUTCFullYear()==-109252&&0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(e){}if(!n("json")){var x="[object Function]",w="[object Date]",_="[object Number]",T="[object String]",S="[object Array]",O="[object Boolean]",D=n("bug-string-char-index");if(!y)var C=d.floor,k=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(e,t){return k[t]+365*(e-1970)+C((e-1969+(t=+(t>1)))/4)-C((e-1901+t)/100)+C((e-1601+t)/400)};if((p=v.hasOwnProperty)||(p=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=b?p=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,p=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,p.call(this,e)}),m=function(e,t){var n,r,o,s=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(o in r)p.call(r,o)&&s++;return n=r=null,s?m=2==s?function(e,t){var n,r={},o=b.call(e)==x;for(n in e)o&&"prototype"==n||p.call(r,n)||!(r[n]=1)||!p.call(e,n)||t(n)}:function(e,t){var n,r,o=b.call(e)==x;for(n in e)o&&"prototype"==n||!p.call(e,n)||(r="constructor"===n)||t(n);(r||p.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(e,t){var n,o,s=b.call(e)==x,a=!s&&"function"!=typeof e.constructor&&i[typeof e.hasOwnProperty]&&e.hasOwnProperty||p;for(n in e)s&&"prototype"==n||!a.call(e,n)||t(n);for(o=r.length;n=r[--o];a.call(e,n)&&t(n));}),m(e,t)},!n("json-stringify")){var M={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},j="000000",P=function(e,t){return(j+(t||0)).slice(-e)},N="\\u00",I=function(e){for(var t='"',n=0,r=e.length,o=!D||r>10,s=o&&(D?e.split(""):e);n<r;n++){var i=e.charCodeAt(n);switch(i){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=M[i];break;default:if(i<32){t+=N+P(2,i.toString(16));break}t+=o?s[n]:e.charAt(n)}}return t+'"'},A=function(e,t,n,r,o,s,i){var a,c,u,l,d,h,v,y,x,D,k,M,j,N,L,F;try{a=t[e]}catch(e){}if("object"==typeof a&&a)if(c=b.call(a),c!=w||p.call(a,"toJSON"))"function"==typeof a.toJSON&&(c!=_&&c!=T&&c!=S||p.call(a,"toJSON"))&&(a=a.toJSON(e));else if(a>-1/0&&a<1/0){if(E){for(d=C(a/864e5),u=C(d/365.2425)+1970-1;E(u+1,0)<=d;u++);for(l=C((d-E(u,0))/30.42);E(u,l+1)<=d;l++);d=1+d-E(u,l),h=(a%864e5+864e5)%864e5,v=C(h/36e5)%24,y=C(h/6e4)%60,x=C(h/1e3)%60,D=h%1e3}else u=a.getUTCFullYear(),l=a.getUTCMonth(),d=a.getUTCDate(),v=a.getUTCHours(),y=a.getUTCMinutes(),x=a.getUTCSeconds(),D=a.getUTCMilliseconds();a=(u<=0||u>=1e4?(u<0?"-":"+")+P(6,u<0?-u:u):P(4,u))+"-"+P(2,l+1)+"-"+P(2,d)+"T"+P(2,v)+":"+P(2,y)+":"+P(2,x)+"."+P(3,D)+"Z"}else a=null;if(n&&(a=n.call(t,e,a)),null===a)return"null";if(c=b.call(a),c==O)return""+a;if(c==_)return a>-1/0&&a<1/0?""+a:"null";if(c==T)return I(""+a);if("object"==typeof a){for(N=i.length;N--;)if(i[N]===a)throw f();if(i.push(a),k=[],L=s,s+=o,c==S){for(j=0,N=a.length;j<N;j++)M=A(j,a,n,r,o,s,i),k.push(M===g?"null":M);F=k.length?o?"[\n"+s+k.join(",\n"+s)+"\n"+L+"]":"["+k.join(",")+"]":"[]"}else m(r||a,function(e){var t=A(e,a,n,r,o,s,i);t!==g&&k.push(I(e)+":"+(o?" ":"")+t)}),F=k.length?o?"{\n"+s+k.join(",\n"+s)+"\n"+L+"}":"{"+k.join(",")+"}":"{}";return i.pop(),F}};t.stringify=function(e,t,n){var r,o,s,a;if(i[typeof t]&&t)if((a=b.call(t))==x)o=t;else if(a==S){s={};for(var c,u=0,l=t.length;u<l;c=t[u++],a=b.call(c),(a==T||a==_)&&(s[c]=1));}if(n)if((a=b.call(n))==_){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else a==T&&(r=n.length<=10?n:n.slice(0,10));return A("",(c={},c[""]=e,c),o,s,r,"",[])}}if(!n("json-parse")){var L,F,W=s.fromCharCode,$={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},H=function(){throw L=F=null,l()},R=function(){for(var e,t,n,r,o,s=F,i=s.length;L<i;)switch(o=s.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=D?s.charAt(L):s[L],L++,e;case 34:for(e="@",L++;L<i;)if(o=s.charCodeAt(L),o<32)H();else if(92==o)switch(o=s.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=$[o],L++;break;case 117:for(t=++L,n=L+4;L<n;L++)o=s.charCodeAt(L),o>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||H();e+=W("0x"+s.slice(t,L));break;default:H()}else{if(34==o)break;for(o=s.charCodeAt(L),t=L;o>=32&&92!=o&&34!=o;)o=s.charCodeAt(++L);e+=s.slice(t,L)}if(34==s.charCodeAt(L))return L++,e;H();default:if(t=L,45==o&&(r=!0,o=s.charCodeAt(++L)),o>=48&&o<=57){for(48==o&&(o=s.charCodeAt(L+1),o>=48&&o<=57)&&H(),r=!1;L<i&&(o=s.charCodeAt(L),o>=48&&o<=57);L++);if(46==s.charCodeAt(L)){for(n=++L;n<i&&(o=s.charCodeAt(n),o>=48&&o<=57);n++);n==L&&H(),L=n}if(o=s.charCodeAt(L),101==o||69==o){for(o=s.charCodeAt(++L),43!=o&&45!=o||L++,n=L;n<i&&(o=s.charCodeAt(n),o>=48&&o<=57);n++);n==L&&H(),L=n}return+s.slice(t,L)}if(r&&H(),"true"==s.slice(L,L+4))return L+=4,!0;if("false"==s.slice(L,L+5))return L+=5,!1;if("null"==s.slice(L,L+4))return L+=4,null;H()}return"$"},J=function(e){var t,n;if("$"==e&&H(),"string"==typeof e){if("@"==(D?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=R(),"]"!=e;n||(n=!0))n&&(","==e?(e=R(),"]"==e&&H()):H()),","==e&&H(),t.push(J(e));return t}if("{"==e){for(t={};e=R(),"}"!=e;n||(n=!0))n&&(","==e?(e=R(),"}"==e&&H()):H()),","!=e&&"string"==typeof e&&"@"==(D?e.charAt(0):e[0])&&":"==R()||H(),t[e.slice(1)]=J(R());return t}H()}return e},U=function(e,t,n){var r=Y(e,t,n);r===g?delete e[t]:e[t]=r},Y=function(e,t,n){var r,o=e[t];if("object"==typeof o&&o)if(b.call(o)==S)for(r=o.length;r--;)U(o,r,n);else m(o,function(e){
U(o,e,n)});return n.call(e,t,o)};t.parse=function(e,t){var n,r;return L=0,F=""+e,n=J(R()),"$"!=R()&&H(),L=F=null,t&&b.call(t)==x?Y((r={},r[""]=n,r),"",t):n}}}return t.runInContext=o,t}var s="function"==typeof e&&e.amd,i={function:!0,object:!0},a=i[typeof r]&&r&&!r.nodeType&&r,c=i[typeof window]&&window||this,u=a&&i[typeof n]&&n&&!n.nodeType&&"object"==typeof t&&t;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(c=u),a&&!s)o(c,a);else{var l=c.JSON,f=c.JSON3,d=!1,h=o(c,c.JSON3={noConflict:function(){return d||(d=!0,c.JSON=l,c.JSON3=f,l=f=null),h}});c.JSON={parse:h.parse,stringify:h.stringify}}s&&e(function(){return h})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(e,t,n){"use strict";function r(e){var t=u.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]?t[3]:""}}function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);var u,f,d,h,p=c.test(e),m=typeof t,g=this,v=0;"object"!==m&&"string"!==m&&(n=t,t=null),n&&"function"!=typeof n&&(n=a.parse),t=i(t);var b=r(e);for(g.protocol=b.protocol||t.protocol||"",g.slashes=b.slashes||t.slashes,e=b.rest;v<l.length;v++)f=l[v],u=f[0],h=f[1],u!==u?g[h]=e:"string"==typeof u?~(d=e.indexOf(u))&&("number"==typeof f[2]?(g[h]=e.slice(0,d),e=e.slice(d+f[2])):(g[h]=e.slice(d),e=e.slice(0,d))):(d=u.exec(e))&&(g[h]=d[1],e=e.slice(0,e.length-d[0].length)),g[h]=g[h]||(f[3]||"port"===h&&p?t[h]||"":""),f[4]&&(g[h]=g[h].toLowerCase());n&&(g.query=n(g.query)),s(g.port,g.protocol)||(g.host=g.hostname,g.port=""),g.username=g.password="",g.auth&&(f=g.auth.split(":"),g.username=f[0]||"",g.password=f[1]||""),g.href=g.toString()}var s=e("requires-port"),i=e("./lolcation"),a=e("querystringify"),c=/^\/(?!\/)/,u=/^([a-z0-9.+-]+:)?(\/\/)?(.*)$/i,l=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/\:(\d+)$/,"port"],[NaN,"hostname",void 0,1,1]];o.prototype.set=function(e,t,n){var r=this;return"query"===e?("string"==typeof t&&t.length&&(t=(n||a.parse)(t)),r[e]=t):"port"===e?(r[e]=t,s(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="")):"hostname"===e?(r[e]=t,r.port&&(t+=":"+r.port),r.host=t):"host"===e?(r[e]=t,/\:\d+/.test(t)&&(t=t.split(":"),r.hostname=t[0],r.port=t[1])):"protocol"===e?(r.protocol=t,r.slashes=!n):r[e]=t,r.href=r.toString(),r},o.prototype.toString=function(e){e&&"function"==typeof e||(e=a.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.hostname,n.port&&(o+=":"+n.port),o+=n.pathname,t="object"==typeof n.query?e(n.query):n.query,t&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o},o.qs=a,o.location=i,t.exports=o},{"./lolcation":60,querystringify:61,"requires-port":62}],60:[function(e,t,n){(function(n){"use strict";var r,o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s={hash:1,query:1};t.exports=function(t){t=t||n.location||{},r=r||e("./");var i,a={},c=typeof t;if("blob:"===t.protocol)a=new r(unescape(t.pathname),{});else if("string"===c){a=new r(t,{});for(i in s)delete a[i]}else if("object"===c){for(i in t)i in s||(a[i]=t[i]);void 0===a.slashes&&(a.slashes=o.test(t.href))}return a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":59}],61:[function(e,t,n){"use strict";function r(e){for(var t,n=/([^=?&]+)=([^&]*)/g,r={};t=n.exec(e);r[decodeURIComponent(t[1])]=decodeURIComponent(t[2]));return r}function o(e,t){t=t||"";var n=[];"string"!=typeof t&&(t="?");for(var r in e)s.call(e,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.length?t+n.join("&"):""}var s=Object.prototype.hasOwnProperty;n.stringify=o,n.parse=r},{}],62:[function(e,t,n){"use strict";t.exports=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},{}]},{},[1])(1)});
//# sourceMappingURL=../maps/scripts/loginapp-b5605bc944.js.map
